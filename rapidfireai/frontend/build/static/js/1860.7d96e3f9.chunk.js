(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[1860],{6695:function(t,i,e){"use strict";t.exports=function(t,i){var e=t.gl,s=o(e,h.vertex,h.fragment),r=o(e,h.pickVertex,h.pickFragment),n=a(e),u=a(e),c=a(e),d=a(e),p=new l(t,s,r,n,u,c,d);return p.update(i),t.addObject(p),p};var s=e(62683),r=e(66129),n=e(32237),o=e(79810),a=e(99795),h=e(90469);function l(t,i,e,s,r,n,o){this.plot=t,this.shader=i,this.pickShader=e,this.positionBuffer=s,this.weightBuffer=r,this.colorBuffer=n,this.idBuffer=o,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u=l.prototype,c=[0,0,1,0,0,1,1,0,1,1,0,1];u.draw=function(){var t=[1,0,0,0,1,0,0,0,1];return function(){var i=this.plot,e=this.shader,s=this.bounds,r=this.numVertices;if(!(r<=0)){var n=i.gl,o=i.dataBox,a=s[2]-s[0],h=s[3]-s[1],l=o[2]-o[0],u=o[3]-o[1];t[0]=2*a/l,t[4]=2*h/u,t[6]=2*(s[0]-o[0])/l-1,t[7]=2*(s[1]-o[1])/u-1,e.bind();var c=e.uniforms;c.viewTransform=t,c.shape=this.shape;var d=e.attributes;this.positionBuffer.bind(),d.position.pointer(),this.weightBuffer.bind(),d.weight.pointer(n.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),d.color.pointer(n.UNSIGNED_BYTE,!0),n.drawArrays(n.TRIANGLES,0,r)}}}(),u.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],i=[0,0,0,0];return function(e){var s=this.plot,r=this.pickShader,n=this.bounds,o=this.numVertices;if(!(o<=0)){var a=s.gl,h=s.dataBox,l=n[2]-n[0],u=n[3]-n[1],c=h[2]-h[0],d=h[3]-h[1];t[0]=2*l/c,t[4]=2*u/d,t[6]=2*(n[0]-h[0])/c-1,t[7]=2*(n[1]-h[1])/d-1;for(var p=0;p<4;++p)i[p]=e>>8*p&255;this.pickOffset=e,r.bind();var f=r.uniforms;f.viewTransform=t,f.pickOffset=i,f.shape=this.shape;var v=r.attributes;return this.positionBuffer.bind(),v.position.pointer(),this.weightBuffer.bind(),v.weight.pointer(a.UNSIGNED_BYTE,!1),this.idBuffer.bind(),v.pickId.pointer(a.UNSIGNED_BYTE,!1),a.drawArrays(a.TRIANGLES,0,o),e+this.shape[0]*this.shape[1]}}}(),u.pick=function(t,i,e){var s=this.pickOffset,r=this.shape[0]*this.shape[1];if(e<s||e>=s+r)return null;var n=e-s,o=this.xData,a=this.yData;return{object:this,pointId:n,dataCoord:[o[n%this.shape[0]],a[n/this.shape[0]|0]]}},u.update=function(t){var i=(t=t||{}).shape||[0,0],e=t.x||r(i[0]),o=t.y||r(i[1]),a=t.z||new Float32Array(i[0]*i[1]),h=!1!==t.zsmooth;this.xData=e,this.yData=o;var l,u,d,p,f=t.colorLevels||[0],v=t.colorValues||[0,0,0,1],g=f.length,b=this.bounds;h?(l=b[0]=e[0],u=b[1]=o[0],d=b[2]=e[e.length-1],p=b[3]=o[o.length-1]):(l=b[0]=e[0]+(e[1]-e[0])/2,u=b[1]=o[0]+(o[1]-o[0])/2,d=b[2]=e[e.length-1]+(e[e.length-1]-e[e.length-2])/2,p=b[3]=o[o.length-1]+(o[o.length-1]-o[o.length-2])/2);var x=1/(d-l),m=1/(p-u),k=i[0],y=i[1];this.shape=[k,y];var w=(h?(k-1)*(y-1):k*y)*(c.length>>>1);this.numVertices=w;for(var M=n.mallocUint8(4*w),B=n.mallocFloat32(2*w),A=n.mallocUint8(2*w),L=n.mallocUint32(w),C=0,S=h?k-1:k,E=h?y-1:y,_=0;_<E;++_){var T,R;h?(T=m*(o[_]-u),R=m*(o[_+1]-u)):(T=_<y-1?m*(o[_]-(o[_+1]-o[_])/2-u):m*(o[_]-(o[_]-o[_-1])/2-u),R=_<y-1?m*(o[_]+(o[_+1]-o[_])/2-u):m*(o[_]+(o[_]-o[_-1])/2-u));for(var O=0;O<S;++O){var I,P;h?(I=x*(e[O]-l),P=x*(e[O+1]-l)):(I=O<k-1?x*(e[O]-(e[O+1]-e[O])/2-l):x*(e[O]-(e[O]-e[O-1])/2-l),P=O<k-1?x*(e[O]+(e[O+1]-e[O])/2-l):x*(e[O]+(e[O]-e[O-1])/2-l));for(var F=0;F<c.length;F+=2){var N,z,D,V,j=c[F],W=c[F+1],U=a[h?(_+W)*k+(O+j):_*k+O],H=s.le(f,U);if(H<0)N=v[0],z=v[1],D=v[2],V=v[3];else if(H===g-1)N=v[4*g-4],z=v[4*g-3],D=v[4*g-2],V=v[4*g-1];else{var G=(U-f[H])/(f[H+1]-f[H]),q=1-G,Y=4*H,X=4*(H+1);N=q*v[Y]+G*v[X],z=q*v[Y+1]+G*v[X+1],D=q*v[Y+2]+G*v[X+2],V=q*v[Y+3]+G*v[X+3]}M[4*C]=255*N,M[4*C+1]=255*z,M[4*C+2]=255*D,M[4*C+3]=255*V,B[2*C]=.5*I+.5*P,B[2*C+1]=.5*T+.5*R,A[2*C]=j,A[2*C+1]=W,L[C]=_*k+O,C+=1}}}this.positionBuffer.update(B),this.weightBuffer.update(A),this.colorBuffer.update(M),this.idBuffer.update(L),n.free(B),n.free(M),n.free(A),n.free(L)},u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},90469:function(t,i,e){"use strict";var s=e(14955);t.exports={fragment:s("./shaders/fragment.glsl"),vertex:s("./shaders/vertex.glsl"),pickFragment:s("./shaders/pick-fragment.glsl"),pickVertex:s("./shaders/pick-vertex.glsl")}},90488:function(t,i,e){var s=e(14955),r=e(79810),n=s("../shaders/vertex.glsl"),o=s("../shaders/fragment.glsl"),a=s("../shaders/pick.glsl"),h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];i.createShader=function(t){return r(t,n,o,null,h)},i.createPickShader=function(t){return r(t,n,a,null,h)}},29977:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl||t.scene&&t.scene.gl,e=c(i);e.attributes.position.location=0,e.attributes.nextPosition.location=1,e.attributes.arcLength.location=2,e.attributes.lineWidth.location=3,e.attributes.color.location=4;var o=d(i);o.attributes.position.location=0,o.attributes.nextPosition.location=1,o.attributes.arcLength.location=2,o.attributes.lineWidth.location=3,o.attributes.color.location=4;for(var a=s(i),h=r(i,[{buffer:a,size:3,offset:0,stride:48},{buffer:a,size:3,offset:12,stride:48},{buffer:a,size:1,offset:24,stride:48},{buffer:a,size:1,offset:28,stride:48},{buffer:a,size:4,offset:32,stride:48}]),u=l(new Array(1024),[256,1,4]),p=0;p<1024;++p)u.data[p]=255;var f=n(i,u);f.wrap=i.REPEAT;var v=new b(i,e,o,a,h,f);return v.update(t),v};var s=e(99795),r=e(66405),n=e(89407),o=new Uint8Array(4),a=new Float32Array(o.buffer);var h=e(62683),l=e(75501),u=e(90488),c=u.createShader,d=u.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,i){for(var e=0,s=0;s<3;++s){var r=t[s]-i[s];e+=r*r}return Math.sqrt(e)}function v(t){for(var i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],e=0;e<3;++e)i[0][e]=Math.max(t[0][e],i[0][e]),i[1][e]=Math.min(t[1][e],i[1][e]);return i}function g(t,i,e,s){this.arcLength=t,this.position=i,this.index=e,this.dataCoordinate=s}function b(t,i,e,s,r,n){this.gl=t,this.shader=i,this.pickShader=e,this.buffer=s,this.vao=r,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=n,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var x=b.prototype;x.isTransparent=function(){return this.hasAlpha},x.isOpaque=function(){return!this.hasAlpha},x.pickSlots=1,x.setPickBase=function(t){this.pickId=t},x.drawTransparent=x.draw=function(t){if(this.vertexCount){var i=this.gl,e=this.shader,s=this.vao;e.bind(),e.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,clipBounds:v(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[i.drawingBufferWidth,i.drawingBufferHeight],pixelRatio:this.pixelRatio},s.bind(),s.draw(i.TRIANGLE_STRIP,this.vertexCount),s.unbind()}},x.drawPick=function(t){if(this.vertexCount){var i=this.gl,e=this.pickShader,s=this.vao;e.bind(),e.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,pickId:this.pickId,clipBounds:v(this.clipBounds),screenShape:[i.drawingBufferWidth,i.drawingBufferHeight],pixelRatio:this.pixelRatio},s.bind(),s.draw(i.TRIANGLE_STRIP,this.vertexCount),s.unbind()}},x.update=function(t){var i,e;this.dirty=!0;var s=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var r=[],n=[],o=[],a=0,u=0,c=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],d=t.position||t.positions;if(d){var p=t.color||t.colors||[0,0,0,1],v=t.lineWidth||1,g=!1;t:for(i=1;i<d.length;++i){var b,x,m,k=d[i-1],y=d[i];for(n.push(a),o.push(k.slice()),e=0;e<3;++e){if(isNaN(k[e])||isNaN(y[e])||!isFinite(k[e])||!isFinite(y[e])){if(!s&&r.length>0){for(var w=0;w<24;++w)r.push(r[r.length-12]);u+=2,g=!0}continue t}c[0][e]=Math.min(c[0][e],k[e],y[e]),c[1][e]=Math.max(c[1][e],k[e],y[e])}Array.isArray(p[0])?(b=p.length>i-1?p[i-1]:p.length>0?p[p.length-1]:[0,0,0,1],x=p.length>i?p[i]:p.length>0?p[p.length-1]:[0,0,0,1]):b=x=p,3===b.length&&(b=[b[0],b[1],b[2],1]),3===x.length&&(x=[x[0],x[1],x[2],1]),!this.hasAlpha&&b[3]<1&&(this.hasAlpha=!0),m=Array.isArray(v)?v.length>i-1?v[i-1]:v.length>0?v[v.length-1]:[0,0,0,1]:v;var M=a;if(a+=f(k,y),g){for(e=0;e<2;++e)r.push(k[0],k[1],k[2],y[0],y[1],y[2],M,m,b[0],b[1],b[2],b[3]);u+=2,g=!1}r.push(k[0],k[1],k[2],y[0],y[1],y[2],M,m,b[0],b[1],b[2],b[3],k[0],k[1],k[2],y[0],y[1],y[2],M,-m,b[0],b[1],b[2],b[3],y[0],y[1],y[2],k[0],k[1],k[2],a,-m,x[0],x[1],x[2],x[3],y[0],y[1],y[2],k[0],k[1],k[2],a,m,x[0],x[1],x[2],x[3]),u+=4}}if(this.buffer.update(r),n.push(a),o.push(d[d.length-1].slice()),this.bounds=c,this.vertexCount=u,this.points=o,this.arcLength=n,"dashes"in t){var B=t.dashes.slice();for(B.unshift(0),i=1;i<B.length;++i)B[i]=B[i-1]+B[i];var A=l(new Array(1024),[256,1,4]);for(i=0;i<256;++i){for(e=0;e<4;++e)A.set(i,0,e,0);1&h.le(B,B[B.length-1]*i/255)?A.set(i,0,0,0):A.set(i,0,0,255)}this.texture.setPixels(A)}},x.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},x.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var i=function(t,i,e,s){return o[0]=s,o[1]=e,o[2]=i,o[3]=t,a[0]}(t.value[0],t.value[1],t.value[2],0),e=h.le(this.arcLength,i);if(e<0)return null;if(e===this.arcLength.length-1)return new g(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),e);for(var s=this.points[e],r=this.points[Math.min(e+1,this.points.length-1)],n=(i-this.arcLength[e])/(this.arcLength[e+1]-this.arcLength[e]),l=1-n,u=[0,0,0],c=0;c<3;++c)u[c]=l*s[c]+n*r[c];var d=Math.min(n<.5?e:e+1,this.points.length-1);return new g(i,u,d,this.points[d])}},83450:function(t){t.exports=function(t,i){var e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],a=i[5],h=i[6],l=i[7],u=i[8],c=i[9],d=i[10],p=i[11],f=i[12],v=i[13],g=i[14],b=i[15];return t[0]=a*(d*b-p*g)-c*(h*b-l*g)+v*(h*p-l*d),t[1]=-(s*(d*b-p*g)-c*(r*b-n*g)+v*(r*p-n*d)),t[2]=s*(h*b-l*g)-a*(r*b-n*g)+v*(r*l-n*h),t[3]=-(s*(h*p-l*d)-a*(r*p-n*d)+c*(r*l-n*h)),t[4]=-(o*(d*b-p*g)-u*(h*b-l*g)+f*(h*p-l*d)),t[5]=e*(d*b-p*g)-u*(r*b-n*g)+f*(r*p-n*d),t[6]=-(e*(h*b-l*g)-o*(r*b-n*g)+f*(r*l-n*h)),t[7]=e*(h*p-l*d)-o*(r*p-n*d)+u*(r*l-n*h),t[8]=o*(c*b-p*v)-u*(a*b-l*v)+f*(a*p-l*c),t[9]=-(e*(c*b-p*v)-u*(s*b-n*v)+f*(s*p-n*c)),t[10]=e*(a*b-l*v)-o*(s*b-n*v)+f*(s*l-n*a),t[11]=-(e*(a*p-l*c)-o*(s*p-n*c)+u*(s*l-n*a)),t[12]=-(o*(c*g-d*v)-u*(a*g-h*v)+f*(a*d-h*c)),t[13]=e*(c*g-d*v)-u*(s*g-r*v)+f*(s*d-r*c),t[14]=-(e*(a*g-h*v)-o*(s*g-r*v)+f*(s*h-r*a)),t[15]=e*(a*d-h*c)-o*(s*d-r*c)+u*(s*h-r*a),t}},99548:function(t){t.exports=function(t){var i=new Float32Array(16);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}},48532:function(t){t.exports=function(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}},52649:function(t){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},71478:function(t){t.exports=function(t){var i=t[0],e=t[1],s=t[2],r=t[3],n=t[4],o=t[5],a=t[6],h=t[7],l=t[8],u=t[9],c=t[10],d=t[11],p=t[12],f=t[13],v=t[14],g=t[15];return(i*o-e*n)*(c*g-d*v)-(i*a-s*n)*(u*g-d*f)+(i*h-r*n)*(u*v-c*f)+(e*a-s*o)*(l*g-d*p)-(e*h-r*o)*(l*v-c*p)+(s*h-r*a)*(l*f-u*p)}},15838:function(t){t.exports=function(t,i){var e=i[0],s=i[1],r=i[2],n=i[3],o=e+e,a=s+s,h=r+r,l=e*o,u=s*o,c=s*a,d=r*o,p=r*a,f=r*h,v=n*o,g=n*a,b=n*h;return t[0]=1-c-f,t[1]=u+b,t[2]=d-g,t[3]=0,t[4]=u-b,t[5]=1-l-f,t[6]=p+v,t[7]=0,t[8]=d+g,t[9]=p-v,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},81859:function(t){t.exports=function(t,i,e){var s,r,n,o=e[0],a=e[1],h=e[2],l=Math.sqrt(o*o+a*a+h*h);if(Math.abs(l)<1e-6)return null;return o*=l=1/l,a*=l,h*=l,s=Math.sin(i),r=Math.cos(i),n=1-r,t[0]=o*o*n+r,t[1]=a*o*n+h*s,t[2]=h*o*n-a*s,t[3]=0,t[4]=o*a*n-h*s,t[5]=a*a*n+r,t[6]=h*a*n+o*s,t[7]=0,t[8]=o*h*n+a*s,t[9]=a*h*n-o*s,t[10]=h*h*n+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},44988:function(t){t.exports=function(t,i,e){var s=i[0],r=i[1],n=i[2],o=i[3],a=s+s,h=r+r,l=n+n,u=s*a,c=s*h,d=s*l,p=r*h,f=r*l,v=n*l,g=o*a,b=o*h,x=o*l;return t[0]=1-(p+v),t[1]=c+x,t[2]=d-b,t[3]=0,t[4]=c-x,t[5]=1-(u+v),t[6]=f+g,t[7]=0,t[8]=d+b,t[9]=f-g,t[10]=1-(u+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},71276:function(t){t.exports=function(t,i){return t[0]=i[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=i[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},74610:function(t){t.exports=function(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}},33887:function(t){t.exports=function(t,i){var e=Math.sin(i),s=Math.cos(i);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},96508:function(t){t.exports=function(t,i){var e=Math.sin(i),s=Math.cos(i);return t[0]=s,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},49757:function(t){t.exports=function(t,i){var e=Math.sin(i),s=Math.cos(i);return t[0]=s,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},37887:function(t){t.exports=function(t,i,e,s,r,n,o){var a=1/(e-i),h=1/(r-s),l=1/(n-o);return t[0]=2*n*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*h,t[6]=0,t[7]=0,t[8]=(e+i)*a,t[9]=(r+s)*h,t[10]=(o+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n*2*l,t[15]=0,t}},8559:function(t){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},9777:function(t,i,e){t.exports={create:e(52649),clone:e(99548),copy:e(48532),identity:e(8559),transpose:e(8106),invert:e(51213),adjoint:e(83450),determinant:e(71478),multiply:e(84669),translate:e(15359),scale:e(27631),rotate:e(89066),rotateX:e(3131),rotateY:e(36831),rotateZ:e(35922),fromRotation:e(81859),fromRotationTranslation:e(44988),fromScaling:e(71276),fromTranslation:e(74610),fromXRotation:e(33887),fromYRotation:e(96508),fromZRotation:e(49757),fromQuat:e(15838),frustum:e(37887),perspective:e(57071),perspectiveFromFieldOfView:e(23847),ortho:e(17312),lookAt:e(88019),str:e(47638)}},51213:function(t){t.exports=function(t,i){var e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],a=i[5],h=i[6],l=i[7],u=i[8],c=i[9],d=i[10],p=i[11],f=i[12],v=i[13],g=i[14],b=i[15],x=e*a-s*o,m=e*h-r*o,k=e*l-n*o,y=s*h-r*a,w=s*l-n*a,M=r*l-n*h,B=u*v-c*f,A=u*g-d*f,L=u*b-p*f,C=c*g-d*v,S=c*b-p*v,E=d*b-p*g,_=x*E-m*S+k*C+y*L-w*A+M*B;if(!_)return null;return _=1/_,t[0]=(a*E-h*S+l*C)*_,t[1]=(r*S-s*E-n*C)*_,t[2]=(v*M-g*w+b*y)*_,t[3]=(d*w-c*M-p*y)*_,t[4]=(h*L-o*E-l*A)*_,t[5]=(e*E-r*L+n*A)*_,t[6]=(g*k-f*M-b*m)*_,t[7]=(u*M-d*k+p*m)*_,t[8]=(o*S-a*L+l*B)*_,t[9]=(s*L-e*S-n*B)*_,t[10]=(f*w-v*k+b*x)*_,t[11]=(c*k-u*w-p*x)*_,t[12]=(a*A-o*C-h*B)*_,t[13]=(e*C-s*A+r*B)*_,t[14]=(v*m-f*y-g*x)*_,t[15]=(u*y-c*m+d*x)*_,t}},88019:function(t,i,e){var s=e(8559);t.exports=function(t,i,e,r){var n,o,a,h,l,u,c,d,p,f,v=i[0],g=i[1],b=i[2],x=r[0],m=r[1],k=r[2],y=e[0],w=e[1],M=e[2];if(Math.abs(v-y)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(b-M)<1e-6)return s(t);c=v-y,d=g-w,p=b-M,f=1/Math.sqrt(c*c+d*d+p*p),n=m*(p*=f)-k*(d*=f),o=k*(c*=f)-x*p,a=x*d-m*c,(f=Math.sqrt(n*n+o*o+a*a))?(n*=f=1/f,o*=f,a*=f):(n=0,o=0,a=0);h=d*a-p*o,l=p*n-c*a,u=c*o-d*n,(f=Math.sqrt(h*h+l*l+u*u))?(h*=f=1/f,l*=f,u*=f):(h=0,l=0,u=0);return t[0]=n,t[1]=h,t[2]=c,t[3]=0,t[4]=o,t[5]=l,t[6]=d,t[7]=0,t[8]=a,t[9]=u,t[10]=p,t[11]=0,t[12]=-(n*v+o*g+a*b),t[13]=-(h*v+l*g+u*b),t[14]=-(c*v+d*g+p*b),t[15]=1,t}},84669:function(t){t.exports=function(t,i,e){var s=i[0],r=i[1],n=i[2],o=i[3],a=i[4],h=i[5],l=i[6],u=i[7],c=i[8],d=i[9],p=i[10],f=i[11],v=i[12],g=i[13],b=i[14],x=i[15],m=e[0],k=e[1],y=e[2],w=e[3];return t[0]=m*s+k*a+y*c+w*v,t[1]=m*r+k*h+y*d+w*g,t[2]=m*n+k*l+y*p+w*b,t[3]=m*o+k*u+y*f+w*x,m=e[4],k=e[5],y=e[6],w=e[7],t[4]=m*s+k*a+y*c+w*v,t[5]=m*r+k*h+y*d+w*g,t[6]=m*n+k*l+y*p+w*b,t[7]=m*o+k*u+y*f+w*x,m=e[8],k=e[9],y=e[10],w=e[11],t[8]=m*s+k*a+y*c+w*v,t[9]=m*r+k*h+y*d+w*g,t[10]=m*n+k*l+y*p+w*b,t[11]=m*o+k*u+y*f+w*x,m=e[12],k=e[13],y=e[14],w=e[15],t[12]=m*s+k*a+y*c+w*v,t[13]=m*r+k*h+y*d+w*g,t[14]=m*n+k*l+y*p+w*b,t[15]=m*o+k*u+y*f+w*x,t}},17312:function(t){t.exports=function(t,i,e,s,r,n,o){var a=1/(i-e),h=1/(s-r),l=1/(n-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(i+e)*a,t[13]=(r+s)*h,t[14]=(o+n)*l,t[15]=1,t}},57071:function(t){t.exports=function(t,i,e,s,r){var n=1/Math.tan(i/2),o=1/(s-r);return t[0]=n/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+s)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*s*o,t[15]=0,t}},23847:function(t){t.exports=function(t,i,e,s){var r=Math.tan(i.upDegrees*Math.PI/180),n=Math.tan(i.downDegrees*Math.PI/180),o=Math.tan(i.leftDegrees*Math.PI/180),a=Math.tan(i.rightDegrees*Math.PI/180),h=2/(o+a),l=2/(r+n);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(o-a)*h*.5,t[9]=(r-n)*l*.5,t[10]=s/(e-s),t[11]=-1,t[12]=0,t[13]=0,t[14]=s*e/(e-s),t[15]=0,t}},89066:function(t){t.exports=function(t,i,e,s){var r,n,o,a,h,l,u,c,d,p,f,v,g,b,x,m,k,y,w,M,B,A,L,C,S=s[0],E=s[1],_=s[2],T=Math.sqrt(S*S+E*E+_*_);if(Math.abs(T)<1e-6)return null;S*=T=1/T,E*=T,_*=T,r=Math.sin(e),n=Math.cos(e),o=1-n,a=i[0],h=i[1],l=i[2],u=i[3],c=i[4],d=i[5],p=i[6],f=i[7],v=i[8],g=i[9],b=i[10],x=i[11],m=S*S*o+n,k=E*S*o+_*r,y=_*S*o-E*r,w=S*E*o-_*r,M=E*E*o+n,B=_*E*o+S*r,A=S*_*o+E*r,L=E*_*o-S*r,C=_*_*o+n,t[0]=a*m+c*k+v*y,t[1]=h*m+d*k+g*y,t[2]=l*m+p*k+b*y,t[3]=u*m+f*k+x*y,t[4]=a*w+c*M+v*B,t[5]=h*w+d*M+g*B,t[6]=l*w+p*M+b*B,t[7]=u*w+f*M+x*B,t[8]=a*A+c*L+v*C,t[9]=h*A+d*L+g*C,t[10]=l*A+p*L+b*C,t[11]=u*A+f*L+x*C,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t}},3131:function(t){t.exports=function(t,i,e){var s=Math.sin(e),r=Math.cos(e),n=i[4],o=i[5],a=i[6],h=i[7],l=i[8],u=i[9],c=i[10],d=i[11];i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t[4]=n*r+l*s,t[5]=o*r+u*s,t[6]=a*r+c*s,t[7]=h*r+d*s,t[8]=l*r-n*s,t[9]=u*r-o*s,t[10]=c*r-a*s,t[11]=d*r-h*s,t}},36831:function(t){t.exports=function(t,i,e){var s=Math.sin(e),r=Math.cos(e),n=i[0],o=i[1],a=i[2],h=i[3],l=i[8],u=i[9],c=i[10],d=i[11];i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t[0]=n*r-l*s,t[1]=o*r-u*s,t[2]=a*r-c*s,t[3]=h*r-d*s,t[8]=n*s+l*r,t[9]=o*s+u*r,t[10]=a*s+c*r,t[11]=h*s+d*r,t}},35922:function(t){t.exports=function(t,i,e){var s=Math.sin(e),r=Math.cos(e),n=i[0],o=i[1],a=i[2],h=i[3],l=i[4],u=i[5],c=i[6],d=i[7];i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t[0]=n*r+l*s,t[1]=o*r+u*s,t[2]=a*r+c*s,t[3]=h*r+d*s,t[4]=l*r-n*s,t[5]=u*r-o*s,t[6]=c*r-a*s,t[7]=d*r-h*s,t}},27631:function(t){t.exports=function(t,i,e){var s=e[0],r=e[1],n=e[2];return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=i[3]*s,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=i[7]*r,t[8]=i[8]*n,t[9]=i[9]*n,t[10]=i[10]*n,t[11]=i[11]*n,t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}},47638:function(t){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},15359:function(t){t.exports=function(t,i,e){var s,r,n,o,a,h,l,u,c,d,p,f,v=e[0],g=e[1],b=e[2];i===t?(t[12]=i[0]*v+i[4]*g+i[8]*b+i[12],t[13]=i[1]*v+i[5]*g+i[9]*b+i[13],t[14]=i[2]*v+i[6]*g+i[10]*b+i[14],t[15]=i[3]*v+i[7]*g+i[11]*b+i[15]):(s=i[0],r=i[1],n=i[2],o=i[3],a=i[4],h=i[5],l=i[6],u=i[7],c=i[8],d=i[9],p=i[10],f=i[11],t[0]=s,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=h,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=p,t[11]=f,t[12]=s*v+a*g+c*b+i[12],t[13]=r*v+h*g+d*b+i[13],t[14]=n*v+l*g+p*b+i[14],t[15]=o*v+u*g+f*b+i[15]);return t}},8106:function(t){t.exports=function(t,i){if(t===i){var e=i[1],s=i[2],r=i[3],n=i[6],o=i[7],a=i[11];t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=e,t[6]=i[9],t[7]=i[13],t[8]=s,t[9]=n,t[11]=i[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=i[0],t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=i[1],t[5]=i[5],t[6]=i[9],t[7]=i[13],t[8]=i[2],t[9]=i[6],t[10]=i[10],t[11]=i[14],t[12]=i[3],t[13]=i[7],t[14]=i[11],t[15]=i[15];return t}},88277:function(t,i,e){"use strict";var s=e(15853),r=e(15677);function n(t,i){for(var e=[0,0,0,0],s=0;s<4;++s)for(var r=0;r<4;++r)e[r]+=t[4*s+r]*i[s];return e}function o(t,i,e,s,r){for(var o=n(s,n(e,n(i,[t[0],t[1],t[2],1]))),a=0;a<3;++a)o[a]/=o[3];return[.5*r[0]*(1+o[0]),.5*r[1]*(1-o[1])]}function a(t,i){for(var e=[0,0,0],s=0;s<t.length;++s)for(var r=t[s],n=i[s],o=0;o<3;++o)e[o]+=n*r[o];return e}t.exports=function(t,i,e,n,h,l){if(1===t.length)return[0,t[0].slice()];for(var u=new Array(t.length),c=0;c<t.length;++c)u[c]=o(t[c],e,n,h,l);var d=0,p=1/0;for(c=0;c<u.length;++c){for(var f=0,v=0;v<2;++v)f+=Math.pow(u[c][v]-i[v],2);f<p&&(p=f,d=c)}var g=function(t,i){if(2===t.length){for(var e=0,n=0,o=0;o<2;++o)e+=Math.pow(i[o]-t[0][o],2),n+=Math.pow(i[o]-t[1][o],2);return(e=Math.sqrt(e))+(n=Math.sqrt(n))<1e-6?[1,0]:[n/(e+n),e/(n+e)]}if(3===t.length){var a=[0,0];return r(t[0],t[1],t[2],i,a),s(t,a)}return[]}(u,i),b=0;for(c=0;c<3;++c){if(g[c]<-.001||g[c]>1.0001)return null;b+=g[c]}if(Math.abs(b-1)>.001)return null;return[d,a(t,g),g]}},95623:function(t,i,e){var s=e(14955),r=s("./triangle-vertex.glsl"),n=s("./triangle-fragment.glsl"),o=s("./edge-vertex.glsl"),a=s("./edge-fragment.glsl"),h=s("./point-vertex.glsl"),l=s("./point-fragment.glsl"),u=s("./pick-vertex.glsl"),c=s("./pick-fragment.glsl"),d=s("./pick-point-vertex.glsl"),p=s("./contour-vertex.glsl"),f=s("./contour-fragment.glsl");i.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},i.wireShader={vertex:o,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},i.pointShader={vertex:h,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},i.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},i.pointPickShader={vertex:d,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},i.contourShader={vertex:p,fragment:f,attributes:[{name:"position",type:"vec3"}]}},14144:function(t,i,e){"use strict";var s=e(79810),r=e(99795),n=e(66405),o=e(89407),a=e(50489),h=e(84669),l=e(51213),u=e(75501),c=e(21808),d=e(36788),p=e(32237),f=e(95623),v=e(88277),g=f.meshShader,b=f.wireShader,x=f.pointShader,m=f.pickShader,k=f.pointPickShader,y=f.contourShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(t,i,e,s,r,n,o,a,h,l,u,c,d,p,f,v,g,b,x,m,k,y,M,B,A,L,C){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=i,this.dirty=!0,this.triShader=e,this.lineShader=s,this.pointShader=r,this.pickShader=n,this.pointPickShader=o,this.contourShader=a,this.trianglePositions=h,this.triangleColors=u,this.triangleNormals=d,this.triangleUVs=c,this.triangleIds=l,this.triangleVAO=p,this.triangleCount=0,this.lineWidth=1,this.edgePositions=f,this.edgeColors=g,this.edgeUVs=b,this.edgeIds=v,this.edgeVAO=x,this.edgeCount=0,this.pointPositions=m,this.pointColors=y,this.pointUVs=M,this.pointSizes=B,this.pointIds=k,this.pointVAO=A,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=L,this.contourVAO=C,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var B=M.prototype;function A(t,i){if(!i)return 1;if(!i.length)return 1;for(var e=0;e<i.length;++e){if(i.length<2)return 1;if(i[e][0]===t)return i[e][1];if(i[e][0]>t&&e>0){var s=(i[e][0]-t)/(i[e][0]-i[e-1][0]);return i[e][1]*(1-s)+s*i[e-1][1]}}return 1}function L(t){var i=s(t,x.vertex,x.fragment);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.pointSize.location=4,i}function C(t){var i=s(t,m.vertex,m.fragment);return i.attributes.position.location=0,i.attributes.id.location=1,i}function S(t){var i=s(t,k.vertex,k.fragment);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.pointSize.location=4,i}function E(t){var i=s(t,y.vertex,y.fragment);return i.attributes.position.location=0,i}B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(t){this.pickId=t},B.highlight=function(t){if(t&&this.contourEnable){for(var i=d(this.cells,this.intensity,t.intensity),e=i.cells,s=i.vertexIds,r=i.vertexWeights,n=e.length,o=p.mallocFloat32(6*n),a=0,h=0;h<n;++h)for(var l=e[h],u=0;u<2;++u){var c=l[0];2===l.length&&(c=l[u]);for(var f=s[c][0],v=s[c][1],g=r[c],b=1-g,x=this.positions[f],m=this.positions[v],k=0;k<3;++k)o[a++]=g*x[k]+b*m[k]}this.contourCount=a/3|0,this.contourPositions.update(o.subarray(0,a)),p.free(o)}else this.contourCount=0},B.update=function(t){t=t||{};var i=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=o(i,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=i.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=i.LINEAR,this.texture.setPixels(function(t,i){for(var e=c({colormap:t,nshades:256,format:"rgba"}),s=new Uint8Array(1024),r=0;r<256;++r){for(var n=e[r],o=0;o<3;++o)s[4*r+o]=n[o];s[4*r+3]=i?255*A(r/255,i):255*n[3]}return u(s,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var e=t.cells,s=t.positions;if(s&&e){var r=[],n=[],h=[],l=[],d=[],p=[],f=[],v=[],g=[],b=[],x=[],m=[],k=[],y=[];this.cells=e,this.positions=s;var w=t.vertexNormals,M=t.cellNormals,B=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,L=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!M&&(M=a.faceNormals(e,s,L)),M||w||(w=a.vertexNormals(e,s,B));var C=t.vertexColors,S=t.cellColors,E=t.meshColor||[1,1,1,1],_=t.vertexUVs,T=t.vertexIntensity,R=t.cellUVs,O=t.cellIntensity,I=1/0,P=-1/0;if(!_&&!R)if(T)if(t.vertexIntensityBounds)I=+t.vertexIntensityBounds[0],P=+t.vertexIntensityBounds[1];else for(var F=0;F<T.length;++F){var N=T[F];I=Math.min(I,N),P=Math.max(P,N)}else if(O)if(t.cellIntensityBounds)I=+t.cellIntensityBounds[0],P=+t.cellIntensityBounds[1];else for(F=0;F<O.length;++F){N=O[F];I=Math.min(I,N),P=Math.max(P,N)}else for(F=0;F<s.length;++F){N=s[F][2];I=Math.min(I,N),P=Math.max(P,N)}this.intensity=T||(O||function(t){for(var i=t.length,e=new Array(i),s=0;s<i;++s)e[s]=t[s][2];return e}(s)),this.pickVertex=!(O||S);var z=t.pointSizes,D=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(F=0;F<s.length;++F)for(var V=s[F],j=0;j<3;++j)!isNaN(V[j])&&isFinite(V[j])&&(this.bounds[0][j]=Math.min(this.bounds[0][j],V[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],V[j]));var W=0,U=0,H=0;t:for(F=0;F<e.length;++F){var G=e[F];switch(G.length){case 1:for(V=s[Y=G[0]],j=0;j<3;++j)if(isNaN(V[j])||!isFinite(V[j]))continue t;b.push(V[0],V[1],V[2]),X=C?C[Y]:S?S[F]:E,this.opacityscale&&T?n.push(X[0],X[1],X[2],this.opacity*A((T[Y]-I)/(P-I),this.opacityscale)):3===X.length?x.push(X[0],X[1],X[2],this.opacity):(x.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]<1&&(this.hasAlpha=!0)),Q=_?_[Y]:T?[(T[Y]-I)/(P-I),0]:R?R[F]:O?[(O[F]-I)/(P-I),0]:[(V[2]-I)/(P-I),0],m.push(Q[0],Q[1]),z?k.push(z[Y]):k.push(D),y.push(F),H+=1;break;case 2:for(j=0;j<2;++j){V=s[Y=G[j]];for(var q=0;q<3;++q)if(isNaN(V[q])||!isFinite(V[q]))continue t}for(j=0;j<2;++j){V=s[Y=G[j]];p.push(V[0],V[1],V[2]),X=C?C[Y]:S?S[F]:E,this.opacityscale&&T?n.push(X[0],X[1],X[2],this.opacity*A((T[Y]-I)/(P-I),this.opacityscale)):3===X.length?f.push(X[0],X[1],X[2],this.opacity):(f.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]<1&&(this.hasAlpha=!0)),Q=_?_[Y]:T?[(T[Y]-I)/(P-I),0]:R?R[F]:O?[(O[F]-I)/(P-I),0]:[(V[2]-I)/(P-I),0],v.push(Q[0],Q[1]),g.push(F)}U+=1;break;case 3:for(j=0;j<3;++j)for(V=s[Y=G[j]],q=0;q<3;++q)if(isNaN(V[q])||!isFinite(V[q]))continue t;for(j=0;j<3;++j){var Y,X,Q,Z;V=s[Y=G[2-j]];r.push(V[0],V[1],V[2]),(X=C?C[Y]:S?S[F]:E)?this.opacityscale&&T?n.push(X[0],X[1],X[2],this.opacity*A((T[Y]-I)/(P-I),this.opacityscale)):3===X.length?n.push(X[0],X[1],X[2],this.opacity):(n.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]<1&&(this.hasAlpha=!0)):n.push(.5,.5,.5,1),Q=_?_[Y]:T?[(T[Y]-I)/(P-I),0]:R?R[F]:O?[(O[F]-I)/(P-I),0]:[(V[2]-I)/(P-I),0],l.push(Q[0],Q[1]),Z=w?w[Y]:M[F],h.push(Z[0],Z[1],Z[2]),d.push(F)}W+=1}}this.pointCount=H,this.edgeCount=U,this.triangleCount=W,this.pointPositions.update(b),this.pointColors.update(x),this.pointUVs.update(m),this.pointSizes.update(k),this.pointIds.update(new Uint32Array(y)),this.edgePositions.update(p),this.edgeColors.update(f),this.edgeUVs.update(v),this.edgeIds.update(new Uint32Array(g)),this.trianglePositions.update(r),this.triangleColors.update(n),this.triangleUVs.update(l),this.triangleNormals.update(h),this.triangleIds.update(new Uint32Array(d))}},B.drawTransparent=B.draw=function(t){t=t||{};for(var i=this.gl,e=t.model||w,s=t.view||w,r=t.projection||w,n=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)n[0][o]=Math.max(n[0][o],this.clipBounds[0][o]),n[1][o]=Math.min(n[1][o],this.clipBounds[1][o]);var a={model:e,view:s,projection:r,inverseModel:w.slice(),clipBounds:n,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};a.inverseModel=l(a.inverseModel,a.model),i.disable(i.CULL_FACE),this.texture.bind(0);var u=new Array(16);h(u,a.view,a.model),h(u,a.projection,u),l(u,u);for(o=0;o<3;++o)a.eyePosition[o]=u[12+o]/u[15];var c,d=u[15];for(o=0;o<3;++o)d+=this.lightPosition[o]*u[4*o+3];for(o=0;o<3;++o){for(var p=u[12+o],f=0;f<3;++f)p+=u[4*f+o]*this.lightPosition[f];a.lightPosition[o]=p/d}this.triangleCount>0&&((c=this.triShader).bind(),c.uniforms=a,this.triangleVAO.bind(),i.drawArrays(i.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());this.edgeCount>0&&this.lineWidth>0&&((c=this.lineShader).bind(),c.uniforms=a,this.edgeVAO.bind(),i.lineWidth(this.lineWidth*this.pixelRatio),i.drawArrays(i.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());this.pointCount>0&&((c=this.pointShader).bind(),c.uniforms=a,this.pointVAO.bind(),i.drawArrays(i.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((c=this.contourShader).bind(),c.uniforms=a,this.contourVAO.bind(),i.drawArrays(i.LINES,0,this.contourCount),this.contourVAO.unbind())},B.drawPick=function(t){t=t||{};for(var i=this.gl,e=t.model||w,s=t.view||w,r=t.projection||w,n=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)n[0][o]=Math.max(n[0][o],this.clipBounds[0][o]),n[1][o]=Math.min(n[1][o],this.clipBounds[1][o]);this._model=[].slice.call(e),this._view=[].slice.call(s),this._projection=[].slice.call(r),this._resolution=[i.drawingBufferWidth,i.drawingBufferHeight];var a,h={model:e,view:s,projection:r,clipBounds:n,pickId:this.pickId/255};((a=this.pickShader).bind(),a.uniforms=h,this.triangleCount>0&&(this.triangleVAO.bind(),i.drawArrays(i.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),i.lineWidth(this.lineWidth*this.pixelRatio),i.drawArrays(i.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0)&&((a=this.pointPickShader).bind(),a.uniforms=h,this.pointVAO.bind(),i.drawArrays(i.POINTS,0,this.pointCount),this.pointVAO.unbind())},B.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var i=t.value[0]+256*t.value[1]+65536*t.value[2],e=this.cells[i],s=this.positions,r=new Array(e.length),n=0;n<e.length;++n)r[n]=s[e[n]];var o=t.coord[0],a=t.coord[1];if(!this.pickVertex){var h=this.positions[e[0]],l=this.positions[e[1]],u=this.positions[e[2]],c=[(h[0]+l[0]+u[0])/3,(h[1]+l[1]+u[1])/3,(h[2]+l[2]+u[2])/3];return{_cellCenter:!0,position:[o,a],index:i,cell:e,cellId:i,intensity:this.intensity[i],dataCoordinate:c}}var d=v(r,[o*this.pixelRatio,this._resolution[1]-a*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!d)return null;var p=d[2],f=0;for(n=0;n<e.length;++n)f+=p[n]*this.intensity[e[n]];return{position:d[1],index:e[d[0]],cell:e,cellId:i,intensity:f,dataCoordinate:this.positions[e[d[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=function(t,i){if(1===arguments.length&&(t=(i=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var e=function(t){var i=s(t,g.vertex,g.fragment);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.normal.location=4,i}(t),a=function(t){var i=s(t,b.vertex,b.fragment);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i}(t),h=L(t),l=C(t),c=S(t),d=E(t),p=o(t,u(new Uint8Array([255,255,255,255]),[1,1,4]));p.generateMipmap(),p.minFilter=t.LINEAR_MIPMAP_LINEAR,p.magFilter=t.LINEAR;var f=r(t),v=r(t),x=r(t),m=r(t),k=r(t),y=n(t,[{buffer:f,type:t.FLOAT,size:3},{buffer:k,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:v,type:t.FLOAT,size:4},{buffer:x,type:t.FLOAT,size:2},{buffer:m,type:t.FLOAT,size:3}]),w=r(t),B=r(t),A=r(t),_=r(t),T=n(t,[{buffer:w,type:t.FLOAT,size:3},{buffer:_,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:t.FLOAT,size:4},{buffer:A,type:t.FLOAT,size:2}]),R=r(t),O=r(t),I=r(t),P=r(t),F=r(t),N=n(t,[{buffer:R,type:t.FLOAT,size:3},{buffer:F,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:t.FLOAT,size:4},{buffer:I,type:t.FLOAT,size:2},{buffer:P,type:t.FLOAT,size:1}]),z=r(t),D=new M(t,p,e,a,h,l,c,d,f,k,v,x,m,y,w,_,B,A,T,R,F,O,I,P,N,z,n(t,[{buffer:z,type:t.FLOAT,size:3}]));return D.update(i),D}},81651:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl,e=s(i,[0,0,0,1,1,0,1,1]),a=r(i,n.boxVert,n.lineFrag);return new o(t,e,a)};var s=e(99795),r=e(79810),n=e(32692);function o(t,i,e){this.plot=t,this.vbo=i,this.shader=e}var a=o.prototype;a.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},a.drawBox=function(){var t=[0,0],i=[0,0];return function(e,s,r,n,o){var a=this.plot,h=this.shader,l=a.gl;t[0]=e,t[1]=s,i[0]=r,i[1]=n,h.uniforms.lo=t,h.uniforms.hi=i,h.uniforms.color=o,l.drawArrays(l.TRIANGLE_STRIP,0,4)}}(),a.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},24172:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl,e=s(i),n=r(i,o.gridVert,o.gridFrag),h=r(i,o.tickVert,o.gridFrag);return new a(t,e,n,h)};var s=e(99795),r=e(79810),n=e(62683),o=e(32692);function a(t,i,e,s){this.plot=t,this.vbo=i,this.shader=e,this.tickShader=s,this.ticks=[[],[]]}function h(t,i){return t-i}var l=a.prototype;l.draw=function(){var t=[0,0],i=[0,0],e=[0,0];return function(){for(var s=this.plot,r=this.vbo,n=this.shader,o=this.ticks,a=s.gl,h=s._tickBounds,l=s.dataBox,u=s.viewBox,c=s.gridLineWidth,d=s.gridLineColor,p=s.gridLineEnable,f=s.pixelRatio,v=0;v<2;++v){var g=h[v],b=h[v+2]-g,x=.5*(l[v+2]+l[v]),m=l[v+2]-l[v];i[v]=2*b/m,t[v]=2*(g-x)/m}n.bind(),r.bind(),n.attributes.dataCoord.pointer(),n.uniforms.dataShift=t,n.uniforms.dataScale=i;var k=0;for(v=0;v<2;++v){e[0]=e[1]=0,e[v]=1,n.uniforms.dataAxis=e,n.uniforms.lineWidth=c[v]/(u[v+2]-u[v])*f,n.uniforms.color=d[v];var y=6*o[v].length;p[v]&&y&&a.drawArrays(a.TRIANGLES,k,y),k+=y}}}(),l.drawTickMarks=function(){var t=[0,0],i=[0,0],e=[1,0],s=[0,1],r=[0,0],o=[0,0];return function(){for(var a=this.plot,l=this.vbo,u=this.tickShader,c=this.ticks,d=a.gl,p=a._tickBounds,f=a.dataBox,v=a.viewBox,g=a.pixelRatio,b=a.screenBox,x=b[2]-b[0],m=b[3]-b[1],k=v[2]-v[0],y=v[3]-v[1],w=0;w<2;++w){var M=p[w],B=p[w+2]-M,A=.5*(f[w+2]+f[w]),L=f[w+2]-f[w];i[w]=2*B/L,t[w]=2*(M-A)/L}i[0]*=k/x,t[0]*=k/x,i[1]*=y/m,t[1]*=y/m,u.bind(),l.bind(),u.attributes.dataCoord.pointer();var C=u.uniforms;C.dataShift=t,C.dataScale=i;var S=a.tickMarkLength,E=a.tickMarkWidth,_=a.tickMarkColor,T=6*c[0].length,R=Math.min(n.ge(c[0],(f[0]-p[0])/(p[2]-p[0]),h),c[0].length),O=Math.min(n.gt(c[0],(f[2]-p[0])/(p[2]-p[0]),h),c[0].length),I=0+6*R,P=6*Math.max(0,O-R),F=Math.min(n.ge(c[1],(f[1]-p[1])/(p[3]-p[1]),h),c[1].length),N=Math.min(n.gt(c[1],(f[3]-p[1])/(p[3]-p[1]),h),c[1].length),z=T+6*F,D=6*Math.max(0,N-F);r[0]=2*(v[0]-S[1])/x-1,r[1]=(v[3]+v[1])/m-1,o[0]=S[1]*g/x,o[1]=E[1]*g/m,D&&(C.color=_[1],C.tickScale=o,C.dataAxis=s,C.screenOffset=r,d.drawArrays(d.TRIANGLES,z,D)),r[0]=(v[2]+v[0])/x-1,r[1]=2*(v[1]-S[0])/m-1,o[0]=E[0]*g/x,o[1]=S[0]*g/m,P&&(C.color=_[0],C.tickScale=o,C.dataAxis=e,C.screenOffset=r,d.drawArrays(d.TRIANGLES,I,P)),r[0]=2*(v[2]+S[3])/x-1,r[1]=(v[3]+v[1])/m-1,o[0]=S[3]*g/x,o[1]=E[3]*g/m,D&&(C.color=_[3],C.tickScale=o,C.dataAxis=s,C.screenOffset=r,d.drawArrays(d.TRIANGLES,z,D)),r[0]=(v[2]+v[0])/x-1,r[1]=2*(v[3]+S[2])/m-1,o[0]=E[2]*g/x,o[1]=S[2]*g/m,P&&(C.color=_[2],C.tickScale=o,C.dataAxis=e,C.screenOffset=r,d.drawArrays(d.TRIANGLES,I,P))}}(),l.update=function(){var t=[1,1,-1,-1,1,-1],i=[1,-1,1,1,-1,-1];return function(e){for(var s=e.ticks,r=e.bounds,n=new Float32Array(18*(s[0].length+s[1].length)),o=(this.plot.zeroLineEnable,0),a=[[],[]],h=0;h<2;++h)for(var l=a[h],u=s[h],c=r[h],d=r[h+2],p=0;p<u.length;++p){var f=(u[p].x-c)/(d-c);l.push(f);for(var v=0;v<6;++v)n[o++]=f,n[o++]=t[v],n[o++]=i[v]}this.ticks=a,this.vbo.update(n)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},94818:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl,e=s(i,[-1,-1,-1,1,1,-1,1,1]),a=r(i,n.lineVert,n.lineFrag);return new o(t,e,a)};var s=e(99795),r=e(79810),n=e(32692);function o(t,i,e){this.plot=t,this.vbo=i,this.shader=e}var a=o.prototype;a.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},a.drawLine=function(){var t=[0,0],i=[0,0];return function(e,s,r,n,o,a){var h=this.plot,l=this.shader,u=h.gl;t[0]=e,t[1]=s,i[0]=r,i[1]=n,l.uniforms.start=t,l.uniforms.end=i,l.uniforms.width=o*h.pixelRatio,l.uniforms.color=a,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),a.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},32692:function(t,i,e){"use strict";var s=e(14955),r=s("./shaders/fragment.glsl");t.exports={lineVert:s("./shaders/line-vertex.glsl"),lineFrag:r,textVert:s("./shaders/text-vertex.glsl"),textFrag:r,gridVert:s("./shaders/grid-vertex.glsl"),gridFrag:r,boxVert:s("./shaders/box-vertex.glsl"),tickVert:s("./shaders/tick-vertex.glsl")}},40667:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl,e=s(i),n=r(i,a.textVert,a.textFrag);return new h(t,e,n)};var s=e(99795),r=e(79810),n=e(46964),o=e(62683),a=e(32692);function h(t,i,e){this.plot=t,this.vbo=i,this.shader=e,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var l=h.prototype;l.drawTicks=function(){var t=[0,0],i=[0,0],e=[0,0];return function(s){var r=this.plot,n=this.shader,a=this.tickX[s],h=this.tickOffset[s],l=r.gl,u=r.viewBox,c=r.dataBox,d=r.screenBox,p=r.pixelRatio,f=r.tickEnable,v=r.tickPad,g=r.tickColor,b=r.tickAngle,x=r.labelEnable,m=r.labelPad,k=r.labelColor,y=r.labelAngle,w=this.labelOffset[s],M=this.labelCount[s],B=o.lt(a,c[s]),A=o.le(a,c[s+2]);t[0]=t[1]=0,t[s]=1,i[s]=(u[2+s]+u[s])/(d[2+s]-d[s])-1;var L=2/d[2+(1^s)]-d[1^s];i[1^s]=L*u[1^s]-1,f[s]&&(i[1^s]-=L*p*v[s],B<A&&h[A]>h[B]&&(n.uniforms.dataAxis=t,n.uniforms.screenOffset=i,n.uniforms.color=g[s],n.uniforms.angle=b[s],l.drawArrays(l.TRIANGLES,h[B],h[A]-h[B]))),x[s]&&M&&(i[1^s]-=L*p*m[s],n.uniforms.dataAxis=e,n.uniforms.screenOffset=i,n.uniforms.color=k[s],n.uniforms.angle=y[s],l.drawArrays(l.TRIANGLES,w,M)),i[1^s]=L*u[2+(1^s)]-1,f[s+2]&&(i[1^s]+=L*p*v[s+2],B<A&&h[A]>h[B]&&(n.uniforms.dataAxis=t,n.uniforms.screenOffset=i,n.uniforms.color=g[s+2],n.uniforms.angle=b[s+2],l.drawArrays(l.TRIANGLES,h[B],h[A]-h[B]))),x[s+2]&&M&&(i[1^s]+=L*p*m[s+2],n.uniforms.dataAxis=e,n.uniforms.screenOffset=i,n.uniforms.color=k[s+2],n.uniforms.angle=y[s+2],l.drawArrays(l.TRIANGLES,w,M))}}(),l.drawTitle=function(){var t=[0,0],i=[0,0];return function(){var e=this.plot,s=this.shader,r=e.gl,n=e.screenBox,o=e.titleCenter,a=e.titleAngle,h=e.titleColor,l=e.pixelRatio;if(this.titleCount){for(var u=0;u<2;++u)i[u]=2*(o[u]*l-n[u])/(n[2+u]-n[u])-1;s.bind(),s.uniforms.dataAxis=t,s.uniforms.screenOffset=i,s.uniforms.angle=a,s.uniforms.color=h,r.drawArrays(r.TRIANGLES,this.titleOffset,this.titleCount)}}}(),l.bind=function(){var t=[0,0],i=[0,0],e=[0,0];return function(){var s=this.plot,r=this.shader,n=s._tickBounds,o=s.dataBox,a=s.screenBox,h=s.viewBox;r.bind();for(var l=0;l<2;++l){var u=n[l],c=n[l+2]-u,d=.5*(o[l+2]+o[l]),p=o[l+2]-o[l],f=h[l],v=h[l+2]-f,g=a[l],b=a[l+2]-g;i[l]=2*c/p*v/b,t[l]=2*(u-d)/p*v/b}e[1]=2*s.pixelRatio/(a[3]-a[1]),e[0]=e[1]*(a[3]-a[1])/(a[2]-a[0]),r.uniforms.dataScale=i,r.uniforms.dataShift=t,r.uniforms.textScale=e,this.vbo.bind(),r.attributes.textCoordinate.pointer()}}(),l.update=function(t){var i,e,s,r,o,a=[],h=t.ticks,l=t.bounds;for(o=0;o<2;++o){var u=[Math.floor(a.length/3)],c=[-1/0],d=h[o];for(i=0;i<d.length;++i){var p=d[i],f=p.x,v=p.text,g=p.font||"sans-serif";r=p.fontSize||12;for(var b=1/(l[o+2]-l[o]),x=l[o],m=v.split("\n"),k=0;k<m.length;k++)for(s=n(g,m[k]).data,e=0;e<s.length;e+=2)a.push(s[e]*r,-s[e+1]*r-k*r*1.2,(f-x)*b);u.push(Math.floor(a.length/3)),c.push(f)}this.tickOffset[o]=u,this.tickX[o]=c}for(o=0;o<2;++o){for(this.labelOffset[o]=Math.floor(a.length/3),s=n(t.labelFont[o],t.labels[o],{textAlign:"center"}).data,r=t.labelSize[o],i=0;i<s.length;i+=2)a.push(s[i]*r,-s[i+1]*r,0);this.labelCount[o]=Math.floor(a.length/3)-this.labelOffset[o]}for(this.titleOffset=Math.floor(a.length/3),s=n(t.titleFont,t.title).data,r=t.titleSize,i=0;i<s.length;i+=2)a.push(s[i]*r,-s[i+1]*r,0);this.titleCount=Math.floor(a.length/3)-this.titleOffset,this.vbo.update(a)},l.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},16519:function(t,i,e){"use strict";t.exports=function(t){var i=t.gl,e=s(i,[i.drawingBufferWidth,i.drawingBufferHeight]),l=new h(i,e);return l.grid=r(l),l.text=n(l),l.line=o(l),l.box=a(l),l.update(t),l};var s=e(41998),r=e(24172),n=e(40667),o=e(94818),a=e(81651);function h(t,i){this.gl=t,this.pickBuffer=i,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var l=h.prototype;function u(t){for(var i=t.slice(),e=0;e<i.length;++e)i[e]=i[e].slice();return i}function c(t,i){return t.x-i.x}l.setDirty=function(){this.dirty=this.pickDirty=!0},l.setOverlayDirty=function(){this.dirty=!0},l.nextDepthValue=function(){return this._depthCounter++/65536},l.draw=function(){var t=this.gl,i=this.screenBox,e=this.viewBox,s=this.dataBox,r=this.pixelRatio,n=this.grid,o=this.line,a=this.text,h=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.borderColor){t.scissor(i[0],i[1],i[2]-i[0],i[3]-i[1]);var l=this.borderColor;t.clearColor(l[0]*l[3],l[1]*l[3],l[2]*l[3],l[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]);var u=this.backgroundColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT),n.draw();var c=this.zeroLineEnable,d=this.zeroLineColor,p=this.zeroLineWidth;if(c[0]||c[1]){o.bind();for(var f=0;f<2;++f)if(c[f]&&s[f]<=0&&s[f+2]>=0){var v=i[f]-s[f]*(i[f+2]-i[f])/(s[f+2]-s[f]);0===f?o.drawLine(v,i[1],v,i[3],p[f],d[f]):o.drawLine(i[0],v,i[2],v,p[f],d[f])}}for(f=0;f<h.length;++f)h[f].draw();t.viewport(i[0],i[1],i[2]-i[0],i[3]-i[1]),t.scissor(i[0],i[1],i[2]-i[0],i[3]-i[1]),this.grid.drawTickMarks(),o.bind();var g=this.borderLineEnable,b=this.borderLineWidth,x=this.borderLineColor;for(g[1]&&o.drawLine(e[0],e[1]-.5*b[1]*r,e[0],e[3]+.5*b[3]*r,b[1],x[1]),g[0]&&o.drawLine(e[0]-.5*b[0]*r,e[1],e[2]+.5*b[2]*r,e[1],b[0],x[0]),g[3]&&o.drawLine(e[2],e[1]-.5*b[1]*r,e[2],e[3]+.5*b[3]*r,b[3],x[3]),g[2]&&o.drawLine(e[0]-.5*b[0]*r,e[3],e[2]+.5*b[2]*r,e[3],b[2],x[2]),a.bind(),f=0;f<2;++f)a.drawTicks(f);this.titleEnable&&a.drawTitle();var m=this.overlays;for(f=0;f<m.length;++f)m[f].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}},l.drawPick=function(){if(!this.static){var t=this.pickBuffer;this.gl,this._pickTimeout=null,t.begin();for(var i=1,e=this.objects,s=0;s<e.length;++s)i=e[s].drawPick(i);t.end()}},l.pick=function(t,i){if(!this.static){var e=this.pixelRatio,s=this.pickPixelRatio,r=this.viewBox,n=0|Math.round((t-r[0]/e)*s),o=0|Math.round((i-r[1]/e)*s),a=this.pickBuffer.query(n,o,this.pickRadius);if(!a)return null;for(var h=a.id+(a.value[0]<<8)+(a.value[1]<<16)+(a.value[2]<<24),l=this.objects,u=0;u<l.length;++u){var c=l[u].pick(n,o,h);if(c)return c}return null}},l.setScreenBox=function(t){var i=this.screenBox,e=this.pixelRatio;i[0]=0|Math.round(t[0]*e),i[1]=0|Math.round(t[1]*e),i[2]=0|Math.round(t[2]*e),i[3]=0|Math.round(t[3]*e),this.setDirty()},l.setDataBox=function(t){var i=this.dataBox;(i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3])&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],this.setDirty())},l.setViewBox=function(t){var i=this.pixelRatio,e=this.viewBox;e[0]=0|Math.round(t[0]*i),e[1]=0|Math.round(t[1]*i),e[2]=0|Math.round(t[2]*i),e[3]=0|Math.round(t[3]*i);var s=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*s),0|Math.round((t[3]-t[1])*s)],this.setDirty()},l.update=function(t){t=t||{};var i=this.gl;this.pixelRatio=t.pixelRatio||1;var e=this.pixelRatio;this.pickPixelRatio=Math.max(e,1),this.setScreenBox(t.screenBox||[0,0,i.drawingBufferWidth/e,i.drawingBufferHeight/e]);this.screenBox;this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/e,.125*(this.screenBox[3]-this.screenBox[1])/e,.875*(this.screenBox[2]-this.screenBox[0])/e,.875*(this.screenBox[3]-this.screenBox[1])/e]);var s=this.viewBox,r=(s[2]-s[0])/(s[3]-s[1]);this.setDataBox(t.dataBox||[-10,-10/r,10,10/r]),this.borderColor=!1!==t.borderColor&&(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=u(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=u(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=u(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(s[0]+s[2])/e,(s[3]+120)/e]).slice(),this.titleEnable=!("titleEnable"in t)||!!t.titleEnable,this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=u(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=u(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=u(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var n=t.ticks||[[],[]],o=this._tickBounds;o[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(var a=0;a<2;++a){var h=n[a].slice(0);0!==h.length&&(h.sort(c),o[a]=Math.min(o[a],h[0].x),o[a+2]=Math.max(o[a+2],h[h.length-1].x))}this.grid.update({bounds:o,ticks:n}),this.text.update({bounds:o,ticks:n,labels:t.labels||["x","y"],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||["sans-serif","sans-serif"],title:t.title||"",titleSize:t.titleSize||18,titleFont:t.titleFont||"sans-serif"}),this.static=!!t.static,this.setDirty()},l.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t>=0;--t)this.objects[t].dispose();this.objects.length=0;for(t=this.overlays.length-1;t>=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},l.addObject=function(t){this.objects.indexOf(t)<0&&(this.objects.push(t),this.setDirty())},l.removeObject=function(t){for(var i=this.objects,e=0;e<i.length;++e)if(i[e]===t){i.splice(e,1),this.setDirty();break}},l.addOverlay=function(t){this.overlays.indexOf(t)<0&&(this.overlays.push(t),this.setOverlayDirty())},l.removeOverlay=function(t){for(var i=this.overlays,e=0;e<i.length;++e)if(i[e]===t){i.splice(e,1),this.setOverlayDirty();break}}},9792:function(t,i,e){"use strict";t.exports=function(t,i){t=t||document.body,i=i||{};var e=[.01,1/0];"distanceLimits"in i&&(e[0]=i.distanceLimits[0],e[1]=i.distanceLimits[1]);"zoomMin"in i&&(e[0]=i.zoomMin);"zoomMax"in i&&(e[1]=i.zoomMax);var l=r({center:i.center||[0,0,0],up:i.up||[0,1,0],eye:i.eye||[0,0,10],mode:i.mode||"orbit",distanceLimits:e}),u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,d=t.clientWidth,p=t.clientHeight,f={keyBindingMode:"rotate",enableWheel:!0,view:l,element:t,delay:i.delay||16,rotateSpeed:i.rotateSpeed||1,zoomSpeed:i.zoomSpeed||1,translateSpeed:i.translateSpeed||1,flipX:!!i.flipX,flipY:!!i.flipY,modes:l.modes,_ortho:i._ortho||i.projection&&"orthographic"===i.projection.type||!1,tick:function(){var i=s(),e=this.delay,r=i-2*e;l.idle(i-e),l.recalcMatrix(r),l.flush(i-(100+2*e));for(var n=!0,o=l.computedMatrix,a=0;a<16;++a)n=n&&u[a]===o[a],u[a]=o[a];var h=t.clientWidth===d&&t.clientHeight===p;return d=t.clientWidth,p=t.clientHeight,n?!h:(c=Math.exp(l.computedRadius[0]),!0)},lookAt:function(t,i,e){l.lookAt(l.lastT(),t,i,e)},rotate:function(t,i,e){l.rotate(l.lastT(),t,i,e)},pan:function(t,i,e){l.pan(l.lastT(),t,i,e)},translate:function(t,i,e){l.translate(l.lastT(),t,i,e)}};return Object.defineProperties(f,{matrix:{get:function(){return l.computedMatrix},set:function(t){return l.setMatrix(l.lastT(),t),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(t){var i=l.computedUp.slice(),e=l.computedEye.slice(),r=l.computedCenter.slice();if(l.setMode(t),"turntable"===t){var n=s();l._active.lookAt(n,e,r,i),l._active.lookAt(n+500,e,r,[0,0,1]),l._active.flush(n)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(t){return l.lookAt(l.lastT(),null,t),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(t){return l.lookAt(l.lastT(),t),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(t){return l.lookAt(l.lastT(),null,null,t),l.computedUp},enumerable:!0},distance:{get:function(){return c},set:function(t){return l.setDistance(l.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(e)},set:function(t){return l.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),f._lastX=-1,f._lastY=-1,f._lastMods={shift:!1,control:!1,alt:!1,meta:!1},f.enableMouseListeners=function(){function i(i,e,r,n){var o=f.keyBindingMode;if(!1!==o){var a="rotate"===o,h="pan"===o,u="zoom"===o,d=!!n.control,p=!!n.alt,v=!!n.shift,g=!!(1&i),b=!!(2&i),x=!!(4&i),m=1/t.clientHeight,k=m*(e-f._lastX),y=m*(r-f._lastY),w=f.flipX?1:-1,M=f.flipY?1:-1,B=Math.PI*f.rotateSpeed,A=s();if(-1!==f._lastX&&-1!==f._lastY&&((a&&g&&!d&&!p&&!v||g&&!d&&!p&&v)&&l.rotate(A,w*B*k,-M*B*y,0),(h&&g&&!d&&!p&&!v||b||g&&d&&!p&&!v)&&l.pan(A,-f.translateSpeed*k*c,f.translateSpeed*y*c,0),u&&g&&!d&&!p&&!v||x||g&&!d&&p&&!v)){var L=-f.zoomSpeed*y/window.innerHeight*(A-l.lastT())*100;l.pan(A,0,0,c*(Math.exp(L)-1))}return f._lastX=e,f._lastY=r,f._lastMods=n,!0}}f.mouseListener=n(t,i),t.addEventListener("touchstart",(function(e){var s=a(e.changedTouches[0],t);i(0,s[0],s[1],f._lastMods),i(1,s[0],s[1],f._lastMods)}),!!h&&{passive:!0}),t.addEventListener("touchmove",(function(e){var s=a(e.changedTouches[0],t);i(1,s[0],s[1],f._lastMods),e.preventDefault()}),!!h&&{passive:!1}),t.addEventListener("touchend",(function(t){i(0,f._lastX,f._lastY,f._lastMods)}),!!h&&{passive:!0}),f.wheelListener=o(t,(function(t,i){if(!1!==f.keyBindingMode&&f.enableWheel){var e=f.flipX?1:-1,r=f.flipY?1:-1,n=s();if(Math.abs(t)>Math.abs(i))l.rotate(n,0,0,-t*e*Math.PI*f.rotateSpeed/window.innerWidth);else if(!f._ortho){var o=-f.zoomSpeed*r*i/window.innerHeight*(n-l.lastT())/20;l.pan(n,0,0,c*(Math.exp(o)-1))}}}),!0)},f.enableMouseListeners(),f};var s=e(94390),r=e(40493),n=e(46744),o=e(67711),a=e(17481),h=e(473)},81950:function(t,i,e){var s=e(14955),r=e(79810),n=s("./vertex.glsl"),o=s("./composite.glsl");t.exports=function(t){return r(t,n,o,null,[{name:"position",type:"vec2"}])}},44219:function(t,i,e){"use strict";var s=e(9792),r=e(42900),n=e(8360),o=e(13256),a=e(41998),h=e(67645),l=e(43758),u=e(46744),c=e(57071),d=e(17312),p=e(81950),f=e(66828)({tablet:!0,featureDetect:!0});function v(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function g(t){var i=Math.round(Math.log(Math.abs(t))/Math.log(10));if(i<0){var e=Math.round(Math.pow(10,-i));return Math.ceil(t*e)/e}if(i>0){e=Math.round(Math.pow(10,i));return Math.ceil(t/e)*e}return Math.ceil(t)}function b(t){return"boolean"!==typeof t||t}t.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var i=t.canvas;if(!i){if(i=document.createElement("canvas"),t.container)t.container.appendChild(i);else document.body.appendChild(i)}var e=t.gl;e||(t.glOptions&&(f=!!t.glOptions.preserveDrawingBuffer),e=function(t,i){var e=null;try{(e=t.getContext("webgl",i))||(e=t.getContext("experimental-webgl",i))}catch(s){return null}return e}(i,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:f}));if(!e)throw new Error("webgl not supported");var x=t.bounds||[[-10,-10,-10],[10,10,10]],m=new v,k=h(e,e.drawingBufferWidth,e.drawingBufferHeight,{preferFloat:!f}),y=p(e),w=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,M={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:w},B=t.axes||{},A=r(e,B);A.enable=!B.disable;var L=t.spikes||{},C=o(e,L),S=[],E=[],_=[],T=[],R=!0,O=!0,I=new Array(16),P=new Array(16),F={view:null,projection:I,model:P,_ortho:!1},N=(O=!0,[e.drawingBufferWidth,e.drawingBufferHeight]),z=t.cameraObject||s(i,M),D={gl:e,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:i,selection:m,camera:z,axes:A,axesPixels:null,spikes:C,bounds:x,objects:S,shape:N,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:b(t.autoResize),autoBounds:b(t.autoBounds),autoScale:!!t.autoScale,autoCenter:b(t.autoCenter),clipToBounds:b(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:F,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,O=!0},setBounds:function(t,i){this.bounds[0][t]=i.min,this.bounds[1][t]=i.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},V=[e.drawingBufferWidth/D.pixelRatio|0,e.drawingBufferHeight/D.pixelRatio|0];function j(){if(!D._stopped&&D.autoResize){var t=i.parentNode,e=1,s=1;t&&t!==document.body?(e=t.clientWidth,s=t.clientHeight):(e=window.innerWidth,s=window.innerHeight);var r=0|Math.ceil(e*D.pixelRatio),n=0|Math.ceil(s*D.pixelRatio);if(r!==i.width||n!==i.height){i.width=r,i.height=n;var o=i.style;o.position=o.position||"absolute",o.left="0px",o.top="0px",o.width=e+"px",o.height=s+"px",R=!0}}}D.autoResize&&j();function W(){for(var t=S.length,i=T.length,s=0;s<i;++s)_[s]=0;t:for(s=0;s<t;++s){var r=S[s],n=r.pickSlots;if(n){for(var o=0;o<i;++o)if(_[o]+n<255){E[s]=o,r.setPickBase(_[o]+1),_[o]+=n;continue t}var h=a(e,N);E[s]=i,T.push(h),_.push(n),r.setPickBase(1),i+=1}else E[s]=-1}for(;i>0&&0===_[i-1];)_.pop(),T.pop().dispose()}function U(){if(D.contextLost)return!0;e.isContextLost()&&(D.contextLost=!0,D.mouseListener.enabled=!1,D.selection.object=null,D.oncontextloss&&D.oncontextloss())}window.addEventListener("resize",j),D.update=function(t){D._stopped||(t=t||{},R=!0,O=!0)},D.add=function(t){D._stopped||(t.axes=A,S.push(t),E.push(-1),R=!0,O=!0,W())},D.remove=function(t){if(!D._stopped){var i=S.indexOf(t);i<0||(S.splice(i,1),E.pop(),R=!0,O=!0,W())}},D.dispose=function(){if(!D._stopped&&(D._stopped=!0,window.removeEventListener("resize",j),i.removeEventListener("webglcontextlost",U),D.mouseListener.enabled=!1,!D.contextLost)){A.dispose(),C.dispose();for(var t=0;t<S.length;++t)S[t].dispose();k.dispose();for(t=0;t<T.length;++t)T[t].dispose();y.dispose(),e=null,A=null,C=null,S=[]}},D._mouseRotating=!1,D._prevButtons=0,D.enableMouseListeners=function(){D.mouseListener=u(i,(function(t,i,e){if(!D._stopped){var s=T.length,r=S.length,n=m.object;m.distance=1/0,m.mouse[0]=i,m.mouse[1]=e,m.object=null,m.screen=null,m.dataCoordinate=m.dataPosition=null;var o=!1;if(t&&D._prevButtons)D._mouseRotating=!0;else{D._mouseRotating&&(O=!0),D._mouseRotating=!1;for(var a=0;a<s;++a){var h=T[a].query(i,V[1]-e-1,D.pickRadius);if(h){if(h.distance>m.distance)continue;for(var l=0;l<r;++l){var u=S[l];if(E[l]===a){var c=u.pick(h);c&&(m.buttons=t,m.screen=h.coord,m.distance=h.distance,m.object=u,m.index=c.distance,m.dataPosition=c.position,m.dataCoordinate=c.dataCoordinate,m.data=c,o=!0)}}}}}n&&n!==m.object&&(n.highlight&&n.highlight(null),R=!0),m.object&&(m.object.highlight&&m.object.highlight(m.data),R=!0),(o=o||m.object!==n)&&D.onselect&&D.onselect(m),1&t&&!(1&D._prevButtons)&&D.onclick&&D.onclick(m),D._prevButtons=t}}))},i.addEventListener("webglcontextlost",U);var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=[H[0].slice(),H[1].slice()];function q(){if(!U()){j();var t=D.camera.tick();F.view=D.camera.matrix,R=R||t,O=O||t,A.pixelRatio=D.pixelRatio,C.pixelRatio=D.pixelRatio;var i=S.length,s=H[0],r=H[1];s[0]=s[1]=s[2]=1/0,r[0]=r[1]=r[2]=-1/0;for(var o=0;o<i;++o){(_=S[o]).pixelRatio=D.pixelRatio,_.axes=D.axes,R=R||!!_.dirty,O=O||!!_.dirty;var a=_.bounds;if(a)for(var h=a[0],u=a[1],p=0;p<3;++p)s[p]=Math.min(s[p],h[p]),r[p]=Math.max(r[p],u[p])}var f=D.bounds;if(D.autoBounds)for(p=0;p<3;++p){if(r[p]<s[p])s[p]=-1,r[p]=1;else{s[p]===r[p]&&(s[p]-=1,r[p]+=1);var v=.05*(r[p]-s[p]);s[p]=s[p]-v,r[p]=r[p]+v}f[0][p]=s[p],f[1][p]=r[p]}var b=!1;for(p=0;p<3;++p)b=b||G[0][p]!==f[0][p]||G[1][p]!==f[1][p],G[0][p]=f[0][p],G[1][p]=f[1][p];if(O=O||b,R=R||b){if(b){var x=[0,0,0];for(o=0;o<3;++o)x[o]=g((f[1][o]-f[0][o])/10);A.autoTicks?A.update({bounds:f,tickSpacing:x}):A.update({bounds:f})}var M=e.drawingBufferWidth,B=e.drawingBufferHeight;N[0]=M,N[1]=B,V[0]=0|Math.max(M/D.pixelRatio,1),V[1]=0|Math.max(B/D.pixelRatio,1),function(t,i){var e=t.bounds,s=t.cameraParams,r=s.projection,n=s.model,o=t.gl.drawingBufferWidth,a=t.gl.drawingBufferHeight,h=t.zNear,l=t.zFar,u=t.fovy,p=o/a;i?(d(r,-p,p,-1,1,h,l),s._ortho=!0):(c(r,u,p,h,l),s._ortho=!1);for(var f=0;f<16;++f)n[f]=0;n[15]=1;var v=0;for(f=0;f<3;++f)v=Math.max(v,e[1][f]-e[0][f]);for(f=0;f<3;++f)t.autoScale?n[5*f]=t.aspect[f]/(e[1][f]-e[0][f]):n[5*f]=1/v,t.autoCenter&&(n[12+f]=.5*-n[5*f]*(e[0][f]+e[1][f]))}(D,w);for(o=0;o<i;++o){(_=S[o]).axesBounds=f,D.clipToBounds&&(_.clipBounds=f)}m.object&&(D.snapToData?C.position=m.dataCoordinate:C.position=m.dataPosition,C.bounds=f),O&&(O=!1,function(){if(!U()){e.colorMask(!0,!0,!0,!0),e.depthMask(!0),e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL);for(var t=S.length,i=T.length,s=0;s<i;++s){var r=T[s];r.shape=V,r.begin();for(var n=0;n<t;++n)if(E[n]===s){var o=S[n];o.drawPick&&(o.pixelRatio=1,o.drawPick(F))}r.end()}}}()),D.axesPixels=n(D.axes,F,M,B),D.onrender&&D.onrender(),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,M,B),D.clearRGBA(),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.disable(e.BLEND),e.disable(e.CULL_FACE);var L=!1;A.enable&&(L=L||A.isTransparent(),A.draw(F)),C.axes=A,m.object&&C.draw(F),e.disable(e.CULL_FACE);for(o=0;o<i;++o){(_=S[o]).axes=A,_.pixelRatio=D.pixelRatio,_.isOpaque&&_.isOpaque()&&_.draw(F),_.isTransparent&&_.isTransparent()&&(L=!0)}if(L){k.shape=N,k.bind(),e.clear(e.DEPTH_BUFFER_BIT),e.colorMask(!1,!1,!1,!1),e.depthMask(!0),e.depthFunc(e.LESS),A.enable&&A.isTransparent()&&A.drawTransparent(F);for(o=0;o<i;++o){(_=S[o]).isOpaque&&_.isOpaque()&&_.draw(F)}e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.colorMask(!0,!0,!0,!0),e.depthMask(!1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),A.isTransparent()&&A.drawTransparent(F);for(o=0;o<i;++o){var _;(_=S[o]).isTransparent&&_.isTransparent()&&_.drawTransparent(F)}e.bindFramebuffer(e.FRAMEBUFFER,null),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.disable(e.DEPTH_TEST),y.bind(),k.color[0].bind(0),y.uniforms.accumBuffer=0,l(e),e.disable(e.BLEND)}R=!1;for(o=0;o<i;++o)S[o].dirty=!1}}}return D.enableMouseListeners(),function t(){if(D._stopped||D.contextLost)return;q(),requestAnimationFrame(t)}(),D.redraw=function(){D._stopped||(R=!0,q())},D},createCamera:s}},50565:function(t,i,e){var s=e(14955);i.pointVertex=s("./shader/point-vertex.glsl"),i.pointFragment=s("./shader/point-fragment.glsl"),i.pickVertex=s("./shader/pick-vertex.glsl"),i.pickFragment=s("./shader/pick-fragment.glsl")},66745:function(t,i,e){"use strict";var s=e(79810),r=e(99795),n=e(32237),o=e(50565);function a(t,i,e,s,r){this.plot=t,this.offsetBuffer=i,this.pickBuffer=e,this.shader=s,this.pickShader=r,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}t.exports=function(t,i){var e=t.gl,n=r(e),h=r(e),l=s(e,o.pointVertex,o.pointFragment),u=s(e,o.pickVertex,o.pickFragment),c=new a(t,n,h,l,u);return c.update(i),t.addObject(c),c};var h=a.prototype;h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},h.update=function(t){var i;function e(i,e){return i in t?t[i]:e}t=t||{},this.sizeMin=e("sizeMin",.5),this.sizeMax=e("sizeMax",20),this.color=e("color",[1,0,0,1]).slice(),this.areaRatio=e("areaRatio",1),this.borderColor=e("borderColor",[0,0,0,1]).slice(),this.blend=e("blend",!1);var s=t.positions.length>>>1,r=t.positions instanceof Float32Array,o=t.idToIndex instanceof Int32Array&&t.idToIndex.length>=s,a=t.positions,h=r?a:n.mallocFloat32(a.length),l=o?t.idToIndex:n.mallocInt32(s);if(r||h.set(a),!o)for(h.set(a),i=0;i<s;i++)l[i]=i;this.points=a,this.offsetBuffer.update(h),this.pickBuffer.update(l),r||n.free(h),o||n.free(l),this.pointCount=s,this.pickOffset=0},h.unifiedDraw=function(){var t=[1,0,0,0,1,0,0,0,1],i=[0,0,0,0];return function(e){var s=void 0!==e,r=s?this.pickShader:this.shader,n=this.plot.gl,o=this.plot.dataBox;if(0===this.pointCount)return e;var a=o[2]-o[0],h=o[3]-o[1],l=function(t,i){var e,s=0,r=t.length>>>1;for(e=0;e<r;e++){var n=t[2*e],o=t[2*e+1];n>=i[0]&&n<=i[2]&&o>=i[1]&&o<=i[3]&&s++}return s}(this.points,o),u=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(l,.33333)));t[0]=2/a,t[4]=2/h,t[6]=-2*o[0]/a-1,t[7]=-2*o[1]/h-1,this.offsetBuffer.bind(),r.bind(),r.attributes.position.pointer(),r.uniforms.matrix=t,r.uniforms.color=this.color,r.uniforms.borderColor=this.borderColor,r.uniforms.pointCloud=u<5,r.uniforms.pointSize=u,r.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),s&&(i[0]=255&e,i[1]=e>>8&255,i[2]=e>>16&255,i[3]=e>>24&255,this.pickBuffer.bind(),r.attributes.pickId.pointer(n.UNSIGNED_BYTE),r.uniforms.pickOffset=i,this.pickOffset=e);var c=n.getParameter(n.BLEND),d=n.getParameter(n.DITHER);return c&&!this.blend&&n.disable(n.BLEND),d&&n.disable(n.DITHER),n.drawArrays(n.POINTS,0,this.pointCount),c&&!this.blend&&n.enable(n.BLEND),d&&n.enable(n.DITHER),e+this.pointCount}}(),h.draw=h.unifiedDraw,h.drawPick=h.unifiedDraw,h.pick=function(t,i,e){var s=this.pickOffset,r=this.pointCount;if(e<s||e>=s+r)return null;var n=e-s,o=this.points;return{object:this,pointId:n,dataCoord:[o[2*n],o[2*n+1]]}}}}]);