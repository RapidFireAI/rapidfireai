"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[2956],{71127:function(e,t,a){var r=a(70161),n=a(98265),i=a(71212),o=a(84525).sorterAsc,s=a(62282);t.containerArrayMatch=a(13717);var l=t.isAddVal=function(e){return"add"===e||r(e)},u=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,a,r,d){var c=t.astr,p=s.getComponentMethod(c,"supplyLayoutDefaults"),f=s.getComponentMethod(c,"draw"),h=s.getComponentMethod(c,"drawOne"),g=r.replot||r.recalc||p===n||f===n,y=e.layout,m=e._fullLayout;if(a[""]){Object.keys(a).length>1&&i.warn("Full array edits are incompatible with other edits",c);var v=a[""][""];if(u(v))t.set(null);else{if(!Array.isArray(v))return i.warn("Unrecognized full array edit value",c,v),!0;t.set(v)}return!g&&(p(y,m),f(e),!0)}var b,_,w,x,A,T,k,j,O=Object.keys(a).map(Number).sort(o),P=t.get(),C=P||[],D=d(m,c).get(),L=[],S=-1,M=C.length;for(b=0;b<O.length;b++)if(x=a[w=O[b]],A=Object.keys(x),T=x[""],k=l(T),w<0||w>C.length-(k?0:1))i.warn("index out of range",c,w);else if(void 0!==T)A.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",c,w),u(T)?L.push(w):k?("add"===T&&(T={}),C.splice(w,0,T),D&&D.splice(w,0,{})):i.warn("Unrecognized full object edit value",c,w,T),-1===S&&(S=w);else for(_=0;_<A.length;_++)j=c+"["+w+"].",d(C[w],A[_],j).set(x[A[_]]);for(b=L.length-1;b>=0;b--)C.splice(L[b],1),D&&D.splice(L[b],1);if(C.length?P||t.set(C):t.set(null),g)return!1;if(p(y,m),h!==n){var R;if(-1===S)R=O;else{for(M=Math.max(C.length,M),R=[],b=0;b<O.length&&!((w=O[b])>=S);b++)R.push(w);for(b=S;b<M;b++)R.push(b)}for(b=0;b<R.length;b++)h(e,R[b])}else f(e);return!0}},9772:function(e,t,a){var r=a(62258),n=a(83491),i=a(66982),o=a(47401),s=o.nestedProperty,l=a(19428),u=a(79638),d=a(62282),c=a(16545),p=a(35722),f=a(37762),h=a(41707),g=a(31454),y=a(9636).initInteractions,m=a(6412),v=a(88987).clearSelect,b=a(12788).dfltConfig,_=a(71127),w=a(65143),x=a(665),A=a(17342),T=a(56890).AX_NAME_PATTERN,k=0;function j(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function O(e,t){try{e._fullLayout._paper.style("background",t)}catch(a){o.error(a)}}function P(e,t){O(e,g.combine(t,"white"))}function C(e,t){if(!e._context){e._context=o.extendDeep({},b);var a=r.select("base");e._context._baseUrl=a.size()&&a.attr("href")?window.location.href.split("#")[0]:""}var n,s,l,u=e._context;if(t){for(s=Object.keys(t),n=0;n<s.length;n++)"editable"!==(l=s[n])&&"edits"!==l&&l in u&&("setBackground"===l&&"opaque"===t[l]?u[l]=P:u[l]=t[l]);t.plot3dPixelRatio&&!u.plotGlPixelRatio&&(u.plotGlPixelRatio=u.plot3dPixelRatio);var d=t.editable;if(void 0!==d)for(u.editable=d,s=Object.keys(u.edits),n=0;n<s.length;n++)u.edits[s[n]]=d;if(t.edits)for(s=Object.keys(t.edits),n=0;n<s.length;n++)(l=s[n])in u.edits&&(u.edits[l]=t.edits[l]);u._exportedPlot=t._exportedPlot}u.staticPlot&&(u.editable=!1,u.edits={},u.autosizable=!1,u.scrollZoom=!1,u.doubleClick=!1,u.showTips=!1,u.showLink=!1,u.displayModeBar=!1),"hover"!==u.displayModeBar||i||(u.displayModeBar=!0),"transparent"!==u.setBackground&&"function"===typeof u.setBackground||(u.setBackground=O),u._hasZeroHeight=u._hasZeroHeight||0===e.clientHeight,u._hasZeroWidth=u._hasZeroWidth||0===e.clientWidth;var c=u.scrollZoom,p=u._scrollZoom={};if(!0===c)p.cartesian=1,p.gl3d=1,p.geo=1,p.mapbox=1;else if("string"===typeof c){var f=c.split("+");for(n=0;n<f.length;n++)p[f[n]]=1}else!1!==c&&(p.gl3d=1,p.geo=1,p.mapbox=1)}function D(e,t){var a,r,n=t+1,i=[];for(a=0;a<e.length;a++)(r=e[a])<0?i.push(n+r):i.push(r);return i}function L(e,t,a){var r,n;for(r=0;r<t.length;r++){if((n=t[r])!==parseInt(n,10))throw new Error("all values in "+a+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(a+" must be valid indices for gd.data.");if(t.indexOf(n,r+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1)throw new Error("each index in "+a+" must be unique.")}}function S(e,t,a){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),L(e,t,"currentIndices"),"undefined"===typeof a||Array.isArray(a)||(a=[a]),"undefined"!==typeof a&&L(e,a,"newIndices"),"undefined"!==typeof a&&t.length!==a.length)throw new Error("current and new indices must be of equal length.")}function M(e,t,a,r,i){!function(e,t,a,r){var n=o.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"===typeof a)throw new Error("indices must be an integer or array of integers");for(var i in L(e,a,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==a.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(n&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,a,r);for(var l=function(e,t,a,r){var i,l,u,d,c,p=o.isPlainObject(r),f=[];for(var h in Array.isArray(a)||(a=[a]),a=D(a,e.data.length-1),t)for(var g=0;g<a.length;g++){if(i=e.data[a[g]],l=(u=s(i,h)).get(),d=t[h][g],!o.isArrayOrTypedArray(d))throw new Error("attribute: "+h+" index: "+g+" must be an array");if(!o.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+h);if(l.constructor!==d.constructor)throw new Error("cannot extend array with an array of a different type: "+h);c=p?r[h][g]:r,n(c)||(c=-1),f.push({prop:u,target:l,insert:d,maxp:Math.floor(c)})}return f}(e,t,a,r),u={},d={},c=0;c<l.length;c++){var p=l[c].prop,f=l[c].maxp,h=i(l[c].target,l[c].insert,f);p.set(h[0]),Array.isArray(u[p.astr])||(u[p.astr]=[]),u[p.astr].push(h[1]),Array.isArray(d[p.astr])||(d[p.astr]=[]),d[p.astr].push(l[c].target.length)}return{update:u,maxPoints:d}}function R(e,t){var a=new e.constructor(e.length+t.length);return a.set(e),a.set(t,e.length),a}function I(e,a,r,n){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var i={};if("string"===typeof a)i[a]=r;else{if(!o.isPlainObject(a))return o.warn("Restyle fail.",a,r,n),Promise.reject();i=o.extendFlat({},a),void 0===n&&(n=r)}Object.keys(i).length&&(e.changed=!0);var s=w.coerceTraceIndices(e,n),l=z(e,i,s),d=l.flags;d.calc&&(e.calcdata=void 0),d.clearAxisTypes&&w.clearAxisTypes(e,s,{});var c=[];d.fullReplot?c.push(t._doPlot):(c.push(p.previousPromises),p.supplyDefaults(e),d.markerSize&&(p.doCalcdata(e),H(c)),d.style&&c.push(x.doTraceStyle),d.colorbars&&c.push(x.doColorBars),c.push(j)),c.push(p.rehover,p.redrag),u.add(e,I,[e,l.undoit,l.traces],I,[e,l.redoit,l.traces]);var f=o.syncOrAsync(c,e);return f&&f.then||(f=Promise.resolve()),f.then((function(){return e.emit("plotly_restyle",l.eventData),e}))}function E(e){return void 0===e?null:e}function F(e,t){return t?function(t,a,r){var n=s(t,a),i=n.set;return n.set=function(t){B((r||"")+a,n.get(),t,e),i(t)},n}:s}function B(e,t,a,r){if(Array.isArray(t)||Array.isArray(a))for(var n=Array.isArray(t)?t:[],i=Array.isArray(a)?a:[],s=Math.max(n.length,i.length),l=0;l<s;l++)B(e+"["+l+"]",n[l],i[l],r);else if(o.isPlainObject(t)||o.isPlainObject(a)){var u=o.isPlainObject(t)?t:{},d=o.isPlainObject(a)?a:{},c=o.extendFlat({},u,d);for(var p in c)B(e+"."+p,u[p],d[p],r)}else void 0===r[e]&&(r[e]=E(t))}function z(e,t,a){var r,n=e._fullLayout,i=e._fullData,l=e.data,u=n._guiEditing,h=F(n._preGUI,u),g=o.extendDeepAll({},t);G(t);var y,m=A.traceFlags(),v={},b={};function _(){return a.map((function(){}))}function x(e){var t=f.id2name(e);-1===y.indexOf(t)&&y.push(t)}function T(e){return"LAYOUT"+e+".autorange"}function k(e){return"LAYOUT"+e+".range"}function j(e){for(var t=e;t<i.length;t++)if(i[t]._input===l[e])return i[t]}function O(r,i,o){if(Array.isArray(r))r.forEach((function(e){O(e,i,o)}));else if(!(r in t)&&!w.hasParent(t,r)){var s;if("LAYOUT"===r.substr(0,6))s=h(e.layout,r.replace("LAYOUT",""));else{var d=a[o];s=F(n._tracePreGUI[j(d)._fullInput.uid],u)(l[d],r)}r in b||(b[r]=_()),void 0===b[r][o]&&(b[r][o]=E(s.get())),void 0!==i&&s.set(i)}}function P(e){return function(t){return i[t][e]}}function C(e){return function(t,r){return!1===t?i[a[r]][e]:null}}for(var D in t){if(w.hasParent(t,D))throw new Error("cannot set "+D+" and a parent attribute simultaneously");var L,S,M,R,I,B,z=t[D];if("autobinx"!==D&&"autobiny"!==D||(D=D.charAt(D.length-1)+"bins",z=Array.isArray(z)?z.map(C(D)):!1===z?a.map(P(D)):null),v[D]=z,"LAYOUT"!==D.substr(0,6)){for(b[D]=_(),r=0;r<a.length;r++){if(L=l[a[r]],S=j(a[r]),R=(M=F(n._tracePreGUI[S._fullInput.uid],u)(L,D)).get(),void 0!==(I=Array.isArray(z)?z[r%z.length]:z)){var U=M.parts[M.parts.length-1],N=D.substr(0,D.length-U.length-1),H=N?N+".":"",q=N?s(S,N).get():S;if((B=c.getTraceValObject(S,M.parts))&&B.impliedEdits&&null!==I)for(var V in B.impliedEdits)O(o.relativeAttr(D,V),B.impliedEdits[V],r);else if("thicknessmode"!==U&&"lenmode"!==U||R===I||"fraction"!==I&&"pixels"!==I||!q){if("type"===D&&("pie"===I!==("pie"===R)||"funnelarea"===I!==("funnelarea"===R))){var Y="x",W="y";"bar"!==I&&"bar"!==R||"h"!==L.orientation||(Y="y",W="x"),o.swapAttrs(L,["?","?src"],"labels",Y),o.swapAttrs(L,["d?","?0"],"label",Y),o.swapAttrs(L,["?","?src"],"values",W),"pie"===R||"funnelarea"===R?(s(L,"marker.color").set(s(L,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):d.traceIs(L,"cartesian")&&s(L,"marker.colors").set(s(L,"marker.color").get())}}else{var $=n._size,Q=q.orient,Z="top"===Q||"bottom"===Q;if("thicknessmode"===U){var J=Z?$.h:$.w;O(H+"thickness",q.thickness*("fraction"===I?1/J:J),r)}else{var K=Z?$.w:$.h;O(H+"len",q.len*("fraction"===I?1/K:K),r)}}b[D][r]=E(R);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(D)){if("orientation"===D){M.set(I);var X=L.x&&!L.y?"h":"v";if((M.get()||X)===S.orientation)continue}else"orientationaxes"===D&&(L.orientation={v:"h",h:"v"}[S.orientation]);w.swapXYData(L),m.calc=m.clearAxisTypes=!0}else-1!==p.dataArrayContainers.indexOf(M.parts[0])?(w.manageArrayContainers(M,I,b),m.calc=!0):(B?B.arrayOk&&!d.traceIs(S,"regl")&&(o.isArrayOrTypedArray(I)||o.isArrayOrTypedArray(R))?m.calc=!0:A.update(m,B):m.calc=!0,M.set(I))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(D)&&f.swap(e,a),"orientationaxes"===D){var ee=s(e.layout,"hovermode"),te=ee.get();"x"===te?ee.set("y"):"y"===te?ee.set("x"):"x unified"===te?ee.set("y unified"):"y unified"===te&&ee.set("x unified")}if(-1!==["orientation","type"].indexOf(D)){for(y=[],r=0;r<a.length;r++){var ae=l[a[r]];d.traceIs(ae,"cartesian")&&(x(ae.xaxis||"x"),x(ae.yaxis||"y"))}O(y.map(T),!0,0),O(y.map(k),[0,1],0)}}else M=h(e.layout,D.replace("LAYOUT","")),b[D]=[E(M.get())],M.set(Array.isArray(z)?z[0]:z),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:b,redoit:v,traces:a,eventData:o.extendDeepNoArrays([],[g,a])}}function G(e){var t,a,r,n=o.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)a=s[t],r=e[a],"title"!==a&&!n.test(a)&&!i.test(a)||"string"!==typeof r&&"number"!==typeof r?a.indexOf("titlefont")>-1?l(a,a.replace("titlefont","title.font")):a.indexOf("titleposition")>-1?l(a,a.replace("titleposition","title.position")):a.indexOf("titleside")>-1?l(a,a.replace("titleside","title.side")):a.indexOf("titleoffset")>-1&&l(a,a.replace("titleoffset","title.offset")):l(a,a.replace("title","title.text"));function l(t,a){e[a]=e[t],delete e[t]}}function U(e,t,a){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var r={};if("string"===typeof t)r[t]=a;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,a),Promise.reject();r=o.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var n=W(e,r),i=n.flags;i.calc&&(e.calcdata=void 0);var s=[p.previousPromises];i.layoutReplot?s.push(x.layoutReplot):Object.keys(r).length&&(N(e,i,n)||p.supplyDefaults(e),i.legend&&s.push(x.doLegend),i.layoutstyle&&s.push(x.layoutStyles),i.axrange&&H(s,n.rangesAltered),i.ticks&&s.push(x.doTicksRelayout),i.modebar&&s.push(x.doModeBar),i.camera&&s.push(x.doCamera),i.colorbars&&s.push(x.doColorBars),s.push(j)),s.push(p.rehover,p.redrag),u.add(e,U,[e,n.undoit],U,[e,n.redoit]);var l=o.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then((function(){return e.emit("plotly_relayout",n.eventData),e}))}function N(e,t,a){var r=e._fullLayout;if(!t.axrange)return!1;for(var n in t)if("axrange"!==n&&t[n])return!1;for(var i in a.rangesAltered){var o=f.id2name(i),s=e.layout[o],l=r[o];if(l.autorange=s.autorange,s.range&&(l.range=s.range.slice()),l.cleanRange(),l._matchGroup)for(var u in l._matchGroup)if(u!==i){var d=r[f.id2name(u)];d.autorange=l.autorange,d.range=l.range.slice(),d._input.range=l.range.slice()}}return!0}function H(e,t){var a=t?function(e){var a=[],r=!0;for(var n in t){var i=f.getFromId(e,n);if(a.push(n),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&a.push(i._anchorAxis._id),i._matchGroup)for(var o in i._matchGroup)t[o]||a.push(o);i.automargin&&(r=!1)}return f.draw(e,a,{skipTitle:r})}:function(e){return f.draw(e,"redraw")};e.push(v,x.doAutoRangeAndConstraints,a,x.drawData,x.finalDraw)}var q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,V=/^[xyz]axis[0-9]*\.autorange$/,Y=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function W(e,t){var a,r,n,i=e.layout,l=e._fullLayout,u=l._guiEditing,p=F(l._preGUI,u),h=Object.keys(t),g=f.list(e),y=o.extendDeepAll({},t),m={};for(G(t),h=Object.keys(t),r=0;r<h.length;r++)if(0===h[r].indexOf("allaxes")){for(n=0;n<g.length;n++){var v=g[n]._id.substr(1),b=-1!==v.indexOf("scene")?v+".":"",x=h[r].replace("allaxes",b+g[n]._name);t[x]||(t[x]=t[h[r]])}delete t[h[r]]}var k=A.layoutFlags(),j={},O={};function P(e,a){if(Array.isArray(e))e.forEach((function(e){P(e,a)}));else if(!(e in t)&&!w.hasParent(t,e)){var r=p(i,e);e in O||(O[e]=E(r.get())),void 0!==a&&r.set(a)}}var C,D={};function L(e){var t=f.name2id(e.split(".")[0]);return D[t]=1,t}for(var S in t){if(w.hasParent(t,S))throw new Error("cannot set "+S+" and a parent attribute simultaneously");for(var M=p(i,S),R=t[S],I=M.parts.length-1;I>0&&"string"!==typeof M.parts[I];)I--;var B=M.parts[I],z=M.parts[I-1]+"."+B,U=M.parts.slice(0,I).join("."),N=s(e.layout,U).get(),H=s(l,U).get(),W=M.get();if(void 0!==R){j[S]=R,O[S]="reverse"===B?R:E(W);var Q=c.getLayoutValObject(l,M.parts);if(Q&&Q.impliedEdits&&null!==R)for(var Z in Q.impliedEdits)P(o.relativeAttr(S,Z),Q.impliedEdits[Z]);if(-1!==["width","height"].indexOf(S))if(R){P("autosize",null);var J="height"===S?"width":"height";P(J,l[J])}else l[S]=e._initialAutoSize[S];else if("autosize"===S)P("width",R?null:l.width),P("height",R?null:l.height);else if(z.match(q))L(z),s(l,U+"._inputRange").set(null);else if(z.match(V)){L(z),s(l,U+"._inputRange").set(null);var K=s(l,U).get();K._inputDomain&&(K._input.domain=K._inputDomain.slice())}else z.match(Y)&&s(l,U+"._inputDomain").set(null);if("type"===B){C=N;var X="linear"===H.type&&"log"===R,ee="log"===H.type&&"linear"===R;if(X||ee){if(C&&C.range)if(H.autorange)X&&(C.range=C.range[1]>C.range[0]?[1,2]:[2,1]);else{var te=C.range[0],ae=C.range[1];X?(te<=0&&ae<=0&&P(U+".autorange",!0),te<=0?te=ae/1e6:ae<=0&&(ae=te/1e6),P(U+".range[0]",Math.log(te)/Math.LN10),P(U+".range[1]",Math.log(ae)/Math.LN10)):(P(U+".range[0]",Math.pow(10,te)),P(U+".range[1]",Math.pow(10,ae)))}else P(U+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[M.parts[0]]&&"radialaxis"===M.parts[1]&&delete l[M.parts[0]]._subplot.viewInitial["radialaxis.range"],d.getComponentMethod("annotations","convertCoords")(e,H,R,P),d.getComponentMethod("images","convertCoords")(e,H,R,P)}else P(U+".autorange",!0),P(U+".range",null);s(l,U+"._inputRange").set(null)}else if(B.match(T)){var re=s(l,S).get(),ne=(R||{}).type;ne&&"-"!==ne||(ne="linear"),d.getComponentMethod("annotations","convertCoords")(e,re,ne,P),d.getComponentMethod("images","convertCoords")(e,re,ne,P)}var ie=_.containerArrayMatch(S);if(ie){a=ie.array,r=ie.index;var oe=ie.property,se=Q||{editType:"calc"};""!==r&&""===oe&&(_.isAddVal(R)?O[S]=null:_.isRemoveVal(R)?O[S]=(s(i,a).get()||[])[r]:o.warn("unrecognized full object value",t)),A.update(k,se),m[a]||(m[a]={});var le=m[a][r];le||(le=m[a][r]={}),le[oe]=R,delete t[S]}else"reverse"===B?(N.range?N.range.reverse():(P(U+".autorange",!0),N.range=[1,0]),H.autorange?k.calc=!0:k.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===S&&("lasso"===R||"select"===R)&&"lasso"!==W&&"select"!==W||l._has("gl2d")?k.plot=!0:Q?A.update(k,Q):k.calc=!0,M.set(R))}}for(a in m){_.applyContainerArrayChanges(e,p(i,a),m[a],k,p)||(k.plot=!0)}for(var ue in D){var de=(C=f.getFromId(e,ue))&&C._constraintGroup;if(de)for(var ce in k.calc=!0,de)D[ce]||(f.getFromId(e,ce)._constraintShrinkable=!0)}return($(e)||t.height||t.width)&&(k.plot=!0),(k.plot||k.calc)&&(k.layoutReplot=!0),{flags:k,rangesAltered:D,undoit:O,redoit:j,eventData:y}}function $(e){var t=e._fullLayout,a=t.width,r=t.height;return e.layout.autosize&&p.plotAutoSize(e,e.layout,t),t.width!==a||t.height!==r}function Q(e,a,r,n){e=o.getGraphDiv(e),w.clearPromiseQueue(e),o.isPlainObject(a)||(a={}),o.isPlainObject(r)||(r={}),Object.keys(a).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var i=w.coerceTraceIndices(e,n),s=z(e,o.extendFlat({},a),i),l=s.flags,d=W(e,o.extendFlat({},r)),c=d.flags;(l.calc||c.calc)&&(e.calcdata=void 0),l.clearAxisTypes&&w.clearAxisTypes(e,i,r);var f=[];c.layoutReplot?f.push(x.layoutReplot):l.fullReplot?f.push(t._doPlot):(f.push(p.previousPromises),N(e,c,d)||p.supplyDefaults(e),l.style&&f.push(x.doTraceStyle),(l.colorbars||c.colorbars)&&f.push(x.doColorBars),c.legend&&f.push(x.doLegend),c.layoutstyle&&f.push(x.layoutStyles),c.axrange&&H(f,d.rangesAltered),c.ticks&&f.push(x.doTicksRelayout),c.modebar&&f.push(x.doModeBar),c.camera&&f.push(x.doCamera),f.push(j)),f.push(p.rehover,p.redrag),u.add(e,Q,[e,s.undoit,d.undoit,s.traces],Q,[e,s.redoit,d.redoit,s.traces]);var h=o.syncOrAsync(f,e);return h&&h.then||(h=Promise.resolve(e)),h.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:d.eventData}),e}))}function Z(e){return function(t){t._fullLayout._guiEditing=!0;var a=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,a}}var J=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],K=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function X(e,t){for(var a=0;a<t.length;a++){var r=t[a],n=e.match(r.pattern);if(n)return{head:n[1],attr:r.attr}}}function ee(e,t){var a=s(t,e).get();if(void 0!==a)return a;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(a=s(t,r.join(".")+".uirevision").get()))return a;return t.uirevision}function te(e,t){for(var a=0;a<t.length;a++)if(t[a]._fullInput.uid===e)return a;return-1}function ae(e,t,a){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[a]||t[a].uid?-1:a}function re(e,t){var a=o.isPlainObject(e),r=Array.isArray(e);return a||r?(a&&o.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function ne(e,t,a,r){var n,i,l,u=r.getValObject,d=r.flags,c=r.immutable,p=r.inArray,f=r.arrayIndex;function h(){var e=n.editType;p&&-1!==e.indexOf("arraydraw")?o.pushUnique(d.arrays[p],f):(A.update(d,n),"none"!==e&&d.nChanges++,r.transition&&n.anim&&d.nChangesAnim++,(q.test(l)||V.test(l))&&(d.rangesAltered[a[0]]=1),Y.test(l)&&s(t,"_inputDomain").set(null),"datarevision"===i&&(d.newDataRevision=1))}function g(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(d.calc&&!r.transition)return;var y=e[i],m=t[i],v=a.concat(i);if(l=v.join("."),"_"!==i.charAt(0)&&"function"!==typeof y&&y!==m){if(("tick0"===i||"dtick"===i)&&"geo"!==a[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)&&(n=u(v))&&(!n._compareAsJSON||JSON.stringify(y)!==JSON.stringify(m))){var _,w=n.valType,x=g(n),T=Array.isArray(y),k=Array.isArray(m);if(T&&k){var j="_input_"+i,O=e[j],P=t[j];if(Array.isArray(O)&&O===P)continue}if(void 0===m)x&&T?d.calc=!0:h();else if(n._isLinkedToArray){var C=[],D=!1;p||(d.arrays[i]=C);var L=Math.min(y.length,m.length),S=Math.max(y.length,m.length);if(L!==S){if("arraydraw"!==n.editType){h();continue}D=!0}for(_=0;_<L;_++)ne(y[_],m[_],v.concat(_),o.extendFlat({inArray:i,arrayIndex:_},r));if(D)for(_=L;_<S;_++)C.push(_)}else!w&&o.isPlainObject(y)?ne(y,m,v,r):x?T&&k?(c&&(d.calc=!0),(c||r.newDataRevision)&&h()):T!==k?d.calc=!0:h():T&&k&&y.length===m.length&&String(y)===String(m)||h()}}}for(i in t)if(!(i in e)&&"_"!==i.charAt(0)&&"function"!==typeof t[i]){if(g(n=u(a.concat(i)))&&Array.isArray(t[i]))return void(d.calc=!0);h()}}function ie(e,t){var a;for(a in e)if("_"!==a.charAt(0)){var r=e[a],n=t[a];if(r!==n)if(o.isPlainObject(r)&&o.isPlainObject(n)){if(ie(r,n))return!0}else{if(!Array.isArray(r)||!Array.isArray(n))return!0;if(r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(r[i]!==n[i]){if(!o.isPlainObject(r[i])||!o.isPlainObject(n[i]))return!0;if(ie(r[i],n[i]))return!0}}}}function oe(e){var t=e._fullLayout,a=e.getBoundingClientRect();if(!o.equalDomRects(a,t._lastBBox)){var r=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=a}}t.animate=function(e,t,a){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var n=(a=p.supplyAnimationDefaults(a)).transition,i=a.frame;function s(e){return Array.isArray(n)?e>=n.length?n[0]:n[e]:n}function l(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function u(e,t){var a=0;return function(){if(e&&++a===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(i,d){function c(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var a=t.name?t.name.toString():null;e._fullLayout._currentFrame=a,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,p.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:a,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function f(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var t=function(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&c()};t()}var h,g,y=0;function m(e){return Array.isArray(n)?y>=n.length?e.transitionOpts=n[y]:e.transitionOpts=n[0]:e.transitionOpts=n,y++,e}var v=[],b=void 0===t||null===t,_=Array.isArray(t);if(!b&&!_&&o.isPlainObject(t))v.push({type:"object",data:m(o.extendFlat({},t))});else if(b||-1!==["string","number"].indexOf(typeof t))for(h=0;h<r._frames.length;h++)(g=r._frames[h])&&(b||String(g.group)===String(t))&&v.push({type:"byname",name:String(g.name),data:m({name:g.name})});else if(_)for(h=0;h<t.length;h++){var x=t[h];-1!==["number","string"].indexOf(typeof x)?(x=String(x),v.push({type:"byname",name:x,data:m({name:x})})):o.isPlainObject(x)&&v.push({type:"object",data:m(o.extendFlat({},x))})}for(h=0;h<v.length;h++)if("byname"===(g=v[h]).type&&!r._frameHash[g.data.name])return o.warn('animate failure: frame not found: "'+g.data.name+'"'),void d();-1!==["next","immediate"].indexOf(a.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===a.direction&&v.reverse();var A=e._fullLayout._currentFrame;if(A&&a.fromcurrent){var T=-1;for(h=0;h<v.length;h++)if("byname"===(g=v[h]).type&&g.name===A){T=h;break}if(T>0&&T<v.length-1){var k=[];for(h=0;h<v.length;h++)g=v[h],("byname"!==v[h].type||h>T)&&k.push(g);v=k}}v.length>0?function(t){if(0!==t.length){for(var n=0;n<t.length;n++){var o;o="byname"===t[n].type?p.computeFrame(e,t[n].name):t[n].data;var c=l(n),h=s(n);h.duration=Math.min(h.duration,c.duration);var g={frame:o,name:t[n].name,frameOpts:c,transitionOpts:h};n===t.length-1&&(g.onComplete=u(i,2),g.onInterrupt=d),r._frameQueue.push(g)}"immediate"===a.mode&&(r._lastFrameAt=-1/0),r._animationRaf||f()}}(v):(e.emit("plotly_animated"),i())}))},t.addFrames=function(e,t,a){if(e=o.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,n,i,s,l=e._transitionData._frames,d=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var c=l.length+2*t.length,f=[],h={};for(r=t.length-1;r>=0;r--)if(o.isPlainObject(t[r])){var g=t[r].name,y=(d[g]||h[g]||{}).name,m=t[r].name,v=d[y]||h[y];y&&m&&"number"===typeof m&&v&&k<5&&(k++,o.warn('addFrames: overwriting frame "'+(d[y]||h[y]).name+'" with a frame whose name of type "number" also equates to "'+y+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===k&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),h[g]={name:g},f.push({frame:p.supplyFrameDefaults(t[r]),index:a&&void 0!==a[r]&&null!==a[r]?a[r]:c+r})}f.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],_=[],w=l.length;for(r=f.length-1;r>=0;r--){if("number"===typeof(n=f[r].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;d[n.name="frame "+e._transitionData._counter++];);if(d[n.name]){for(i=0;i<l.length&&(l[i]||{}).name!==n.name;i++);b.push({type:"replace",index:i,value:n}),_.unshift({type:"replace",index:i,value:l[i]})}else s=Math.max(0,Math.min(f[r].index,w)),b.push({type:"insert",index:s,value:n}),_.unshift({type:"delete",index:s}),w++}var x=p.modifyFrames,A=p.modifyFrames,T=[e,_],j=[e,b];return u&&u.add(e,x,T,A,j),p.modifyFrames(e,b)},t.deleteFrames=function(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var a,r,n=e._transitionData._frames,i=[],s=[];if(!t)for(t=[],a=0;a<n.length;a++)t.push(a);for((t=t.slice()).sort(),a=t.length-1;a>=0;a--)r=t[a],i.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:n[r]});var l=p.modifyFrames,d=p.modifyFrames,c=[e,s],f=[e,i];return u&&u.add(e,l,c,d,f),p.modifyFrames(e,i)},t.addTraces=function e(a,r,n){a=o.getGraphDiv(a);var i,s,l=[],d=t.deleteTraces,c=e,p=[a,l],f=[a,r];for(function(e,t,a){var r,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!==typeof(n=t[r])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if("undefined"===typeof a||Array.isArray(a)||(a=[a]),"undefined"!==typeof a&&a.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(a,r,n),Array.isArray(r)||(r=[r]),r=r.map((function(e){return o.extendFlat({},e)})),w.cleanData(r),i=0;i<r.length;i++)a.data.push(r[i]);for(i=0;i<r.length;i++)l.push(-r.length+i);if("undefined"===typeof n)return s=t.redraw(a),u.add(a,d,p,c,f),s;Array.isArray(n)||(n=[n]);try{S(a,l,n)}catch(h){throw a.data.splice(a.data.length-r.length,r.length),h}return u.startSequence(a),u.add(a,d,p,c,f),s=t.moveTraces(a,l,n),u.stopSequence(a),s},t.deleteTraces=function e(a,r){a=o.getGraphDiv(a);var n,i,s=[],l=t.addTraces,d=e,c=[a,s,r],p=[a,r];if("undefined"===typeof r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),L(a,r,"indices"),(r=D(r,a.data.length-1)).sort(o.sorterDes),n=0;n<r.length;n+=1)i=a.data.splice(r[n],1)[0],s.push(i);var f=t.redraw(a);return u.add(a,l,c,d,p),f},t.extendTraces=function e(a,r,n,i){var s=M(a=o.getGraphDiv(a),r,n,i,(function(e,t,a){var r,n;if(o.isTypedArray(e))if(a<0){var i=new e.constructor(0),s=R(e,t);a<0?(r=s,n=i):(r=i,n=s)}else if(r=new e.constructor(a),n=new e.constructor(e.length+t.length-a),a===t.length)r.set(t),n.set(e);else if(a<t.length){var l=t.length-a;r.set(t.subarray(l)),n.set(e),n.set(t.subarray(0,l),e.length)}else{var u=a-t.length,d=e.length-u;r.set(e.subarray(d)),r.set(t,u),n.set(e.subarray(0,d))}else r=e.concat(t),n=a>=0&&a<r.length?r.splice(0,r.length-a):[];return[r,n]})),l=t.redraw(a),d=[a,s.update,n,s.maxPoints];return u.add(a,t.prependTraces,d,e,arguments),l},t.moveTraces=function e(a,r,n){var i,s=[],l=[],d=e,c=e,p=[a=o.getGraphDiv(a),n,r],f=[a,r,n];if(S(a,r,n),r=Array.isArray(r)?r:[r],"undefined"===typeof n)for(n=[],i=0;i<r.length;i++)n.push(-r.length+i);for(n=Array.isArray(n)?n:[n],r=D(r,a.data.length-1),n=D(n,a.data.length-1),i=0;i<a.data.length;i++)-1===r.indexOf(i)&&s.push(a.data[i]);for(i=0;i<r.length;i++)l.push({newIndex:n[i],trace:a.data[r[i]]});for(l.sort((function(e,t){return e.newIndex-t.newIndex})),i=0;i<l.length;i+=1)s.splice(l[i].newIndex,0,l[i].trace);a.data=s;var h=t.redraw(a);return u.add(a,d,p,c,f),h},t.prependTraces=function e(a,r,n,i){var s=M(a=o.getGraphDiv(a),r,n,i,(function(e,t,a){var r,n;if(o.isTypedArray(e))if(a<=0){var i=new e.constructor(0),s=R(t,e);a<0?(r=s,n=i):(r=i,n=s)}else if(r=new e.constructor(a),n=new e.constructor(e.length+t.length-a),a===t.length)r.set(t),n.set(e);else if(a<t.length){var l=t.length-a;r.set(t.subarray(0,l)),n.set(t.subarray(l)),n.set(e,l)}else{var u=a-t.length;r.set(t),r.set(e.subarray(0,u),t.length),n.set(e.subarray(u))}else r=t.concat(e),n=a>=0&&a<r.length?r.splice(a,r.length):[];return[r,n]})),l=t.redraw(a),d=[a,s.update,n,s.maxPoints];return u.add(a,t.extendTraces,d,e,arguments),l},t.newPlot=function(e,a,r,n){return e=o.getGraphDiv(e),p.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),p.purge(e),t._doPlot(e,a,r,n)},t._doPlot=function(e,a,n,i){var s;if(e=o.getGraphDiv(e),l.init(e),o.isPlainObject(a)){var u=a;a=u.data,n=u.layout,i=u.config,s=u.frames}if(!1===l.triggerHandler(e,"plotly_beforeplot",[a,n,i]))return Promise.reject();a||n||o.isPlotDiv(e)||o.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e),C(e,i),n||(n={}),r.select(e).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var c=0===(e.data||[]).length&&Array.isArray(a);Array.isArray(a)&&(w.cleanData(a),c?e.data=a:e.data.push.apply(e.data,a),e.empty=!1),e.layout&&!c||(e.layout=w.cleanLayout(n)),p.supplyDefaults(e);var g=e._fullLayout,v=g._has("cartesian");g._replotting=!0,(c||g._shouldCreateBgLayer)&&(!function(e){var t=r.select(e),a=e._fullLayout;if(a._calcInverseTransform=oe,a._calcInverseTransform(e),a._container=t.selectAll(".plot-container").data([0]),a._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),a._paperdiv=a._container.selectAll(".svg-container").data([0]),a._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),a._glcontainer=a._paperdiv.selectAll(".gl-container").data([{}]),a._glcontainer.enter().append("div").classed("gl-container",!0),a._paperdiv.selectAll(".main-svg").remove(),a._paperdiv.select(".modebar-container").remove(),a._paper=a._paperdiv.insert("svg",":first-child").classed("main-svg",!0),a._toppaper=a._paperdiv.append("svg").classed("main-svg",!0),a._modebardiv=a._paperdiv.append("div"),delete a._modeBar,a._hoverpaper=a._paperdiv.append("svg").classed("main-svg",!0),!a._uid){var n={};r.selectAll("defs").each((function(){this.id&&(n[this.id.split("-")[1]]=1)})),a._uid=o.randstr(n)}a._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),a._defs=a._paper.append("defs").attr("id","defs-"+a._uid),a._clips=a._defs.append("g").classed("clips",!0),a._topdefs=a._toppaper.append("defs").attr("id","topdefs-"+a._uid),a._topclips=a._topdefs.append("g").classed("clips",!0),a._bgLayer=a._paper.append("g").classed("bglayer",!0),a._draggers=a._paper.append("g").classed("draglayer",!0);var i=a._paper.append("g").classed("layer-below",!0);a._imageLowerLayer=i.append("g").classed("imagelayer",!0),a._shapeLowerLayer=i.append("g").classed("shapelayer",!0),a._cartesianlayer=a._paper.append("g").classed("cartesianlayer",!0),a._polarlayer=a._paper.append("g").classed("polarlayer",!0),a._ternarylayer=a._paper.append("g").classed("ternarylayer",!0),a._geolayer=a._paper.append("g").classed("geolayer",!0),a._funnelarealayer=a._paper.append("g").classed("funnelarealayer",!0),a._pielayer=a._paper.append("g").classed("pielayer",!0),a._iciclelayer=a._paper.append("g").classed("iciclelayer",!0),a._treemaplayer=a._paper.append("g").classed("treemaplayer",!0),a._sunburstlayer=a._paper.append("g").classed("sunburstlayer",!0),a._indicatorlayer=a._toppaper.append("g").classed("indicatorlayer",!0),a._glimages=a._paper.append("g").classed("glimages",!0);var s=a._toppaper.append("g").classed("layer-above",!0);a._imageUpperLayer=s.append("g").classed("imagelayer",!0),a._shapeUpperLayer=s.append("g").classed("shapelayer",!0),a._infolayer=a._toppaper.append("g").classed("infolayer",!0),a._menulayer=a._toppaper.append("g").classed("menulayer",!0),a._zoomlayer=a._toppaper.append("g").classed("zoomlayer",!0),a._hoverlayer=a._hoverpaper.append("g").classed("hoverlayer",!0),a._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}(e),g._shouldCreateBgLayer&&delete g._shouldCreateBgLayer),h.initGradients(e),h.initPatterns(e),c&&f.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&p.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||p.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var A=o.extendFlat({},g._size),T=0;function k(){if(p.clearAutoMarginIds(e),x.drawMarginPushers(e),f.allowAutoMargin(e),g._has("pie"))for(var t=e._fullData,a=0;a<t.length;a++){var r=t[a];"pie"===r.type&&r.automargin&&p.allowAutoMargin(e,"pie."+r.uid+".automargin")}return p.doAutoMargin(e),p.previousPromises(e)}function O(){e._transitioning||(x.doAutoRangeAndConstraints(e),c&&f.saveRangeInitial(e),d.getComponentMethod("rangeslider","calcAutorange")(e))}var P=[p.previousPromises,function(){if(s)return t.addFrames(e,s)},function t(){for(var a=g._basePlotModules,r=0;r<a.length;r++)a[r].drawFramework&&a[r].drawFramework(e);!g._glcanvas&&g._has("gl")&&(g._glcanvas=g._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),g._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var n=e._context.plotGlPixelRatio;if(g._glcanvas){g._glcanvas.attr("width",g.width*n).attr("height",g.height*n).style("width",g.width+"px").style("height",g.height+"px");var i=g._glcanvas.data()[0].regl;if(i&&(Math.floor(g.width*n)!==i._gl.drawingBufferWidth||Math.floor(g.height*n)!==i._gl.drawingBufferHeight)){var s="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!T)return o.log(s+" Clearing graph and plotting again."),p.cleanPlot([],{},e._fullData,g),p.supplyDefaults(e),g=e._fullLayout,p.doCalcdata(e),T++,t();o.error(s)}}return"h"===g.modebar.orientation?g._modebardiv.style("height",null).style("width","100%"):g._modebardiv.style("width",null).style("height",g.height+"px"),p.previousPromises(e)},k,function(){if(p.didMarginChange(A,g._size))return o.syncOrAsync([k,x.layoutStyles],e)}];v&&P.push((function(){if(b)return o.syncOrAsync([d.getComponentMethod("shapes","calcAutorange"),d.getComponentMethod("annotations","calcAutorange"),O],e);O()})),P.push(x.layoutStyles),v&&P.push((function(){return f.draw(e,c?"":"redraw")}),(function(e){e._fullLayout._insideTickLabelsAutorange&&U(e,e._fullLayout._insideTickLabelsAutorange).then((function(){e._fullLayout._insideTickLabelsAutorange=void 0}))})),P.push(x.drawData,x.finalDraw,y,p.addLinks,p.rehover,p.redrag,p.doAutoMargin,(function(e){e._fullLayout._insideTickLabelsAutorange&&c&&f.saveRangeInitial(e,!0)}),p.previousPromises);var D=o.syncOrAsync(P,e);return D&&D.then||(D=Promise.resolve()),D.then((function(){return j(e),e}))},t.purge=function(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},a=e._fullData||[];return p.cleanPlot([],{},a,t),p.purge(e),l.purge(e),t._container&&t._container.remove(),delete e._context,e},t.react=function(e,a,r,n){var i,l;e=o.getGraphDiv(e),w.clearPromiseQueue(e);var u=e._fullData,f=e._fullLayout;if(o.isPlotDiv(e)&&u&&f){if(o.isPlainObject(a)){var h=a;a=h.data,r=h.layout,n=h.config,i=h.frames}var g=!1;if(n){var y=o.extendDeep({},e._context);e._context=void 0,C(e,n),g=ie(y,e._context)}e.data=a||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),function(e,t,a,r){var n,i,l,u,d,c,p,f,h=r._preGUI,g=[],y={};for(n in h){if(d=X(n,J)){if(i=d.attr||d.head+".uirevision",(u=(l=s(r,i).get())&&ee(i,t))&&u===l&&(null===(c=h[n])&&(c=void 0),re(f=(p=s(t,n)).get(),c))){void 0===f&&"autorange"===n.substr(n.length-9)&&g.push(n.substr(0,n.length-10)),p.set(E(s(r,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n);delete h[n],"range["===n.substr(n.length-8,6)&&(y[n.substr(0,n.length-9)]=1)}for(var m=0;m<g.length;m++){var v=g[m];if(y[v]){var b=s(t,v).get();b&&delete b.autorange}}var _=r._tracePreGUI;for(var w in _){var x,A=_[w],T=null;for(n in A){if(!T){var k=te(w,a);if(k<0){delete _[w];break}var j=ae(w,e,(x=a[k]._fullInput).index);if(j<0){delete _[w];break}T=e[j]}if(d=X(n,K)){if(d.attr?u=(l=s(r,d.attr).get())&&ee(d.attr,t):(l=x.uirevision,void 0===(u=T.uirevision)&&(u=t.uirevision)),u&&u===l&&(null===(c=A[n])&&(c=void 0),re(f=(p=s(T,n)).get(),c))){p.set(E(s(x,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n+" in trace uid "+w);delete A[n]}}}(e.data,e.layout,u,f),p.supplyDefaults(e,{skipUpdateCalc:!0});var m=e._fullData,v=e._fullLayout,b=void 0===v.datarevision,_=v.transition,T=function(e,t,a,r,n){var i=A.layoutFlags();function o(e){return c.getLayoutValObject(a,e)}i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0;var s={getValObject:o,flags:i,immutable:r,transition:n,gd:e};ne(t,a,[],s),(i.plot||i.calc)&&(i.layoutReplot=!0);n&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some");return i}(e,f,v,b,_),k=T.newDataRevision,O=function(e,t,a,r,n,i){var o=t.length===a.length;if(!n&&!o)return{fullReplot:!0,calc:!0};var s,l,u=A.traceFlags();function d(e){var t=c.getTraceValObject(l,e);return!l._module.animatable&&t.anim&&(t.anim=!1),t}u.arrays={},u.nChanges=0,u.nChangesAnim=0;var f={getValObject:d,flags:u,immutable:r,transition:n,newDataRevision:i,gd:e},h={};for(s=0;s<t.length;s++)if(a[s]){if(l=a[s]._fullInput,p.hasMakesDataTransform(l)&&(l=a[s]),h[l.uid])continue;h[l.uid]=1,ne(t[s]._fullInput,l,[],f)}(u.calc||u.plot)&&(u.fullReplot=!0);n&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&o?"all":"some");return u}(e,u,m,b,_,k);if($(e)&&(T.layoutReplot=!0),O.calc||T.calc){e.calcdata=void 0;for(var P=Object.getOwnPropertyNames(v),D=0;D<P.length;D++){var L=P[D],S=L.substring(0,5);if("xaxis"===S||"yaxis"===S){var M=v[L]._emptyCategories;M&&M()}}}else p.supplyDefaultsUpdateCalc(e.calcdata,m);var R=[];if(i&&(e._transitionData={},p.createTransitionData(e),R.push((function(){return t.addFrames(e,i)}))),v.transition&&!g&&(O.anim||T.anim))T.ticks&&R.push(x.doTicksRelayout),p.doCalcdata(e),x.doAutoRangeAndConstraints(e),R.push((function(){return p.transitionFromReact(e,O,T,f)}));else if(O.fullReplot||T.layoutReplot||g)e._fullLayout._skipDefaults=!0,R.push(t._doPlot);else{for(var I in T.arrays){var F=T.arrays[I];if(F.length){var B=d.getComponentMethod(I,"drawOne");if(B!==o.noop)for(var z=0;z<F.length;z++)B(e,F[z]);else{var G=d.getComponentMethod(I,"draw");if(G===o.noop)throw new Error("cannot draw components: "+I);G(e)}}}R.push(p.previousPromises),O.style&&R.push(x.doTraceStyle),(O.colorbars||T.colorbars)&&R.push(x.doColorBars),T.legend&&R.push(x.doLegend),T.layoutstyle&&R.push(x.layoutStyles),T.axrange&&H(R),T.ticks&&R.push(x.doTicksRelayout),T.modebar&&R.push(x.doModeBar),T.camera&&R.push(x.doCamera),R.push(j)}R.push(p.rehover,p.redrag),(l=o.syncOrAsync(R,e))&&l.then||(l=Promise.resolve(e))}else l=t.newPlot(e,a,r,n);return l.then((function(){return e.emit("plotly_react",{data:a,layout:r}),e}))},t.redraw=function(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,t._doPlot(e).then((function(){return e.emit("plotly_redraw"),e}))},t.relayout=U,t.restyle=I,t.setPlotConfig=function(e){return o.extendFlat(b,e)},t.update=Q,t._guiRelayout=Z(U),t._guiRestyle=Z(I),t._guiUpdate=Z(Q),t._storeDirectGUIEdit=function(e,t,a){for(var r in a){B(r,s(e,r).get(),a[r],t)}}},12788:function(e){var t={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo and mapbox subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo and mapbox) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export.","This config option was formerly named `plot3dPixelRatio`","which is now deprecated."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},globalTransforms:{valType:"any",dflt:[],description:["Set global transform to be applied to all traces with no","specification needed"].join(" ")},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},a={};!function e(t,a){for(var r in t){var n=t[r];n.valType?a[r]=n.dflt:(a[r]||(a[r]={}),e(n,a[r]))}}(t,a),e.exports={configAttributes:t,dfltConfig:a}},16545:function(e,t,a){var r=a(62282),n=a(47401),i=a(42837),o=a(19744),s=a(81255),l=a(46218),u=a(12788).configAttributes,d=a(17342),c=n.extendDeepAll,p=n.isPlainObject,f=n.isArrayOrTypedArray,h=n.nestedProperty,g=n.valObjectMeta,y="_isSubplotObj",m="_isLinkedToArray",v="_deprecated",b=[y,m,"_arrayAttrRegexps",v];function _(e,t,a){if(!e)return!1;if(e._isLinkedToArray)if(w(t[a]))a++;else if(a<t.length)return!1;for(;a<t.length;a++){var r=e[t[a]];if(!p(r))break;if(e=r,a===t.length-1)break;if(e._isLinkedToArray){if(!w(t[++a]))return!1}else if("info_array"===e.valType){var n=t[++a];if(!w(n))return!1;var i=e.items;if(Array.isArray(i)){if(n>=i.length)return!1;if(2===e.dimensions){if(a++,t.length===a)return e;var o=t[a];if(!w(o))return!1;e=i[n][o]}else e=i[n]}else e=i}}return e}function w(e){return e===Math.round(e)&&e>=0}function x(){var e,t,a={};for(e in c(a,o),r.subplotsRegistry){if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)k(a,t,t.attr[n]);else k(a,t,"subplot"===t.attr?t.name:t.attr)}for(e in r.componentsRegistry){var i=(t=r.componentsRegistry[e]).schema;if(i&&(i.subplots||i.layout)){var s=i.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete a.yaxis[l]}else"colorscale"===t.name?c(a,t.layoutAttributes):t.layoutAttributes&&j(a,t.layoutAttributes,t.name)}return{layoutAttributes:T(a)}}function A(){var e={frames:c({},s)};return T(e),e.frames}function T(e){return function(e){function a(e){return{valType:"string",description:["Sets the source reference on Chart Studio Cloud for ",e,"."].join(" "),editType:"none"}}function r(e,r,n){t.isValObject(e)?!0!==e.arrayOk&&"data_array"!==e.valType||(n[r+"src"]=a(r)):p(e)&&(e.role="object")}t.crawl(e,r)}(e),function(e){function a(e,t,a){if(e){var r=e[m];r&&(delete e[m],a[t]={items:{}},a[t].items[r]=e,a[t].role="object")}}t.crawl(e,a)}(e),function(e){function t(e){for(var a in e)if(p(e[a]))t(e[a]);else if(Array.isArray(e[a]))for(var r=0;r<e[a].length;r++)t(e[a][r]);else e[a]instanceof RegExp&&(e[a]=e[a].toString())}t(e)}(e),e}function k(e,t,a){var r=h(e,a),n=c({},t.layoutAttributes);n[y]=!0,r.set(n)}function j(e,t,a){var r=h(e,a);r.set(c(r.get()||{},t))}t.IS_SUBPLOT_OBJ=y,t.IS_LINKED_TO_ARRAY=m,t.DEPRECATED=v,t.UNDERSCORE_ATTRS=b,t.get=function(){var e={};r.allTypes.forEach((function(a){e[a]=function(e){var a,n;a=r.modules[e]._module,n=a.basePlotModule;var o={type:null},s=c({},i),l=c({},a.attributes);t.crawl(l,(function(e,t,a,r,n){h(s,n).set(void 0),void 0===e&&h(l,n).set(void 0)})),c(o,s),r.traceIs(e,"noOpacity")&&delete o.opacity;r.traceIs(e,"showLegend")||(delete o.showlegend,delete o.legendgroup);r.traceIs(e,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel);a.selectPoints||delete o.selectedpoints;c(o,l),n.attributes&&c(o,n.attributes);o.type=e;var u={meta:a.meta||{},categories:a.categories||{},animatable:Boolean(a.animatable),type:e,attributes:T(o)};if(a.layoutAttributes){var d={};c(d,a.layoutAttributes),u.layoutAttributes=T(d)}a.animatable||t.crawl(u,(function(e){t.isValObject(e)&&"anim"in e&&delete e.anim}));return u}(a)}));var a={};return Object.keys(r.transformsRegistry).forEach((function(e){a[e]=function(e){var t=r.transformsRegistry[e],a=c({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var n=r.componentsRegistry[t];n.schema&&n.schema.transforms&&n.schema.transforms[e]&&Object.keys(n.schema.transforms[e]).forEach((function(t){j(a,n.schema.transforms[e][t],t)}))})),{attributes:T(a)}}(e)})),{defs:{valObjects:g,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:e,layout:x(),transforms:a,frames:A(),animation:T(l),config:T(u)}},t.crawl=function(e,a,r,n){var i=r||0;n=n||"",Object.keys(e).forEach((function(r){var o=e[r];if(-1===b.indexOf(r)){var s=(n?n+".":"")+r;a(o,r,e,i,s),t.isValObject(o)||p(o)&&"impliedEdits"!==r&&t.crawl(o,a,i+1,s)}}))},t.isValObject=function(e){return e&&void 0!==e.valType},t.findArrayAttributes=function(e){var a,r,n=[],o=[],s=[];function l(e,t,r,n){o=o.slice(0,n).concat([t]),s=s.slice(0,n).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===o[n-1]&&("ticktext"===t||"tickvals"===t))&&u(a,0,"")}function u(e,t,a){var i=e[o[t]],l=a+o[t];if(t===o.length-1)f(i)&&n.push(r+l);else if(s[t]){if(Array.isArray(i))for(var d=0;d<i.length;d++)p(i[d])&&u(i[d],t+1,l+"["+d+"].")}else p(i)&&u(i,t+1,l+".")}a=e,r="",t.crawl(i,l),e._module&&e._module.attributes&&t.crawl(e._module.attributes,l);var d=e.transforms;if(d)for(var c=0;c<d.length;c++){var h=d[c],g=h._module;g&&(r="transforms["+c+"].",a=h,t.crawl(g.attributes,l))}return n},t.getTraceValObject=function(e,t){var a,n,o=t[0],s=1;if("transforms"===o){if(1===t.length)return i.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var u=t[1];if(!w(u)||u>=l.length)return!1;n=(a=(r.transformsRegistry[l[u].type]||{}).attributes)&&a[t[2]],s=3}else{var d=e._module;if(d||(d=(r.modules[e.type||i.type.dflt]||{})._module),!d)return!1;if(!(n=(a=d.attributes)&&a[o])){var c=d.basePlotModule;c&&c.attributes&&(n=c.attributes[o])}n||(n=i[o])}return _(n,t,s)},t.getLayoutValObject=function(e,t){var a=function(e,t){var a,n,i,s,l=e._basePlotModules;if(l){var u;for(a=0;a<l.length;a++){if((i=l[a]).attrRegex&&i.attrRegex.test(t)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!u&&i.layoutAttributes&&(u=i.layoutAttributes)}var d=i.baseLayoutAttrOverrides;if(d&&t in d)return d[t]}if(u)return u}var c=e._modules;if(c)for(a=0;a<c.length;a++)if((s=c[a].layoutAttributes)&&t in s)return s[t];for(n in r.componentsRegistry){if("colorscale"===(i=r.componentsRegistry[n]).name&&0===t.indexOf("coloraxis"))return i.layoutAttributes[t];if(!i.schema&&t===i.name)return i.layoutAttributes}return t in o&&o[t]}(e,t[0]);return _(a,t,1)}},92704:function(e,t,a){var r=a(47401),n=a(42837),i="templateitemname",o={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};function s(e){return e&&"string"===typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}o[i]={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")},t.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=o.name,t[i]=o[i],t},t.traceTemplater=function(e){var t,a,i={};for(t in e)a=e[t],Array.isArray(a)&&a.length&&(i[t]=0);return{newTrace:function(o){var s={type:t=r.coerce(o,{},n,"type"),_template:null};if(t in i){a=e[t];var l=i[t]%a.length;i[t]++,s._template=a[l]}return s}}},t.newContainer=function(e,t,a){var n=e._template,i=n&&(n[t]||a&&n[a]);return r.isPlainObject(i)||(i=null),e[t]={_template:i}},t.arrayTemplater=function(e,t,a){var r=e._template,n=r&&r[l(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var u={};return{newItem:function(e){var t={name:e.name,_input:e},r=t[i]=e[i];if(!s(r))return t._template=n,t;for(var l=0;l<o.length;l++){var d=o[l];if(d.name===r)return u[r]=1,t._template=d,t}return t[a]=e[a]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<o.length;t++){var a=o[t],r=a.name;if(s(r)&&!u[r]){var n={_template:a,name:r,_input:{_templateitemname:r}};n[i]=a[i],e.push(n),u[r]=1}}return e}}},t.arrayDefaultKey=l,t.arrayEditor=function(e,t,a){var n=(r.nestedProperty(e,t).get()||[]).length,o=a._index,s=o>=n&&(a._input||{})._templateitemname;s&&(o=n);var l,u=t+"["+o+"]";function d(){l={},s&&(l[u]={},l[u][i]=s)}function c(e,t){s?r.nestedProperty(l[u],e).set(t):l[u+"."+e]=t}function p(){var e=l;return d(),e}return d(),{modifyBase:function(e,t){l[e]=t},modifyItem:c,getUpdateObj:p,applyUpdate:function(t,a){t&&c(t,a);var n=p();for(var i in n)r.nestedProperty(e,i).set(n[i])}}}},665:function(e,t,a){var r=a(62258),n=a(62282),i=a(35722),o=a(47401),s=a(43351),l=a(31454),u=a(41707),d=a(50075),c=a(18905),p=a(37762),f=a(60482),h=a(30807),g=h.enforce,y=h.clean,m=a(9319).doAutoRange,v="start",b="middle",_="end";function w(e,t,a){for(var r=0;r<a.length;r++){var n=a[r][0],i=a[r][1];if(!(n[0]>=e[1]||n[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function x(e){var a,n,s,d,h,g,y=e._fullLayout,m=y._size,v=m.p,b=p.list(e,"",!0);if(y._paperdiv.style({width:e._context.responsive&&y.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":y.width+"px",height:e._context.responsive&&y.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":y.height+"px"}).selectAll(".main-svg").call(u.setSize,y.width,y.height),e._context.setBackground(e,y.paper_bgcolor),t.drawMainTitle(e),c.manage(e),!y._has("cartesian"))return i.previousPromises(e);function _(e,t,a){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===a?t._offset-v-r:t._offset+t._length+v+r:m.t+m.h*(1-(e.position||0))+r%1:t?"right"===a?t._offset+t._length+v+r:t._offset-v-r:m.l+m.w*(e.position||0)+r%1}for(a=0;a<b.length;a++){var x=(d=b[a])._anchorAxis;d._linepositions={},d._lw=u.crispRound(e,d.linewidth,1),d._mainLinePosition=_(d,x,d.side),d._mainMirrorPosition=d.mirror&&x?_(d,x,f.OPPOSITE_SIDE[d.side]):null}var T=[],j=[],O=[],P=1===l.opacity(y.paper_bgcolor)&&1===l.opacity(y.plot_bgcolor)&&y.paper_bgcolor===y.plot_bgcolor;for(n in y._plots)if((s=y._plots[n]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var C=s.xaxis.domain,D=s.yaxis.domain,L=s.plotgroup;if(w(C,D,O)){var S=L.node(),M=s.bg=o.ensureSingle(L,"rect","bg");S.insertBefore(M.node(),S.childNodes[0]),j.push(n)}else L.select("rect.bg").remove(),O.push([C,D]),P||(T.push(n),j.push(n))}var R,I,E,F,B,z,G,U,N,H,q,V,Y,W=y._bgLayer.selectAll(".bg").data(T);for(W.enter().append("rect").classed("bg",!0),W.exit().remove(),W.each((function(e){y._plots[e].bg=r.select(this)})),a=0;a<j.length;a++)s=y._plots[j[a]],h=s.xaxis,g=s.yaxis,s.bg&&void 0!==h._offset&&void 0!==g._offset&&s.bg.call(u.setRect,h._offset-v,g._offset-v,h._length+2*v,g._length+2*v).call(l.fill,y.plot_bgcolor).style("stroke-width",0);if(!y._hasOnlyLargeSploms)for(n in y._plots){s=y._plots[n],h=s.xaxis,g=s.yaxis;var $,Q,Z=s.clipId="clip"+y._uid+n+"plot",J=o.ensureSingleById(y._clips,"clipPath",Z,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=J.select("rect").attr({width:h._length,height:g._length}),u.setTranslate(s.plot,h._offset,g._offset),s._hasClipOnAxisFalse?($=null,Q=Z):($=Z,Q=null),u.setClipUrl(s.plot,$,e),s.layerClipId=Q}function K(e){return"M"+R+","+e+"H"+I}function X(e){return"M"+h._offset+","+e+"h"+h._length}function ee(e){return"M"+e+","+U+"V"+G}function te(e){return"M"+e+","+g._offset+"v"+g._length}function ae(e,t,a){if(!e.showline||n!==e._mainSubplot)return"";if(!e._anchorAxis)return a(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(n in y._plots){s=y._plots[n],h=s.xaxis,g=s.yaxis;var re="M0,0";A(h,n)&&(B=k(h,"left",g,b),R=h._offset-(B?v+B:0),z=k(h,"right",g,b),I=h._offset+h._length+(z?v+z:0),E=_(h,g,"bottom"),F=_(h,g,"top"),!(Y=!h._anchorAxis||n!==h._mainSubplot)||"allticks"!==h.mirror&&"all"!==h.mirror||(h._linepositions[n]=[E,F]),re=ae(h,K,X),Y&&h.showline&&("all"===h.mirror||"allticks"===h.mirror)&&(re+=K(E)+K(F)),s.xlines.style("stroke-width",h._lw+"px").call(l.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ne="M0,0";A(g,n)&&(q=k(g,"bottom",h,b),G=g._offset+g._length+(q?v:0),V=k(g,"top",h,b),U=g._offset-(V?v:0),N=_(g,h,"left"),H=_(g,h,"right"),!(Y=!g._anchorAxis||n!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[n]=[N,H]),ne=ae(g,ee,te),Y&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(ne+=ee(N)+ee(H)),s.ylines.style("stroke-width",g._lw+"px").call(l.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ne)}return p.makeClipPaths(e),i.previousPromises(e)}function A(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function T(e,t,a){if(!a.showline||!a._lw)return!1;if("all"===a.mirror||"allticks"===a.mirror)return!0;var r=a._anchorAxis;if(!r)return!1;var n=f.FROM_BL[t];return a.side===t?r.domain[n]===e.domain[n]:a.mirror&&r.domain[1-n]===e.domain[1-n]}function k(e,t,a,r){if(T(e,t,a))return a._lw;for(var n=0;n<r.length;n++){var i=r[n];if(i._mainAxis===a._mainAxis&&T(e,t,i))return i._lw}return 0}function j(e,t){var a=e.title,r=e._size,n=0;return t===v?n=a.pad.l:t===_&&(n=-a.pad.r),"paper"===a.xref?r.l+r.w*a.x+n:e.width*a.x+n}function O(e,t){var a=e.title,r=e._size,n=0;return"0em"!==t&&t?t===f.CAP_SHIFT+"em"&&(n=a.pad.t):n=-a.pad.b,"auto"===a.y?r.t/2:"paper"===a.yref?r.t+r.h-r.h*a.y+n:e.height-e.height*a.y+n}t.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,x],e)},t.drawMainTitle=function(e){var t=e._fullLayout,a=function(e){var t=e.title,a=b;o.isRightAnchor(t)?a=_:o.isLeftAnchor(t)&&(a=v);return a}(t),r=function(e){var t=e.title,a="0em";o.isTopAnchor(t)?a=f.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(a=f.MID_SHIFT+"em");return a}(t);d.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:j(t,a),y:O(t,r),"text-anchor":a,dy:r}})},t.doTraceStyle=function(e){var a,r=e.calcdata,o=[];for(a=0;a<r.length;a++){var l=r[a],u=l[0]||{},d=u.trace||{},c=d._module||{},p=c.arraysToCalcdata;p&&p(l,d);var f=c.editStyle;f&&o.push({fn:f,cd0:u})}if(o.length){for(a=0;a<o.length;a++){var h=o[a];h.fn(e,h.cd0)}s(e),t.redrawReglTraces(e)}return i.style(e),n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){return n.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,n.call("_doPlot",e,"",t)},t.doLegend=function(e){return n.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return p.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),s(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;c.manage(e);for(var a=0;a<t._basePlotModules.length;a++){var r=t._basePlotModules[a].updateFx;r&&r(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,a=t._subplots.gl3d,r=0;r<a.length;r++){var n=t[a[r]];n._scene.setViewport(n)}},t.drawData=function(e){var a=e._fullLayout;s(e);for(var r=a._basePlotModules,o=0;o<r.length;o++)r[o].plot(e);return t.redrawReglTraces(e),i.style(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("images","draw")(e),a._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var a,r,n=e._fullData,i=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),a=0;a<n.length;a++){var l=n[a];!0===l.visible&&0!==l._length&&("splom"===l.type?t._splomScenes[l.uid].draw():"scattergl"===l.type?o.pushUnique(i,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&o.pushUnique(s,l.subplot))}for(a=0;a<i.length;a++)(r=t._plots[i[a]])._scene&&r._scene.draw();for(a=0;a<s.length;a++)(r=t[s[a]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,a=p.list(e,"",!0),r={},n=0;n<a.length;n++)if(!r[(t=a[n])._id]){r[t._id]=1,y(e,t),m(e,t);var i=t._matchGroup;if(i)for(var o in i){var s=p.getFromId(e,o);m(e,s,t.range),r[o]=1}}g(e)},t.finalDraw=function(e){n.getComponentMethod("rangeslider","draw")(e),n.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){n.getComponentMethod("legend","draw")(e),n.getComponentMethod("rangeselector","draw")(e),n.getComponentMethod("sliders","draw")(e),n.getComponentMethod("updatemenus","draw")(e),n.getComponentMethod("colorbar","draw")(e)}},47213:function(e,t,a){var r=a(47401),n=r.isPlainObject,i=a(16545),o=a(35722),s=a(42837),l=a(92704),u=a(12788).dfltConfig;function d(e,t){e=r.extendDeep({},e);var a,i,o=Object.keys(e).sort();function s(t,a,r){if(n(a)&&n(t))d(t,a);else if(Array.isArray(a)&&Array.isArray(t)){var o=l.arrayTemplater({_template:e},r);for(i=0;i<a.length;i++){var s=a[i],u=o.newItem(s)._template;u&&d(u,s)}var c=o.defaultItems();for(i=0;i<c.length;i++)a.push(c[i]._template);for(i=0;i<a.length;i++)delete a[i].templateitemname}}for(a=0;a<o.length;a++){var u=o[a],p=e[u];if(u in t?s(p,t[u],u):t[u]=p,c(u)===u)for(var f in t){var h=c(f);f===h||h!==u||f in e||s(p,t[f],u)}}}function c(e){return e.replace(/[0-9]+$/,"")}function p(e,t,a,i,o){var s=o&&a(o);for(var u in e){var d=e[u],f=g(e,u,i),h=g(e,u,o),y=a(h);if(!y){var m=c(u);m!==u&&(y=a(h=g(e,m,o)))}if((!s||s!==y)&&!(!y||y._noTemplating||"data_array"===y.valType||y.arrayOk&&Array.isArray(d)))if(!y.valType&&n(d))p(d,t,a,f,h);else if(y._isLinkedToArray&&Array.isArray(d))for(var v=!1,b=0,_={},w=0;w<d.length;w++){var x=d[w];if(n(x)){var A=x.name;if(A)_[A]||(p(x,t,a,g(d,b,f),g(d,b,h)),b++,_[A]=1);else if(!v){var T=g(e,l.arrayDefaultKey(u),i),k=g(d,b,f);p(x,t,a,k,g(d,b,h));var j=r.nestedProperty(t,k);r.nestedProperty(t,T).set(j.get()),j.set(null),v=!0}}}else{r.nestedProperty(t,f).set(d)}}}function f(e,t){return i.getLayoutValObject(e,r.nestedProperty({},t).parts)}function h(e,t){return i.getTraceValObject(e,r.nestedProperty({},t).parts)}function g(e,t,a){return a?Array.isArray(e)?a+"["+t+"]":a+"."+t:t}function y(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0}function m(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}t.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:u},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],a=e.layout||{};a._basePlotModules=e._fullLayout._basePlotModules,a._modules=e._fullLayout._modules;var i={data:{},layout:{}};t.forEach((function(e){var t={};p(e,t,h.bind(null,e));var a=r.coerce(e,{},s,"type"),n=i.data[a];n||(n=i.data[a]=[]),n.push(t)})),p(a,i.layout,f.bind(null,a)),delete i.layout.template;var l=a.template;if(n(l)){var c,g,y,m,v,b,_=l.layout;n(_)&&d(_,i.layout);var w=l.data;if(n(w)){for(g in i.data)if(y=w[g],Array.isArray(y)){for(b=(v=i.data[g]).length,m=y.length,c=0;c<b;c++)d(y[c%m],v[c]);for(c=b;c<m;c++)v.push(r.extendDeep({},y[c]))}for(g in w)g in i.data||(i.data[g]=r.extendDeep([],w[g]))}}return i},t.validateTemplate=function(e,t){var a=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),i=a.layout||{};n(t)||(t=i.template||{});var s=t.layout,l=t.data,d=[];a.layout=i,a.layout.template=t,o.supplyDefaults(a);var p=a._fullLayout,f=a._fullData,h={};if(n(s)?(!function e(t,a){for(var r in t)if("_"!==r.charAt(0)&&n(t[r])){var i,o=c(r),s=[];for(i=0;i<a.length;i++)s.push(g(t,r,a[i])),o!==r&&s.push(g(t,o,a[i]));for(i=0;i<s.length;i++)h[s[i]]=1;e(t[r],s)}}(p,["layout"]),function e(t,a){for(var r in t)if(-1===r.indexOf("defaults")&&n(t[r])){var i=g(t,r,a);h[i]?e(t[r],i):d.push({code:"unused",path:i})}}(s,"layout")):d.push({code:"layout"}),n(l)){for(var v,b={},_=0;_<f.length;_++){var w=f[_];b[v=w.type]=(b[v]||0)+1,w._fullInput._template||d.push({code:"missing",index:w._fullInput.index,traceType:v})}for(v in l){var x=l[v].length,A=b[v]||0;x>A?d.push({code:"unused",traceType:v,templateCount:x,dataCount:A}):A>x&&d.push({code:"reused",traceType:v,templateCount:x,dataCount:A})}}else d.push({code:"data"});if(function e(t,a){for(var r in t)if("_"!==r.charAt(0)){var i=t[r],o=g(t,r,a);n(i)?(Array.isArray(t)&&!1===i._template&&i.templateitemname&&d.push({code:"missing",path:o,templateitemname:i.templateitemname}),e(i,o)):Array.isArray(i)&&y(i)&&e(i,o)}}({data:f,layout:p},""),d.length)return d.map(m)}},58555:function(e,t,a){var r=a(83491),n=a(9772),i=a(35722),o=a(47401),s=a(4475),l=a(4979),u=a(66434),d=a(20817).version,c={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};e.exports=function(e,t){var a,p,f,h;function g(e){return!(e in t)||o.validate(t[e],c[e])}if(t=t||{},o.isPlainObject(e)?(a=e.data||[],p=e.layout||{},f=e.config||{},h={}):(e=o.getGraphDiv(e),a=o.extendDeep([],e.data),p=o.extendDeep({},e.layout),f=e._context,h=e._fullLayout||{}),!g("width")&&null!==t.width||!g("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+o.join2(c.format.values,", "," or ")+".");var y={};function m(e,a){return o.coerce(t,y,c,e,a)}var v=m("format"),b=m("width"),_=m("height"),w=m("scale"),x=m("setBackground"),A=m("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var k=o.extendFlat({},p);b?k.width=b:null===t.width&&r(h.width)&&(k.width=h.width),_?k.height=_:null===t.height&&r(h.height)&&(k.height=h.height);var j=o.extendFlat({},f,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),O=s.getRedrawFunc(T);function P(){return new Promise((function(e){setTimeout(e,s.getDelay(T._fullLayout))}))}function C(){return new Promise((function(e,t){var a=l(T,v,w),r=T._fullLayout.width,c=T._fullLayout.height;function p(){n.purge(T),document.body.removeChild(T)}if("full-json"===v){var f=i.graphJson(T,!1,"keepdata","object",!0,!0);return f.version=d,f=JSON.stringify(f),p(),e(A?f:s.encodeJSON(f))}if(p(),"svg"===v)return e(A?a:s.encodeSVG(a));var h=document.createElement("canvas");h.id=o.randstr(),u({format:v,width:r,height:c,scale:w,canvas:h,svg:a,promise:!0}).then(e).catch(t)}))}return new Promise((function(e,t){n.newPlot(T,a,k,j).then(O).then(P).then(C).then((function(t){e(function(e){return A?e.replace(s.IMAGE_URL_PREFIX,""):e}(t))})).catch((function(e){t(e)}))}))}},45170:function(e,t,a){var r=a(47401),n=a(35722),i=a(16545),o=a(12788).dfltConfig,s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function d(e,t,a,n,i,o){o=o||[];for(var c=Object.keys(e),p=0;p<c.length;p++){var y=c[p];if("transforms"!==y){var m=o.slice();m.push(y);var v=e[y],b=t[y],_=g(a,y),w=(_||{}).valType,x="info_array"===w,A="colorscale"===w,T=(_||{}).items;if(h(a,y))if(s(v)&&s(b)&&"any"!==w)d(v,b,_,n,i,m);else if(x&&l(v)){v.length>b.length&&n.push(f("unused",i,m.concat(b.length)));var k,j,O,P,C,D=b.length,L=Array.isArray(T);if(L&&(D=Math.min(D,T.length)),2===_.dimensions)for(j=0;j<D;j++)if(l(v[j])){v[j].length>b[j].length&&n.push(f("unused",i,m.concat(j,b[j].length)));var S=b[j].length;for(k=0;k<(L?Math.min(S,T[j].length):S);k++)O=L?T[j][k]:T,P=v[j][k],C=b[j][k],r.validate(P,O)?C!==P&&C!==+P&&n.push(f("dynamic",i,m.concat(j,k),P,C)):n.push(f("value",i,m.concat(j,k),P))}else n.push(f("array",i,m.concat(j),v[j]));else for(j=0;j<D;j++)O=L?T[j]:T,P=v[j],C=b[j],r.validate(P,O)?C!==P&&C!==+P&&n.push(f("dynamic",i,m.concat(j),P,C)):n.push(f("value",i,m.concat(j),P))}else if(_.items&&!x&&l(v)){var M,R,I=T[Object.keys(T)[0]],E=[];for(M=0;M<b.length;M++){var F=b[M]._index||M;if((R=m.slice()).push(F),s(v[F])&&s(b[M])){E.push(F);var B=v[F],z=b[M];s(B)&&!1!==B.visible&&!1===z.visible?n.push(f("invisible",i,R)):d(B,z,I,n,i,R)}}for(M=0;M<v.length;M++)(R=m.slice()).push(M),s(v[M])?-1===E.indexOf(M)&&n.push(f("unused",i,R)):n.push(f("object",i,R,v[M]))}else!s(v)&&s(b)?n.push(f("object",i,m,v)):u(v)||!u(b)||x||A?y in t?r.validate(v,_)?"enumerated"===_.valType&&(_.coerceNumber&&v!==+b||v!==b)&&n.push(f("dynamic",i,m,v,b)):n.push(f("value",i,m,v)):n.push(f("unused",i,m,v)):n.push(f("array",i,m,v));else n.push(f("schema",i,m))}}return n}e.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var a,u,c=i.get(),p=[],h={_context:r.extendFlat({},o)};l(e)?(h.data=r.extendDeep([],e),a=e):(h.data=[],a=[],p.push(f("array","data"))),s(t)?(h.layout=r.extendDeep({},t),u=t):(h.layout={},u={},arguments.length>1&&p.push(f("object","layout"))),n.supplyDefaults(h);for(var g=h._fullData,y=a.length,m=0;m<y;m++){var v=a[m],b=["data",m];if(s(v)){var _=g[m],w=_.type,x=c.traces[w].attributes;x.type={valType:"enumerated",values:[w]},!1===_.visible&&!1!==v.visible&&p.push(f("invisible",b)),d(v,_,x,p,b);var A=v.transforms,T=_.transforms;if(A){l(A)||p.push(f("array",b,["transforms"])),b.push("transforms");for(var k=0;k<A.length;k++){var j=["transforms",k],O=A[k].type;if(s(A[k])){var P=c.transforms[O]?c.transforms[O].attributes:{};P.type={valType:"enumerated",values:Object.keys(c.transforms)},d(A[k],T[k],P,p,b,j)}else p.push(f("object",b,j))}}}else p.push(f("object",b))}var C=h._fullLayout,D=function(e,t){for(var a=e.layout.layoutAttributes,n=0;n<t.length;n++){var i=t[n],o=e.traces[i.type],s=o.layoutAttributes;s&&(i.subplot?r.extendFlat(a[o.attributes.subplot.dflt],s):r.extendFlat(a,s))}return a}(c,g);return d(u,C,D,p,"layout"),0===p.length?void 0:p};var c={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":p(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":p(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return p(e)+"key "+t+" is not part of the schema"},unused:function(e,t,a){var r=s(a)?"container":"key";return p(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,a,r){return[p(e)+"key",t,"(set to '"+a+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?p(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,a){return[p(e)+"key "+t,"is set to an invalid value ("+a+")"].join(" ")}};function p(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function f(e,t,a,n,i){var o,s;a=a||"",l(t)?(o=t[0],s=t[1]):(o=t,s=null);var u=function(e){if(!l(e))return String(e);for(var t="",a=0;a<e.length;a++){var r=e[a];"number"===typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,a<e.length-1&&(t+=".")}return t}(a),d=c[e](t,u,n,i);return r.log(d),{code:e,container:o,trace:s,path:a,astr:u,msg:d}}function h(e,t){var a=m(t),r=a.keyMinusId,n=a.id;return!!(r in e&&e[r]._isSubplotObj&&n)||t in e}function g(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var y=r.counterRegex("([a-z]+)");function m(e){var t=e.match(y);return{keyMinusId:t&&t[1],id:t&&t[2]}}}}]);