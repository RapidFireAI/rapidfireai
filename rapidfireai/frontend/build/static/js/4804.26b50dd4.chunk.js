"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4804],{98048:function(e,t,a){var i=a(4216).r,n=a(4216).a,o=a(97451),r=a(16688).u,s=a(86692),l=a(44244),c=a(22740),d=a(87241).extendFlat;e.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot",description:["Determines d3 treemap solver.","For more info please refer to https://github.com/d3/d3-hierarchy#treemap-tiling"].join(" ")},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot",description:["When using *squarify* `packing` algorithm, according to https://github.com/d3/d3-hierarchy/blob/master/README.md#squarify_ratio","this option specifies the desired aspect ratio of the generated rectangles.","The ratio must be specified as a number greater than or equal to one.","Note that the orientation of the generated rectangles (tall or wide)","is not implied by the ratio; for example, a ratio of two will attempt","to produce a mixture of rectangles whose width:height ratio is either 2:1 or 1:2.","When using *squarify*, unlike d3 which uses the Golden Ratio i.e. 1.618034,","Plotly applies 1 to increase squares in treemap layouts."].join(" ")},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot",description:["Determines if the positions obtained from solver are flipped on each axis."].join(" ")},pad:{valType:"number",min:0,dflt:3,editType:"plot",description:["Sets the inner padding (in px)."].join(" ")},editType:"calc"},marker:d({pad:{t:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the top (in px)."].join(" ")},l:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the left (in px)."].join(" ")},r:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the right (in px)."].join(" ")},b:{valType:"number",min:0,editType:"plot",description:["Sets the padding form the bottom (in px)."].join(" ")},editType:"calc"},colors:l.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style",description:["Determines if the sector colors are faded towards","the background from the leaves up to the headers.","This option is unavailable when a `colorscale` is present,","defaults to false when `marker.colors` is set,","but otherwise defaults to true.","When set to *reversed*, the fading direction is inverted,","that is the top elements within hierarchy are drawn with fully saturated colors","while the leaves are faded towards the background color."].join(" ")},line:l.marker.line,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines if the path bar is drawn","i.e. outside the trace `domain` and","with one pixel gap."].join(" ")},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot",description:["Determines on which side of the the treemap the","`pathbar` should be presented."].join(" ")},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot",description:["Determines which shape is used for edges between `barpath` labels."].join(" ")},thickness:{valType:"number",min:12,editType:"plot",description:["Sets the thickness of `pathbar` (in px). If not specified the `pathbar.textfont.size` is used","with 3 pixles extra padding on each side."].join(" ")},textfont:d({},s.textfont,{description:"Sets the font used inside `pathbar`."}),editType:"calc"},text:s.text,textinfo:l.textinfo,texttemplate:n({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:s.hovertext,hoverinfo:l.hoverinfo,hovertemplate:i({},{keys:c.eventDataKeys}),textfont:s.textfont,insidetextfont:s.insidetextfont,outsidetextfont:d({},s.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented on top left corner of a treemap graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot",description:["Sets the positions of the `text` elements."].join(" ")},sort:s.sort,root:l.root,domain:r({name:"treemap",trace:!0,editType:"calc"})}},81e3:function(e,t,a){var i=a(35722);t.name="treemap",t.plot=function(e,a,n,o){i.plotBasePlot(t.name,e,a,n,o)},t.clean=function(e,a,n,o){i.cleanBasePlot(t.name,e,a,n,o)}},74800:function(e,t,a){var i=a(23348);t._=function(e,t){return i.calc(e,t)},t.t=function(e){return i._runCrossTraceCalc("treemap",e)}},22740:function(e){e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},73207:function(e,t,a){var i=a(47401),n=a(98048),o=a(31454),r=a(16688).N,s=a(18878).handleText,l=a(33419).TEXTPAD,c=a(47624),d=c.hasColorscale,p=c.handleDefaults;e.exports=function(e,t,a,c){function h(a,o){return i.coerce(e,t,n,a,o)}var u=h("labels"),f=h("parents");if(u&&u.length&&f&&f.length){var m=h("values");m&&m.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),"squarify"===h("tiling.packing")&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),t.texttemplate||h("textinfo",Array.isArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var v=h("pathbar.visible");s(e,t,c,h,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=-1!==t.textposition.indexOf("bottom");h("marker.line.width")&&h("marker.line.color",c.paper_bgcolor);var g=h("marker.colors");(t._hasColorscale=d(e,"marker","colors")||(e.marker||{}).coloraxis)?p(e,t,c,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(g||[]).length);var b=2*t.textfont.size;h("marker.pad.t",y?b/4:b),h("marker.pad.l",b/4),h("marker.pad.r",b/4),h("marker.pad.b",y?b:b/4),t._hovered={marker:{line:{width:2,color:o.contrast(c.paper_bgcolor)}}},v&&(h("pathbar.thickness",t.pathbar.textfont.size+2*l),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),r(t,c,h),t._length=null}else t.visible=!1}},23343:function(e,t,a){var i=a(62258),n=a(94276),o=a(77846).clearMinTextSize,r=a(49651).resizeText,s=a(43533);e.exports=function(e,t,a,l,c){var d,p,h=c.type,u=c.drawDescendants,f=e._fullLayout,m=f["_"+h+"layer"],x=!a;(o(h,f),(d=m.selectAll("g.trace."+h).data(t,(function(e){return e[0].trace.uid}))).enter().append("g").classed("trace",!0).classed(h,!0),d.order(),!f.uniformtext.mode&&n.hasTransition(a))?(l&&(p=l()),i.transition().duration(a.duration).ease(a.easing).each("end",(function(){p&&p()})).each("interrupt",(function(){p&&p()})).each((function(){m.selectAll("g.trace").each((function(t){s(e,t,this,a,u)}))}))):(d.each((function(t){s(e,t,this,a,u)})),f.uniformtext.mode&&r(e,m.selectAll(".trace"),h));x&&d.exit().remove()}},49506:function(e,t,a){var i=a(62258),n=a(47401),o=a(41707),r=a(43995),s=a(11659),l=a(51008).styleOne,c=a(22740),d=a(94276),p=a(21379),h=!0;e.exports=function(e,t,a,u,f){var m=f.barDifY,x=f.width,v=f.height,y=f.viewX,g=f.viewY,b=f.pathSlice,w=f.toMoveInsideSlice,T=f.strTransform,k=f.hasTransition,S=f.handleSlicesExit,_=f.makeUpdateSliceInterpolator,D=f.makeUpdateTextInterpolator,I={},L=e._fullLayout,M=t[0],P=M.trace,A=M.hierarchy,O=x/P._entryDepth,j=d.listPath(a.data,"id"),C=s(A.copy(),[x,v],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(C=C.filter((function(e){var t=j.indexOf(e.data.id);return-1!==t&&(e.x0=O*t,e.x1=O*(t+1),e.y0=m,e.y1=m+v,e.onPathbar=!0,!0)}))).reverse(),(u=u.data(C,d.getPtId)).enter().append("g").classed("pathbar",!0),S(u,h,I,[x,v],b),u.order();var Y=u;k&&(Y=Y.transition().each("end",(function(){var t=i.select(this);d.setSliceCursor(t,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})}))),Y.each((function(s){s._x0=y(s.x0),s._x1=y(s.x1),s._y0=g(s.y0),s._y1=g(s.y1),s._hoverX=y(s.x1-Math.min(x,v)/2),s._hoverY=g(s.y1-v/2);var u=i.select(this),f=n.ensureSingle(u,"path","surface",(function(e){e.style("pointer-events","all")}));k?f.transition().attrTween("d",(function(e){var t=_(e,h,I,[x,v]);return function(e){return b(t(e))}})):f.attr("d",b),u.call(p,a,e,t,{styleOne:l,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:e._transitioning}),f.call(l,s,P,{hovered:!1}),s._text=(d.getPtLabel(s)||"").split("<br>").join(" ")||"";var m=n.ensureSingle(u,"g","slicetext"),S=n.ensureSingle(m,"text","",(function(e){e.attr("data-notex",1)})),M=n.ensureUniformFontSize(e,d.determineTextFont(P,s,L.font,{onPathbar:!0}));S.text(s._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,M).call(r.convertToTspans,e),s.textBB=o.bBox(S.node()),s.transform=w(s,{fontSize:M.size,onPathbar:!0}),s.transform.fontSize=M.size,k?S.transition().attrTween("transform",(function(e){var t=D(e,h,I,[x,v]);return function(e){return T(t(e))}})):S.attr("transform",T(s))}))}},39700:function(e,t,a){var i=a(62258),n=a(47401),o=a(41707),r=a(43995),s=a(11659),l=a(51008).styleOne,c=a(22740),d=a(94276),p=a(21379),h=a(48662).formatSliceLabel,u=!1;e.exports=function(e,t,a,f,m){var x=m.width,v=m.height,y=m.viewX,g=m.viewY,b=m.pathSlice,w=m.toMoveInsideSlice,T=m.strTransform,k=m.hasTransition,S=m.handleSlicesExit,_=m.makeUpdateSliceInterpolator,D=m.makeUpdateTextInterpolator,I=m.prevEntry,L=e._fullLayout,M=t[0].trace,P=-1!==M.textposition.indexOf("left"),A=-1!==M.textposition.indexOf("right"),O=-1!==M.textposition.indexOf("bottom"),j=!O&&!M.marker.pad.t||O&&!M.marker.pad.b,C=s(a,[x,v],{packing:M.tiling.packing,squarifyratio:M.tiling.squarifyratio,flipX:M.tiling.flip.indexOf("x")>-1,flipY:M.tiling.flip.indexOf("y")>-1,pad:{inner:M.tiling.pad,top:M.marker.pad.t,left:M.marker.pad.l,right:M.marker.pad.r,bottom:M.marker.pad.b}}).descendants(),Y=1/0,X=-1/0;C.forEach((function(e){var t=e.depth;t>=M._maxDepth?(e.x0=e.x1=(e.x0+e.x1)/2,e.y0=e.y1=(e.y0+e.y1)/2):(Y=Math.min(Y,t),X=Math.max(X,t))})),f=f.data(C,d.getPtId),M._maxVisibleLayers=isFinite(X)?X-Y+1:0,f.enter().append("g").classed("slice",!0),S(f,u,{},[x,v],b),f.order();var z=null;if(k&&I){var E=d.getPtId(I);f.each((function(e){null===z&&d.getPtId(e)===E&&(z={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})}))}var N=function(){return z||{x0:0,x1:x,y0:0,y1:v}},B=f;return k&&(B=B.transition().each("end",(function(){var t=i.select(this);d.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})}))),B.each((function(s){var f=d.isHeader(s,M);s._x0=y(s.x0),s._x1=y(s.x1),s._y0=g(s.y0),s._y1=g(s.y1),s._hoverX=y(s.x1-M.marker.pad.r),s._hoverY=g(O?s.y1-M.marker.pad.b/2:s.y0+M.marker.pad.t/2);var m=i.select(this),S=n.ensureSingle(m,"path","surface",(function(e){e.style("pointer-events","all")}));k?S.transition().attrTween("d",(function(e){var t=_(e,u,N(),[x,v]);return function(e){return b(t(e))}})):S.attr("d",b),m.call(p,a,e,t,{styleOne:l,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,e,{isTransitioning:e._transitioning}),S.call(l,s,M,{hovered:!1}),s.x0===s.x1||s.y0===s.y1?s._text="":s._text=f?j?"":d.getPtLabel(s)||"":h(s,a,M,t,L)||"";var I=n.ensureSingle(m,"g","slicetext"),C=n.ensureSingle(I,"text","",(function(e){e.attr("data-notex",1)})),Y=n.ensureUniformFontSize(e,d.determineTextFont(M,s,L.font));C.text(s._text||" ").classed("slicetext",!0).attr("text-anchor",A?"end":P||f?"start":"middle").call(o.font,Y).call(r.convertToTspans,e),s.textBB=o.bBox(C.node()),s.transform=w(s,{fontSize:Y.size,isHeader:f}),s.transform.fontSize=Y.size,k?C.transition().attrTween("transform",(function(e){var t=D(e,u,N(),[x,v]);return function(e){return T(t(e))}})):C.attr("transform",T(s))})),z}},43357:function(e){e.exports=function e(t,a,i){var n;i.swapXY&&(n=t.x0,t.x0=t.y0,t.y0=n,n=t.x1,t.x1=t.y1,t.y1=n),i.flipX&&(n=t.x0,t.x0=a[0]-t.x1,t.x1=a[0]-n),i.flipY&&(n=t.y0,t.y0=a[1]-t.y1,t.y1=a[1]-n);var o=t.children;if(o)for(var r=0;r<o.length;r++)e(o[r],a,i)}},88509:function(e,t,a){e.exports={moduleType:"trace",name:"treemap",basePlotModule:a(81e3),categories:[],animatable:!0,attributes:a(98048),layoutAttributes:a(58763),supplyDefaults:a(73207),supplyLayoutDefaults:a(13260),calc:a(74800)._,crossTraceCalc:a(74800).t,plot:a(41378),style:a(51008).style,colorbar:a(78666),meta:{description:["Visualize hierarchal data from leaves (and/or outer branches) towards root","with rectangles. The treemap sectors are determined by the entries in","*labels* or *ids* and in *parents*."].join(" ")}}},58763:function(e){e.exports={treemapcolorway:{valType:"colorlist",editType:"calc",description:["Sets the default treemap slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendtreemapcolors`."].join(" ")},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc",description:["If `true`, the treemap slice colors (whether given by `treemapcolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}},13260:function(e,t,a){var i=a(47401),n=a(58763);e.exports=function(e,t){function a(a,o){return i.coerce(e,t,n,a,o)}a("treemapcolorway",t.colorway),a("extendtreemapcolors")}},11659:function(e,t,a){var i=a(43566),n=a(43357);e.exports=function(e,t,a){var o,r=a.flipX,s=a.flipY,l="dice-slice"===a.packing,c=a.pad[s?"bottom":"top"],d=a.pad[r?"right":"left"],p=a.pad[r?"left":"right"],h=a.pad[s?"top":"bottom"];l&&(o=d,d=c,c=o,o=p,p=h,h=o);var u=i.treemap().tile(function(e,t){switch(e){case"squarify":return i.treemapSquarify.ratio(t);case"binary":return i.treemapBinary;case"dice":return i.treemapDice;case"slice":return i.treemapSlice;default:return i.treemapSliceDice}}(a.packing,a.squarifyratio)).paddingInner(a.pad.inner).paddingLeft(d).paddingRight(p).paddingTop(c).paddingBottom(h).size(l?[t[1],t[0]]:t)(e);return(l||r||s)&&n(u,t,{swapXY:l,flipX:r,flipY:s}),u}},41378:function(e,t,a){var i=a(23343),n=a(39700);e.exports=function(e,t,a,o){return i(e,t,a,o,{type:"treemap",drawDescendants:n})}},43533:function(e,t,a){var i=a(62258),n=a(87717).GW,o=a(94276),r=a(47401),s=a(33419).TEXTPAD,l=a(74835).toMoveInsideBar,c=a(77846).recordMinTextSize,d=a(22740),p=a(49506);function h(e){return o.isHierarchyRoot(e)?"":o.getPtId(e)}e.exports=function(e,t,a,u,f){var m=e._fullLayout,x=t[0],v=x.trace,y="icicle"===v.type,g=x.hierarchy,b=o.findEntryWithLevel(g,v.level),w=i.select(a),T=w.selectAll("g.pathbar"),k=w.selectAll("g.slice");if(!b)return T.remove(),void k.remove();var S=o.isHierarchyRoot(b),_=!m.uniformtext.mode&&o.hasTransition(u),D=o.getMaxDepth(v),I=m._size,L=v.domain,M=I.w*(L.x[1]-L.x[0]),P=I.h*(L.y[1]-L.y[0]),A=M,O=v.pathbar.thickness,j=v.marker.line.width+d.gapWithPathbar,C=v.pathbar.visible?v.pathbar.side.indexOf("bottom")>-1?P+j:-(O+j):0,Y={x0:A,x1:A,y0:C,y1:C+O},X=function(e,t,a){var i=v.tiling.pad,n=function(e){return e-i<=t.x0},o=function(e){return e+i>=t.x1},r=function(e){return e-i<=t.y0},s=function(e){return e+i>=t.y1};return e.x0===t.x0&&e.x1===t.x1&&e.y0===t.y0&&e.y1===t.y1?{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}:{x0:n(e.x0-i)?0:o(e.x0-i)?a[0]:e.x0,x1:n(e.x1+i)?0:o(e.x1+i)?a[0]:e.x1,y0:r(e.y0-i)?0:s(e.y0-i)?a[1]:e.y0,y1:r(e.y1+i)?0:s(e.y1+i)?a[1]:e.y1}},z=null,E={},N={},B=null,H=function(e,t){return t?E[h(e)]:N[h(e)]},K=function(e,t,a,i){if(t)return E[h(g)]||Y;var n=N[v.level]||a;return function(e){return e.data.depth-b.data.depth<D}(e)?X(e,n,i):{}};x.hasMultipleRoots&&S&&D++,v._maxDepth=D,v._backgroundColor=m.paper_bgcolor,v._entryDepth=b.data.depth,v._atRootLevel=S;var F=-M/2+I.l+I.w*(L.x[1]+L.x[0])/2,R=-P/2+I.t+I.h*(1-(L.y[1]+L.y[0])/2),q=function(e){return F+e},G=function(e){return R+e},U=G(0),V=q(0),W=function(e){return V+e},Z=function(e){return U+e};function Q(e,t){return e+","+t}var J=W(0),$=function(e){e.x=Math.max(J,e.x)},ee=v.pathbar.edgeshape,te=function(e,t){var a=e.x0,i=e.x1,n=e.y0,o=e.y1,r=e.textBB,d=function(e){return-1!==v.textposition.indexOf(e)},p=d("bottom"),h=d("top")||t.isHeader&&!p?"start":p?"end":"middle",u=d("right"),f=d("left")||t.onPathbar?-1:u?1:0,x=v[y?"tiling":"marker"].pad;if(t.isHeader){if((a+=(y?x:x.l)-s)>=(i-=(y?x:x.r)-s)){var g=(a+i)/2;a=g,i=g}var b;p?n<(b=o-(y?x:x.b))&&b<o&&(n=b):n<(b=n+(y?x:x.t))&&b<o&&(o=b)}var w=l(a,i,n,o,r,{isHorizontal:!1,constrained:!0,angle:0,anchor:h,leftToRight:f});return w.fontSize=t.fontSize,w.targetX=q(w.targetX),w.targetY=G(w.targetY),isNaN(w.targetX)||isNaN(w.targetY)?{}:(a!==i&&n!==o&&c(v.type,w,m),{scale:w.scale,rotate:w.rotate,textX:w.textX,textY:w.textY,anchorX:w.anchorX,anchorY:w.anchorY,targetX:w.targetX,targetY:w.targetY})},ae=function(e,t){for(var a,i=0,n=e;!a&&i<D;)i++,(n=n.parent)?a=H(n,t):i=D;return a||{}},ie=function(e,t,a,i,o){var s,l=H(e,t);if(l)s=l;else if(t)s=Y;else if(z)if(e.parent){var c=B||a;c&&!t?s=X(e,c,i):(s={},r.extendFlat(s,ae(e,t)))}else s=r.extendFlat({},e),y&&("h"===o.orientation?o.flipX?s.x0=e.x1:s.x1=0:o.flipY?s.y0=e.y1:s.y1=0);else s={};return n(s,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})},ne=function(e,t,a,i){var s=H(e,t),l={},d=K(e,t,a,i);r.extendFlat(l,{transform:te({x0:d.x0,x1:d.x1,y0:d.y0,y1:d.y1,textBB:e.textBB,_text:e._text},{isHeader:o.isHeader(e,v)})}),s?l=s:e.parent&&r.extendFlat(l,ae(e,t));var p=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&c(v.type,p,m),n(l,{transform:{scale:p.scale,rotate:p.rotate,textX:p.textX,textY:p.textY,anchorX:p.anchorX,anchorY:p.anchorY,targetX:p.targetX,targetY:p.targetY}})},oe=function(e,t,a,o,r){var s=o[0],l=o[1];_?e.exit().transition().each((function(){var e=i.select(this);e.select("path.surface").transition().attrTween("d",(function(e){var a=function(e,t,a,i){var o,r=H(e,t);if(t)o=Y;else{var s=H(b,t);o=s?X(e,s,i):{}}return n(r,o)}(e,t,0,[s,l]);return function(e){return r(a(e))}})),e.select("g.slicetext").attr("opacity",0)})).remove():e.exit().remove()},re=function(e){var t=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&c(v.type,t,m),r.getTextTransform({textX:t.textX,textY:t.textY,anchorX:t.anchorX,anchorY:t.anchorY,targetX:t.targetX,targetY:t.targetY,scale:t.scale,rotate:t.rotate})};_&&(T.each((function(e){E[h(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(E[h(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate})})),k.each((function(e){N[h(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(N[h(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate}),!z&&o.isEntry(e)&&(z=e)}))),B=f(e,t,b,k,{width:M,height:P,viewX:q,viewY:G,pathSlice:function(e){var t=q(e.x0),a=q(e.x1),i=G(e.y0),n=G(e.y1),o=a-t,r=n-i;if(!o||!r)return"";return"M"+Q(t,i+0)+"L"+Q(a-0,i)+"L"+Q(a,n-0)+"L"+Q(t+0,n)+"Z"},toMoveInsideSlice:te,prevEntry:z,makeUpdateSliceInterpolator:ie,makeUpdateTextInterpolator:ne,handleSlicesExit:oe,hasTransition:_,strTransform:re}),v.pathbar.visible?p(e,t,b,T,{barDifY:C,width:A,height:O,viewX:W,viewY:Z,pathSlice:function(e){var t=W(Math.max(Math.min(e.x0,e.x0),0)),a=W(Math.min(Math.max(e.x1,e.x1),A)),i=Z(e.y0),n=Z(e.y1),o=O/2,r={},s={};r.x=t,s.x=a,r.y=s.y=(i+n)/2;var l={x:t,y:i},c={x:a,y:i},d={x:a,y:n},p={x:t,y:n};return">"===ee?(l.x-=o,c.x-=o,d.x-=o,p.x-=o):"/"===ee?(d.x-=o,p.x-=o,r.x-=o/2,s.x-=o/2):"\\"===ee?(l.x-=o,c.x-=o,r.x-=o/2,s.x-=o/2):"<"===ee&&(r.x-=o,s.x-=o),$(l),$(p),$(r),$(c),$(d),$(s),"M"+Q(l.x,l.y)+"L"+Q(c.x,c.y)+"L"+Q(s.x,s.y)+"L"+Q(d.x,d.y)+"L"+Q(p.x,p.y)+"L"+Q(r.x,r.y)+"Z"},toMoveInsideSlice:te,makeUpdateSliceInterpolator:ie,makeUpdateTextInterpolator:ne,handleSlicesExit:oe,hasTransition:_,strTransform:re}):T.remove()}},51008:function(e,t,a){var i=a(62258),n=a(31454),o=a(47401),r=a(94276),s=a(77846).resizeText;function l(e,t,a,i){var s,l,c=(i||{}).hovered,d=t.data.data,p=d.i,h=d.color,u=r.isHierarchyRoot(t),f=1;if(c)s=a._hovered.marker.line.color,l=a._hovered.marker.line.width;else if(u&&h===a.root.color)f=100,s="rgba(0,0,0,0)",l=0;else if(s=o.castOption(a,p,"marker.line.color")||n.defaultLine,l=o.castOption(a,p,"marker.line.width")||0,!a._hasColorscale&&!t.onPathbar){var m=a.marker.depthfade;if(m){var x,v=n.combine(n.addOpacity(a._backgroundColor,.75),h);if(!0===m){var y=r.getMaxDepth(a);x=isFinite(y)?r.isLeaf(t)?0:a._maxVisibleLayers-(t.data.depth-a._entryDepth):t.data.height+1}else x=t.data.depth-a._entryDepth,a._atRootLevel||x++;if(x>0)for(var g=0;g<x;g++){var b=.5*g/x;h=n.combine(n.addOpacity(v,b),h)}}}e.style("stroke-width",l).call(n.fill,h).call(n.stroke,s).style("opacity",f)}e.exports={style:function(e){var t=e._fullLayout._treemaplayer.selectAll(".trace");s(e,t,"treemap"),t.each((function(e){var t=i.select(this),a=e[0].trace;t.style("opacity",a.opacity),t.selectAll("path.surface").each((function(e){i.select(this).call(l,e,a,{hovered:!1})}))}))},styleOne:l}},12551:function(e,t,a){var i=a(69089),n=a(87241).extendFlat,o=a(20184).axisHoverFormat;e.exports={y:i.y,x:i.x,x0:i.x0,y0:i.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:n({},i.name,{description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For violin traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical.","Note that the trace name is also used as a default value","for attribute `scalegroup` (please see its description for details)."].join(" ")}),orientation:n({},i.orientation,{description:["Sets the orientation of the violin(s).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")}),bandwidth:{valType:"number",min:0,editType:"calc",description:["Sets the bandwidth used to compute the kernel density estimate.","By default, the bandwidth is determined by Silverman's rule of thumb."].join(" ")},scalegroup:{valType:"string",dflt:"",editType:"calc",description:["If there are multiple violins that should be sized according to","to some metric (see `scalemode`), link them by providing a non-empty group id here","shared by every trace in the same group.","If a violin's `width` is undefined, `scalegroup` will default to the trace's name.","In this case, violins with the same names will be linked together"].join(" ")},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc",description:["Sets the metric by which the width of each violin is determined.","*width* means each violin has the same (max) width","*count* means the violins are scaled by the number of sample points making","up each violin."].join("")},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc",description:["Sets the method by which the span in data space where the density function will be computed.","*soft* means the span goes from the sample's minimum value minus two bandwidths","to the sample's maximum value plus two bandwidths.","*hard* means the span goes from the sample's minimum to its maximum value.","For custom span settings, use mode *manual* and fill in the `span` attribute."].join(" ")},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the span in data space for which the density function will be computed.","Has an effect only when `spanmode` is set to *manual*."].join(" ")},line:{color:{valType:"color",editType:"style",description:"Sets the color of line bounding the violin(s)."},width:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the violin(s)."},editType:"plot"},fillcolor:i.fillcolor,points:n({},i.boxpoints,{description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the violins are shown with no sample points.","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set,","otherwise defaults to *outliers*."].join(" ")}),jitter:n({},i.jitter,{description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the violins."].join(" ")}),pointpos:n({},i.pointpos,{description:["Sets the position of the sample points in relation to the violins.","If *0*, the sample points are places over the center of the violins.","Positive (negative) values correspond to positions to the","right (left) for vertical violins and above (below) for horizontal violins."].join(" ")}),width:n({},i.width,{description:["Sets the width of the violin in data coordinates.","If *0* (default value) the width is automatically selected based on the positions","of other violin traces in the same subplot."].join(" ")}),marker:i.marker,text:i.text,hovertext:i.hovertext,hovertemplate:i.hovertemplate,box:{visible:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines if an miniature box plot is drawn inside the violins. "].join(" ")},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot",description:["Sets the width of the inner box plots relative to","the violins' width.","For example, with 1, the inner box plots are as wide as the violins."].join(" ")},fillcolor:{valType:"color",editType:"style",description:"Sets the inner box plot fill color."},line:{color:{valType:"color",editType:"style",description:"Sets the inner box plot bounding line color."},width:{valType:"number",min:0,editType:"style",description:"Sets the inner box plot bounding line width."},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines if a line corresponding to the sample's mean is shown","inside the violins.","If `box.visible` is turned on, the mean line is drawn inside the inner box.","Otherwise, the mean line is drawn from one side of the violin to other."].join(" ")},color:{valType:"color",editType:"style",description:"Sets the mean line color."},width:{valType:"number",min:0,editType:"style",description:"Sets the mean line width."},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc",description:["Determines on which side of the position value the density function making up","one half of a violin is plotted.","Useful when comparing two violin traces under *overlay* mode, where one trace","has `side` set to *positive* and the other to *negative*."].join(" ")},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:i.selected,unselected:i.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style",description:["Do the hover effects highlight individual violins","or sample points or the kernel density estimate or any combination of them?"].join(" ")}}},38919:function(e,t,a){var i=a(47401),n=a(37762),o=a(13573),r=a(74665),s=a(9405).BADNUM;function l(e,t,a){var n=t.max-t.min;if(!n)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,n/1e4);var o=a.length,r=i.stdev(a,o-1,t.mean);return Math.max(function(e,t,a){return 1.059*Math.min(t,a/1.349)*Math.pow(e,-.2)}(o,r,t.q3-t.q1),n/100)}function c(e,t,a,i){var o,r=e.spanmode,l=e.span||[],c=[t.min,t.max],d=[t.min-2*i,t.max+2*i];function p(i){var n=l[i],o="multicategory"===a.type?a.r2c(n):a.d2c(n,0,e[t.valLetter+"calendar"]);return o===s?d[i]:o}var h={type:"linear",range:o="soft"===r?d:"hard"===r?c:[p(0),p(1)]};return n.setConvert(h),h.cleanRange(),o}e.exports=function(e,t){var a=o(e,t);if(a[0].t.empty)return a;for(var s=e._fullLayout,d=n.getFromId(e,t["h"===t.orientation?"xaxis":"yaxis"]),p=1/0,h=-1/0,u=0,f=0,m=0;m<a.length;m++){var x=a[m],v=x.pts.map(r.extractVal),y=x.bandwidth=l(t,x,v),g=x.span=c(t,x,d,y);if(x.min===x.max&&0===y)g=x.span=[x.min,x.max],x.density=[{v:1,t:g[0]}],x.bandwidth=y,u=Math.max(u,1);else{var b=g[1]-g[0],w=Math.ceil(b/(y/3)),T=b/w;if(!isFinite(T)||!isFinite(w))return i.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var k=r.makeKDE(x,t,v);x.density=new Array(w);for(var S=0,_=g[0];_<g[1]+T/2;S++,_+=T){var D=k(_);x.density[S]={v:D,t:_},u=Math.max(u,D)}}f=Math.max(f,v.length),p=Math.min(p,g[0]),h=Math.max(h,g[1])}var I=n.findExtremes(d,[p,h],{padded:!0});if(t._extremes[d._id]=I,t.width)a[0].t.maxKDE=u;else{var L=s._violinScaleGroupStats,M=t.scalegroup,P=L[M];P?(P.maxKDE=Math.max(P.maxKDE,u),P.maxCount=Math.max(P.maxCount,f)):L[M]={maxKDE:u,maxCount:f}}return a[0].t.labels.kde=i._(e,"kde:"),a}},10340:function(e,t,a){var i=a(32854).setPositionOffset,n=["v","h"];e.exports=function(e,t){for(var a=e.calcdata,o=t.xaxis,r=t.yaxis,s=0;s<n.length;s++){for(var l=n[s],c="h"===l?r:o,d=[],p=0;p<a.length;p++){var h=a[p],u=h[0].t,f=h[0].trace;!0!==f.visible||"violin"!==f.type||u.empty||f.orientation!==l||f.xaxis!==o._id||f.yaxis!==r._id||d.push(p)}i("violin",e,d,c)}}},62624:function(e,t,a){var i=a(47401),n=a(31454),o=a(9766),r=a(12551);e.exports=function(e,t,a,s){function l(a,n){return i.coerce(e,t,r,a,n)}function c(a,n){return i.coerce2(e,t,r,a,n)}if(o.handleSampleDefaults(e,t,l,s),!1!==t.visible){l("bandwidth"),l("side"),l("width")||(l("scalegroup",t.name),l("scalemode"));var d,p=l("span");Array.isArray(p)&&(d="manual"),l("spanmode",d);var h=l("line.color",(e.marker||{}).color||a),u=l("line.width"),f=l("fillcolor",n.addOpacity(t.line.color,.5));o.handlePointsDefaults(e,t,l,{prefix:""});var m=c("box.width"),x=c("box.fillcolor",f),v=c("box.line.color",h),y=c("box.line.width",u);l("box.visible",Boolean(m||x||v||y))||(t.box={visible:!1});var g=c("meanline.color",h),b=c("meanline.width",u);l("meanline.visible",Boolean(g||b))||(t.meanline={visible:!1})}}},74665:function(e,t,a){var i=a(47401),n=function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)};t.makeKDE=function(e,t,a){var i=a.length,o=n,r=e.bandwidth,s=1/(i*r);return function(e){for(var t=0,n=0;n<i;n++)t+=o((e-a[n])/r);return s*t}},t.getPositionOnKdePath=function(e,t,a){var n,o;"h"===t.orientation?(n="y",o="x"):(n="x",o="y");var r=i.findPointOnPath(e.path,a,o,{pathLength:e.pathLength}),s=e.posCenterPx,l=r[n];return[l,"both"===t.side?2*s-l:s]},t.getKdeValue=function(e,a,i){var n=e.pts.map(t.extractVal);return t.makeKDE(e,a,n)(i)/e.posDensityScale},t.extractVal=function(e){return e.v}},58074:function(e,t,a){var i=a(47401),n=a(37762),o=a(34408),r=a(74665);e.exports=function(e,t,a,s,l){l||(l={});var c,d,p=l.hoverLayer,h=e.cd,u=h[0].trace,f=u.hoveron,m=-1!==f.indexOf("violins"),x=-1!==f.indexOf("kde"),v=[];if(m||x){var y=o.hoverOnBoxes(e,t,a,s);if(x&&y.length>0){var g,b,w,T,k,S=e.xa,_=e.ya;"h"===u.orientation?(k=t,g="y",w=_,b="x",T=S):(k=a,g="x",w=S,b="y",T=_);var D=h[e.index];if(k>=D.span[0]&&k<=D.span[1]){var I=i.extendFlat({},e),L=T.c2p(k,!0),M=r.getKdeValue(D,u,k),P=r.getPositionOnKdePath(D,u,L),A=w._offset,O=w._length;I[g+"0"]=P[0],I[g+"1"]=P[1],I[b+"0"]=I[b+"1"]=L,I[b+"Label"]=b+": "+n.hoverLabelText(T,k,u[b+"hoverformat"])+", "+h[0].t.labels.kde+" "+M.toFixed(3),I.spikeDistance=y[0].spikeDistance;var j=g+"Spike";I[j]=y[0][j],y[0].spikeDistance=void 0,y[0][j]=void 0,I.hovertemplate=!1,v.push(I),(d={stroke:e.color})[g+"1"]=i.constrain(A+P[0],A,A+O),d[g+"2"]=i.constrain(A+P[1],A,A+O),d[b+"1"]=d[b+"2"]=T._offset+L}}m&&(v=v.concat(y))}-1!==f.indexOf("points")&&(c=o.hoverOnPoints(e,t,a));var C=p.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return C.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),C.exit().remove(),C.attr(d),"closest"===s?c?[c]:v:c?(v.push(c),v):v}},89292:function(e,t,a){e.exports={attributes:a(12551),layoutAttributes:a(26670),supplyDefaults:a(62624),crossTraceDefaults:a(9766).crossTraceDefaults,supplyLayoutDefaults:a(12345),calc:a(38919),crossTraceCalc:a(10340),plot:a(13246),style:a(84813),styleOnSelect:a(78608).styleOnSelect,hoverPoints:a(58074),selectPoints:a(10168),moduleType:"trace",name:"violin",basePlotModule:a(66807),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{description:["In vertical (horizontal) violin plots,","statistics are computed using `y` (`x`) values.","By supplying an `x` (`y`) array, one violin per distinct x (y) value","is drawn","If no `x` (`y`) {array} is provided, a single violin is drawn.","That violin position is then positioned with","with `name` or with `x0` (`y0`) if provided."].join(" ")}}},26670:function(e,t,a){var i=a(73580),n=a(47401).extendFlat;e.exports={violinmode:n({},i.boxmode,{description:["Determines how violins at the same location coordinate","are displayed on the graph.","If *group*, the violins are plotted next to one another","centered around the shared location.","If *overlay*, the violins are plotted over one another,","you might need to set *opacity* to see them multiple violins.","Has no effect on traces that have *width* set."].join(" ")}),violingap:n({},i.boxgap,{description:["Sets the gap (in plot fraction) between violins of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")}),violingroupgap:n({},i.boxgroupgap,{description:["Sets the gap (in plot fraction) between violins of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")})}},12345:function(e,t,a){var i=a(47401),n=a(26670),o=a(76763);e.exports=function(e,t,a){o._supply(e,t,a,(function(a,o){return i.coerce(e,t,n,a,o)}),"violin")}},13246:function(e,t,a){var i=a(62258),n=a(47401),o=a(41707),r=a(11755),s=a(94341),l=a(74665);e.exports=function(e,t,a,c){var d=e._fullLayout,p=t.xaxis,h=t.yaxis;function u(e){var t=s(e,{xaxis:p,yaxis:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(t[0],1)}n.makeTraceGroups(c,a,"trace violins").each((function(e){var a=i.select(this),o=e[0],s=o.t,c=o.trace;if(!0!==c.visible||s.empty)a.remove();else{var f=s.bPos,m=s.bdPos,x=t[s.valLetter+"axis"],v=t[s.posLetter+"axis"],y="both"===c.side,g=y||"positive"===c.side,b=y||"negative"===c.side,w=a.selectAll("path.violin").data(n.identity);w.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each((function(e){var t,a,n,o,r,l,p,h,w=i.select(this),T=e.density,k=T.length,S=v.c2l(e.pos+f,!0),_=v.l2p(S);if(c.width)t=s.maxKDE/m;else{var D=d._violinScaleGroupStats[c.scalegroup];t="count"===c.scalemode?D.maxKDE/m*(D.maxCount/e.pts.length):D.maxKDE/m}if(g){for(p=new Array(k),r=0;r<k;r++)(h=p[r]={})[s.posLetter]=S+T[r].v/t,h[s.valLetter]=x.c2l(T[r].t,!0);a=u(p)}if(b){for(p=new Array(k),l=0,r=k-1;l<k;l++,r--)(h=p[l]={})[s.posLetter]=S-T[r].v/t,h[s.valLetter]=x.c2l(T[r].t,!0);n=u(p)}if(y)o=a+"L"+n.substr(1)+"Z";else{var I=[_,x.c2p(T[0].t)],L=[_,x.c2p(T[k-1].t)];"h"===c.orientation&&(I.reverse(),L.reverse()),o=g?"M"+I+"L"+a.substr(1)+"L"+L:"M"+L+"L"+n.substr(1)+"L"+I}w.attr("d",o),e.posCenterPx=_,e.posDensityScale=t*m,e.path=w.node(),e.pathLength=e.path.getTotalLength()/(y?2:1)}));var T,k,S,_=c.box,D=_.width,I=(_.line||{}).width;y?(T=m*D,k=0):g?(T=[0,m*D/2],k=I*{x:1,y:-1}[s.posLetter]):(T=[m*D/2,0],k=I*{x:-1,y:1}[s.posLetter]),r.plotBoxAndWhiskers(a,{pos:v,val:x},c,{bPos:f,bdPos:T,bPosPxOffset:k}),r.plotBoxMean(a,{pos:v,val:x},c,{bPos:f,bdPos:T,bPosPxOffset:k}),!c.box.visible&&c.meanline.visible&&(S=n.identity);var L=a.selectAll("path.meanline").data(S||[]);L.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),L.exit().remove(),L.each((function(e){var t=x.c2p(e.mean,!0),a=l.getPositionOnKdePath(e,c,t);i.select(this).attr("d","h"===c.orientation?"M"+t+","+a[0]+"V"+a[1]:"M"+a[0]+","+t+"H"+a[1])})),r.plotPoints(a,{x:p,y:h},c,s)}}))}},84813:function(e,t,a){var i=a(62258),n=a(31454),o=a(78608).stylePoints;e.exports=function(e){var t=i.select(e).selectAll("g.trace.violins");t.style("opacity",(function(e){return e[0].trace.opacity})),t.each((function(t){var a=t[0].trace,r=i.select(this),s=a.box||{},l=s.line||{},c=a.meanline||{},d=c.width;r.selectAll("path.violin").style("stroke-width",a.line.width+"px").call(n.stroke,a.line.color).call(n.fill,a.fillcolor),r.selectAll("path.box").style("stroke-width",l.width+"px").call(n.stroke,l.color).call(n.fill,s.fillcolor);var p={"stroke-width":d+"px","stroke-dasharray":2*d+"px,"+d+"px"};r.selectAll("path.mean").style(p).call(n.stroke,c.color),r.selectAll("path.meanline").style(p).call(n.stroke,c.color),o(r,a,e)}))}},51478:function(e,t,a){var i=a(97451),n=a(83228),o=a(20755),r=a(42837),s=a(87241).extendFlat,l=a(17342).overrideAll,c=e.exports=l(s({x:n.x,y:n.y,z:n.z,value:n.value,isomin:n.isomin,isomax:n.isomax,surface:n.surface,spaceframe:{show:{valType:"boolean",dflt:!1,description:["Displays/hides tetrahedron shapes between minimum and","maximum iso-values. Often useful when either caps or","surfaces are disabled or filled with values less than 1."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `spaceframe` elements. The default fill value","is 1 meaning that they are entirely shaded. Applying a `fill` ratio less","than one would allow the creation of openings parallel to the edges."].join(" ")}},slices:n.slices,caps:n.caps,text:n.text,hovertext:n.hovertext,xhoverformat:n.xhoverformat,yhoverformat:n.yhoverformat,zhoverformat:n.zhoverformat,valuehoverformat:n.valuehoverformat,hovertemplate:n.hovertemplate},i("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:n.colorbar,opacity:n.opacity,opacityscale:o.opacityscale,lightposition:n.lightposition,lighting:n.lighting,flatshading:n.flatshading,contour:n.contour,hoverinfo:s({},r.hoverinfo),showlegend:s({},r.showlegend,{dflt:!1})}),"calc","nested");c.x.editType=c.y.editType=c.z.editType=c.value.editType="calc+clearAxisTypes",c.transforms=void 0},22624:function(e,t,a){var i=a(14144),n=a(63750).parseColorScale,o=a(42770),r=a(47624).extractOpts,s=a(35839),l=a(97210).findNearestOnAxis,c=a(97210).generateIsoMeshes;function d(e,t,a){this.scene=e,this.uid=a,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var p=d.prototype;p.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,a=this.data._meshX[t],i=this.data._meshY[t],n=this.data._meshZ[t],o=this.data._Ys.length,r=this.data._Zs.length,s=l(a,this.data._Xs).id,c=l(i,this.data._Ys).id,d=l(n,this.data._Zs).id,p=e.index=d+r*c+r*o*s;e.traceCoordinate=[this.data._meshX[p],this.data._meshY[p],this.data._meshZ[p],this.data._value[p]];var h=this.data.hovertext||this.data.text;return Array.isArray(h)&&void 0!==h[p]?e.textLabel=h[p]:h&&(e.textLabel=h),!0}},p.update=function(e){var t=this.scene,a=t.fullSceneLayout;function i(e,t,a,i){return t.map((function(t){return e.d2l(t,0,i)*a}))}this.data=c(e);var l={positions:s(i(a.xaxis,e._meshX,t.dataScale[0],e.xcalendar),i(a.yaxis,e._meshY,t.dataScale[1],e.ycalendar),i(a.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),cells:s(e._meshI,e._meshJ,e._meshK),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:o(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},d=r(e);l.vertexIntensity=e._meshIntensity,l.vertexIntensityBounds=[d.min,d.max],l.colormap=n(e),this.mesh.update(l)},p.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=function(e,t){var a=e.glplot.gl,n=i({gl:a}),o=new d(e,n,t.uid);return n._trace=o,o.update(t),e.glplot.add(n),o}},10177:function(e,t,a){var i=a(47401),n=a(51478),o=a(78283).supplyIsoDefaults,r=a(48884).opacityscaleDefaults;e.exports=function(e,t,a,s){function l(a,o){return i.coerce(e,t,n,a,o)}o(e,t,a,s,l),r(e,t,s,l)}},95879:function(e,t,a){e.exports={attributes:a(51478),supplyDefaults:a(10177),calc:a(64540),colorbar:{min:"cmin",max:"cmax"},plot:a(22624),moduleType:"trace",name:"volume",basePlotModule:a(6727),categories:["gl3d","showLegend"],meta:{description:["Draws volume trace between iso-min and iso-max values with coordinates given by","four 1-dimensional arrays containing the `value`, `x`, `y` and `z` of every vertex","of a uniform or non-uniform 3-D grid. Horizontal or vertical slices, caps as well as","spaceframe between iso-min and iso-max values could also be drawn using this trace."].join(" ")}}},48152:function(e,t,a){var i=a(66905),n=a(47216).line,o=a(42837),r=a(20184).axisHoverFormat,s=a(4216).r,l=a(4216).a,c=a(21532),d=a(87241).extendFlat,p=a(31454);function h(e){return{marker:{color:d({},i.marker.color,{arrayOk:!1,editType:"style",description:"Sets the marker color of all "+e+" values."}),line:{color:d({},i.marker.line.color,{arrayOk:!1,editType:"style",description:"Sets the line color of all "+e+" values."}),width:d({},i.marker.line.width,{arrayOk:!1,editType:"style",description:"Sets the line width of all "+e+" values."}),editType:"style"},editType:"style"},editType:"style"}}e.exports={measure:{valType:"data_array",dflt:[],editType:"calc",description:["An array containing types of values.","By default the values are considered as 'relative'.","However; it is possible to use 'total' to compute the sums.","Also 'absolute' could be applied to reset the computed total","or to declare an initial value where needed."].join(" ")},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc",description:["Sets where the bar base is drawn (in position axis units)."].join(" ")},x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:r("x"),yhoverformat:r("y"),hovertext:i.hovertext,hovertemplate:s({},{keys:c.eventDataKeys}),hoverinfo:d({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1,description:["Determines which trace information appear on the graph.","In the case of having multiple waterfalls, totals","are computed separately (per trace)."].join(" ")},texttemplate:l({editType:"plot"},{keys:c.eventDataKeys.concat(["label"])}),text:i.text,textposition:i.textposition,insidetextanchor:i.insidetextanchor,textangle:i.textangle,textfont:i.textfont,insidetextfont:i.insidetextfont,outsidetextfont:i.outsidetextfont,constraintext:i.constraintext,cliponaxis:i.cliponaxis,orientation:i.orientation,offset:i.offset,width:i.width,increasing:h("increasing"),decreasing:h("decreasing"),totals:h("intermediate sums and total"),connector:{line:{color:d({},n.color,{dflt:p.defaultLine}),width:d({},n.width,{editType:"plot"}),dash:n.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot",description:["Sets the shape of connector lines."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines if connector lines are drawn. "].join(" ")},editType:"plot"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup}},47208:function(e,t,a){var i=a(37762),n=a(48128),o=a(47401).mergeArray,r=a(35533),s=a(9405).BADNUM;function l(e){return"a"===e||"absolute"===e}function c(e){return"t"===e||"total"===e}e.exports=function(e,t){var a,d,p,h,u,f,m=i.getFromId(e,t.xaxis||"x"),x=i.getFromId(e,t.yaxis||"y");"h"===t.orientation?(a=m.makeCalcdata(t,"x"),p=x.makeCalcdata(t,"y"),h=n(t,x,"y",p),u=!!t.yperiodalignment,f="y"):(a=x.makeCalcdata(t,"y"),p=m.makeCalcdata(t,"x"),h=n(t,m,"x",p),u=!!t.xperiodalignment,f="x"),d=h.vals;for(var v,y=Math.min(d.length,a.length),g=new Array(y),b=0,w=!1,T=0;T<y;T++){var k=a[T]||0,S=!1;(a[T]!==s||c(t.measure[T])||l(t.measure[T]))&&T+1<y&&(a[T+1]!==s||c(t.measure[T+1])||l(t.measure[T+1]))&&(S=!0);var _=g[T]={i:T,p:d[T],s:k,rawS:k,cNext:S};l(t.measure[T])?(b=_.s,_.isSum=!0,_.dir="totals",_.s=b):c(t.measure[T])?(_.isSum=!0,_.dir="totals",_.s=b):(_.isSum=!1,_.dir=_.rawS<0?"decreasing":"increasing",v=_.s,_.s=b+v,b+=v),"totals"===_.dir&&(w=!0),u&&(g[T].orig_p=p[T],g[T][f+"End"]=h.ends[T],g[T][f+"Start"]=h.starts[T]),t.ids&&(_.id=String(t.ids[T])),_.v=(t.base||0)+b}return g.length&&(g[0].hasTotals=w),o(t.text,g,"tx"),o(t.hovertext,g,"htx"),r(g,t),g}},21532:function(e){e.exports={eventDataKeys:["initial","delta","final"]}},88859:function(e,t,a){var i=a(11262).setGroupPositions;e.exports=function(e,t){var a,n,o=e._fullLayout,r=e._fullData,s=e.calcdata,l=t.xaxis,c=t.yaxis,d=[],p=[],h=[];for(n=0;n<r.length;n++){var u=r[n];!0===u.visible&&u.xaxis===l._id&&u.yaxis===c._id&&"waterfall"===u.type&&(a=s[n],"h"===u.orientation?h.push(a):p.push(a),d.push(a))}var f={mode:o.waterfallmode,norm:o.waterfallnorm,gap:o.waterfallgap,groupgap:o.waterfallgroupgap};for(i(e,l,c,p,f),i(e,c,l,h,f),n=0;n<d.length;n++){a=d[n];for(var m=0;m<a.length;m++){var x=a[m];!1===x.isSum&&(x.s0+=0===m?0:a[m-1].s),m+1<a.length&&(a[m].nextP0=a[m+1].p0,a[m].nextS0=a[m+1].s0)}}}},99567:function(e,t,a){var i=a(47401),n=a(18878).handleGroupingDefaults,o=a(18878).handleText,r=a(87243),s=a(75781),l=a(48152),c=a(31454),d=a(7677),p=d.INCREASING.COLOR,h=d.DECREASING.COLOR;function u(e,t,a){e(t+".marker.color",a),e(t+".marker.line.color",c.defaultLine),e(t+".marker.line.width")}e.exports={supplyDefaults:function(e,t,a,n){function c(a,n){return i.coerce(e,t,l,a,n)}if(r(e,t,n,c)){s(e,t,n,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",t.x&&!t.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var d=c("textposition");if(o(e,t,n,c,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==t.textposition&&(c("texttemplate"),t.texttemplate||c("textinfo")),u(c,"increasing",p),u(c,"decreasing",h),u(c,"totals","#4499FF"),c("connector.visible"))c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash"))}else t.visible=!1},crossTraceDefaults:function(e,t){var a,o;function r(e){return i.coerce(o._input,o,l,e)}if("group"===t.waterfallmode)for(var s=0;s<e.length;s++)a=(o=e[s])._input,n(a,o,t,r)}}},44436:function(e){e.exports=function(e,t){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,"initial"in t&&(e.initial=t.initial),"delta"in t&&(e.delta=t.delta),"final"in t&&(e.final=t.final),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}},6975:function(e,t,a){var i=a(37762).hoverLabelText,n=a(31454).opacity,o=a(16032).hoverOnBars,r=a(7677),s=r.INCREASING.SYMBOL,l=r.DECREASING.SYMBOL;e.exports=function(e,t,a,r,c){var d=o(e,t,a,r,c);if(d){var p=d.cd,h=p[0].trace,u="h"===h.orientation,f=u?"x":"y",m=u?e.xa:e.ya,x=p[d.index],v=x.isSum?x.b+x.s:x.rawS;if(!x.isSum){d.initial=x.b+x.s-v,d.delta=v,d.final=d.initial+d.delta;var y=S(Math.abs(d.delta));d.deltaLabel=v<0?"("+y+")":y,d.finalLabel=S(d.final),d.initialLabel=S(d.initial)}var g=x.hi||h.hoverinfo,b=[];if(g&&"none"!==g&&"skip"!==g){var w="all"===g,T=g.split("+"),k=function(e){return w||-1!==T.indexOf(e)};x.isSum||(!k("final")||k(u?"x":"y")||b.push(d.finalLabel),k("delta")&&(v<0?b.push(d.deltaLabel+" "+l):b.push(d.deltaLabel+" "+s)),k("initial")&&b.push("Initial: "+d.initialLabel))}return b.length&&(d.extraText=b.join("<br>")),d.color=function(e,t){var a=e[t.dir].marker,i=a.color,o=a.line.color,r=a.line.width;if(n(i))return i;if(n(o)&&r)return o}(h,x),[d]}function S(e){return i(m,e,h[f+"hoverformat"])}}},25253:function(e,t,a){e.exports={attributes:a(48152),layoutAttributes:a(65299),supplyDefaults:a(99567).supplyDefaults,crossTraceDefaults:a(99567).crossTraceDefaults,supplyLayoutDefaults:a(17044),calc:a(47208),crossTraceCalc:a(88859),plot:a(58058),style:a(19032).style,hoverPoints:a(6975),eventData:a(44436),selectPoints:a(76304),moduleType:"trace",name:"waterfall",basePlotModule:a(66807),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{description:["Draws waterfall trace which is useful graph to displays the","contribution of various elements (either positive or negative)","in a bar chart. The data visualized by the span of the bars is","set in `y` if `orientation` is set th *v* (the default) and the","labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},65299:function(e){e.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},waterfallgap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},17044:function(e,t,a){var i=a(47401),n=a(65299);e.exports=function(e,t,a){var o=!1;function r(a,o){return i.coerce(e,t,n,a,o)}for(var s=0;s<a.length;s++){var l=a[s];if(l.visible&&"waterfall"===l.type){o=!0;break}}o&&(r("waterfallmode"),r("waterfallgap",.2),r("waterfallgroupgap"))}},58058:function(e,t,a){var i=a(62258),n=a(47401),o=a(41707),r=a(9405).BADNUM,s=a(74835),l=a(77846).clearMinTextSize;e.exports=function(e,t,a,c){var d=e._fullLayout;l("waterfall",d),s.plot(e,t,a,c,{mode:d.waterfallmode,norm:d.waterfallmode,gap:d.waterfallgap,groupgap:d.waterfallgroupgap}),function(e,t,a,s){var l=t.xaxis,c=t.yaxis;n.makeTraceGroups(s,a,"trace bars").each((function(a){var s=i.select(this),d=a[0].trace,p=n.ensureSingle(s,"g","lines");if(d.connector&&d.connector.visible){var h="h"===d.orientation,u=d.connector.mode,f=p.selectAll("g.line").data(n.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var m=f.size();f.each((function(a,s){if(s===m-1||a.cNext){var d=function(e,t,a,i){var n=[],o=[],r=i?t:a,s=i?a:t;return n[0]=r.c2p(e.s0,!0),o[0]=s.c2p(e.p0,!0),n[1]=r.c2p(e.s1,!0),o[1]=s.c2p(e.p1,!0),n[2]=r.c2p(e.nextS0,!0),o[2]=s.c2p(e.nextP0,!0),i?[n,o]:[o,n]}(a,l,c,h),p=d[0],f=d[1],x="";p[0]!==r&&f[0]!==r&&p[1]!==r&&f[1]!==r&&("spanning"===u&&!a.isSum&&s>0&&(x+=h?"M"+p[0]+","+f[1]+"V"+f[0]:"M"+p[1]+","+f[0]+"H"+p[0]),"between"!==u&&(a.isSum||s<m-1)&&(x+=h?"M"+p[1]+","+f[0]+"V"+f[1]:"M"+p[0]+","+f[1]+"H"+p[1]),p[2]!==r&&f[2]!==r&&(x+=h?"M"+p[1]+","+f[1]+"V"+f[2]:"M"+p[1]+","+f[1]+"H"+p[2])),""===x&&(x="M0,0Z"),n.ensureSingle(i.select(this),"path").attr("d",x).call(o.setClipUrl,t.layerClipId,e)}}))}else p.remove()}))}(e,t,a,c)}},19032:function(e,t,a){var i=a(62258),n=a(41707),o=a(31454),r=a(49158).DESELECTDIM,s=a(49651),l=a(77846).resizeText,c=s.styleTextPoints;e.exports={style:function(e,t,a){var s=a||i.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");l(e,s,"waterfall"),s.style("opacity",(function(e){return e[0].trace.opacity})),s.each((function(t){var a=i.select(this),s=t[0].trace;a.selectAll(".point > path").each((function(e){if(!e.isBlank){var t=s[e.dir].marker;i.select(this).call(o.fill,t.color).call(o.stroke,t.line.color).call(n.dashLine,t.line.dash,t.line.width).style("opacity",s.selectedpoints&&!e.selected?r:1)}})),c(a,s,e),a.selectAll(".lines").each((function(){var e=s.connector.line;n.lineGroupStyle(i.select(this).selectAll("path"),e.width,e.color,e.dash)}))}))}}}}]);