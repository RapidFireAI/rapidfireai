{"version":3,"file":"static/js/9160.140beec4.chunk.js","mappings":"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","sources":["experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelOpenDatasetDetails.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelStatusIndicator.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelSourceBox.tsx","experiment-tracking/components/run-page/hooks/useGetRunQuery.tsx","shared/web-shared/metrics/UserActionErrorHandler.tsx","common/hooks/useSafeDeferredValue.ts","experiment-tracking/components/run-page/hooks/useUnifiedRegisteredModelVersionsSummariesForRun.tsx","experiment-tracking/components/run-page/hooks/useRunDetailsPageData.tsx","experiment-tracking/components/run-page/useRunDetailsPageDataLegacy.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDatasetButton.tsx","shared/web-shared/browse/TimeAgo.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelTableDateCell.tsx"],"sourcesContent":["import { createContext, useCallback, useContext, useMemo, useRef, useState } from 'react';\nimport {\n  type DatasetWithRunType,\n  ExperimentViewDatasetDrawer,\n} from '../../experiment-page/components/runs/ExperimentViewDatasetDrawer';\nimport { useLazyGetRunQuery } from '../../run-page/hooks/useGetRunQuery';\nimport { transformDatasets as transformGraphQLResponseDatasets } from '../../run-page/hooks/useRunDetailsPageData';\nimport { keyBy } from 'lodash';\nimport type { KeyValueEntity } from '../../../../common/types';\nimport { ErrorLogType, ErrorName, PredefinedError } from '@databricks/web-shared/errors';\nimport { ErrorCodes } from '../../../../common/constants';\nimport { FormattedMessage } from 'react-intl';\n\nclass DatasetRunNotFoundError extends PredefinedError {\n  errorLogType = ErrorLogType.UnexpectedSystemStateError;\n  errorName = ErrorName.DatasetRunNotFoundError;\n  isUserError = true;\n  displayMessage = (\n    <FormattedMessage\n      defaultMessage=\"The run containing the dataset could not be found.\"\n      description=\"Error message displayed when the run for the dataset is not found\"\n    />\n  );\n}\n\ntype ExperimentLoggedModelOpenDatasetDetailsContextType = {\n  onDatasetClicked: (params: { datasetName: string; datasetDigest: string; runId: string }) => Promise<void>;\n};\n\nexport const ExperimentLoggedModelOpenDatasetDetailsContext =\n  createContext<ExperimentLoggedModelOpenDatasetDetailsContextType>({\n    onDatasetClicked: () => Promise.resolve(),\n  });\n\n/**\n * Creates a context provider that allows opening the dataset details drawer from the logged model page.\n * Uses the `useGetRunQuery` GraphQL to fetch the run info for the dataset.\n */\nexport const ExperimentLoggedModelOpenDatasetDetailsContextProvider = ({ children }: { children: React.ReactNode }) => {\n  const [isDrawerOpen, setIsDrawerOpen] = useState<boolean>(false);\n  const [selectedDatasetWithRun, setSelectedDatasetWithRun] = useState<DatasetWithRunType>();\n\n  const [getRunInfo] = useLazyGetRunQuery();\n\n  // Store the current promise's reject function\n  const rejectCurrentPromiseFn = useRef<((reason?: any) => void) | null>(null);\n\n  const onDatasetClicked = useCallback(\n    async (params: { datasetName: string; datasetDigest: string; runId: string }) =>\n      new Promise<void>((resolve, reject) => {\n        // If there's a promise in flight, reject it to remove previous loading state\n        rejectCurrentPromiseFn.current?.();\n\n        return getRunInfo({\n          onError: reject,\n          onCompleted(data) {\n            // If there's an API error in the response, reject the promise\n            if (data.mlflowGetRun?.apiError) {\n              // Special case: if the run is not found, show a different error message\n              const error =\n                data.mlflowGetRun.apiError.code === ErrorCodes.RESOURCE_DOES_NOT_EXIST\n                  ? new DatasetRunNotFoundError()\n                  : data.mlflowGetRun.apiError;\n              reject(error);\n              return;\n            }\n            // Transform the datasets into a format that can be used by the drawer UI\n            const datasets = transformGraphQLResponseDatasets(data.mlflowGetRun?.run?.inputs?.datasetInputs);\n\n            // Ensure that the datasets and run info are present\n            if (!datasets || !data.mlflowGetRun?.run?.info) {\n              resolve();\n              return;\n            }\n\n            // Find the dataset that matches the dataset name and digest\n            const matchingDataset = datasets?.find(\n              (datasetInput) =>\n                datasetInput.dataset?.digest === params.datasetDigest &&\n                datasetInput.dataset.name === params.datasetName,\n            );\n\n            // If the dataset is not found, return early\n            if (!matchingDataset) {\n              resolve();\n              return;\n            }\n            const { info, data: runData } = data.mlflowGetRun.run;\n\n            // Convert tags into a dictionary for easier access\n            const tagsDictionary = keyBy(runData?.tags?.filter((tag) => tag.key && tag.value) ?? [], 'key') as Record<\n              string,\n              KeyValueEntity\n            >;\n\n            // Open the drawer using the dataset and run info\n            setIsDrawerOpen(true);\n            setSelectedDatasetWithRun({\n              datasetWithTags: {\n                dataset: matchingDataset.dataset,\n                tags: matchingDataset.tags,\n              },\n              runData: {\n                datasets: datasets,\n                runUuid: info.runUuid ?? '',\n                experimentId: info.experimentId ?? '',\n                runName: info.runName ?? '',\n                tags: tagsDictionary,\n              },\n            });\n\n            // Resolve the promise\n            resolve();\n            rejectCurrentPromiseFn.current = null;\n          },\n          variables: { data: { runId: params.runId } },\n        });\n      }),\n    [getRunInfo],\n  );\n\n  const contextValue = useMemo(() => ({ onDatasetClicked }), [onDatasetClicked]);\n\n  return (\n    <ExperimentLoggedModelOpenDatasetDetailsContext.Provider value={contextValue}>\n      {children}\n      {selectedDatasetWithRun && (\n        <ExperimentViewDatasetDrawer\n          isOpen={isDrawerOpen}\n          selectedDatasetWithRun={selectedDatasetWithRun}\n          setIsOpen={setIsDrawerOpen}\n          setSelectedDatasetWithRun={setSelectedDatasetWithRun}\n        />\n      )}\n    </ExperimentLoggedModelOpenDatasetDetailsContext.Provider>\n  );\n};\n\nexport const useExperimentLoggedModelOpenDatasetDetails = () =>\n  useContext(ExperimentLoggedModelOpenDatasetDetailsContext);\n","import {\n  CheckCircleIcon,\n  ClockIcon,\n  Tag,\n  Typography,\n  useDesignSystemTheme,\n  XCircleIcon,\n} from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { LoggedModelStatusProtoEnum, type LoggedModelProto } from '../../types';\n\nconst LoggedModelStatusIcon = ({ status }: { status: LoggedModelStatusProtoEnum }) => {\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n    return <CheckCircleIcon color=\"success\" />;\n  }\n\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n    return <XCircleIcon color=\"danger\" />;\n  }\n\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n    return <ClockIcon color=\"warning\" />;\n  }\n\n  return null;\n};\n\nexport const ExperimentLoggedModelStatusIndicator = ({ data }: { data: LoggedModelProto }) => {\n  const { theme } = useDesignSystemTheme();\n  const status = data.info?.status ?? LoggedModelStatusProtoEnum.LOGGED_MODEL_STATUS_UNSPECIFIED;\n\n  const getTagColor = () => {\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n      return theme.isDarkMode ? theme.colors.green800 : theme.colors.green100;\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n      return theme.isDarkMode ? theme.colors.red800 : theme.colors.red100;\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n      return theme.isDarkMode ? theme.colors.yellow800 : theme.colors.yellow100;\n    }\n\n    return undefined;\n  };\n\n  const getStatusLabel = () => {\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_READY) {\n      return (\n        <Typography.Text color=\"success\">\n          <FormattedMessage defaultMessage=\"Ready\" description=\"Label for ready state of a experiment logged model\" />\n        </Typography.Text>\n      );\n    }\n\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_UPLOAD_FAILED) {\n      return (\n        <Typography.Text color=\"error\">\n          <FormattedMessage\n            defaultMessage=\"Failed\"\n            description=\"Label for upload failed state of a experiment logged model\"\n          />\n        </Typography.Text>\n      );\n    }\n    if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_PENDING) {\n      return (\n        <Typography.Text color=\"warning\">\n          <FormattedMessage\n            defaultMessage=\"Pending\"\n            description=\"Label for pending state of a experiment logged model\"\n          />\n        </Typography.Text>\n      );\n    }\n\n    return status;\n  };\n\n  if (status === LoggedModelStatusProtoEnum.LOGGED_MODEL_STATUS_UNSPECIFIED) {\n    return null;\n  }\n\n  return (\n    <Tag componentId=\"mlflow.logged_model.status\" css={{ backgroundColor: getTagColor() }}>\n      {status && <LoggedModelStatusIcon status={status} />}{' '}\n      <Typography.Text css={{ marginLeft: theme.spacing.sm }}>{getStatusLabel()}</Typography.Text>\n    </Tag>\n  );\n};\n","import {\n  BranchIcon,\n  CopyIcon,\n  GitCommitIcon,\n  Tag,\n  Typography,\n  useDesignSystemTheme,\n  Tooltip,\n  Popover,\n} from '@databricks/design-system';\nimport Utils from '../../../common/utils/Utils';\nimport type { LoggedModelKeyValueProto, LoggedModelProto } from '../../types';\nimport { MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG } from '../../constants';\nimport { CopyButton } from '@mlflow/mlflow/src/shared/building_blocks/CopyButton';\nimport { ExperimentSourceTypeIcon } from '../ExperimentSourceTypeIcon';\nimport { useMemo } from 'react';\nimport { useSearchParams } from '../../../common/utils/RoutingUtils';\n\nexport const ExperimentLoggedModelSourceBox = ({\n  loggedModel,\n  displayDetails,\n  className,\n}: {\n  loggedModel: LoggedModelProto;\n  /**\n   * Set to true to display the branch name and commit hash.\n   */\n  displayDetails?: boolean;\n  className?: string;\n}) => {\n  const [searchParams] = useSearchParams();\n\n  const tagsByKey = useMemo(\n    () =>\n      loggedModel?.info?.tags?.reduce((acc, tag) => {\n        if (!tag.key) {\n          return acc;\n        }\n        acc[tag.key] = tag;\n        return acc;\n      }, {} as Record<string, LoggedModelKeyValueProto>) ?? {},\n    [loggedModel?.info?.tags],\n  );\n\n  const branchName = tagsByKey?.[MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG]?.value;\n  const commitHash = tagsByKey?.[Utils.gitCommitTag]?.value;\n\n  const runSource = useMemo(() => {\n    try {\n      return Utils.renderSource(tagsByKey, searchParams.toString(), undefined, branchName);\n    } catch (e) {\n      return undefined;\n    }\n  }, [tagsByKey, searchParams, branchName]);\n\n  const sourceTypeValue = tagsByKey[Utils.sourceTypeTag]?.value;\n\n  const { theme } = useDesignSystemTheme();\n  return runSource ? (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing.sm,\n        paddingTop: theme.spacing.sm,\n        paddingBottom: theme.spacing.sm,\n        flexWrap: displayDetails ? 'wrap' : undefined,\n      }}\n      className={className}\n    >\n      {sourceTypeValue && (\n        <ExperimentSourceTypeIcon\n          sourceType={sourceTypeValue}\n          css={{ color: theme.colors.actionPrimaryBackgroundDefault }}\n        />\n      )}\n      {runSource}{' '}\n      {displayDetails && branchName && (\n        <Tooltip componentId=\"mlflow.logged_model.details.source.branch_tooltip\" content={branchName}>\n          <Tag componentId=\"mlflow.logged_model.details.source.branch\" css={{ marginRight: 0 }}>\n            <div css={{ display: 'flex', gap: theme.spacing.xs, whiteSpace: 'nowrap' }}>\n              <BranchIcon /> {branchName}\n            </div>\n          </Tag>\n        </Tooltip>\n      )}\n      {displayDetails && commitHash && (\n        <Popover.Root componentId=\"mlflow.logged_model.details.source.commit_hash_popover\">\n          <Popover.Trigger asChild>\n            <Tag\n              componentId=\"mlflow.logged_model.details.source.commit_hash\"\n              css={{ marginRight: 0, '&>div': { paddingRight: 0 } }}\n            >\n              <div css={{ display: 'flex', gap: theme.spacing.xs, whiteSpace: 'nowrap', alignContent: 'center' }}>\n                <GitCommitIcon />\n                {commitHash.slice(0, 7)}\n              </div>\n            </Tag>\n          </Popover.Trigger>\n          <Popover.Content align=\"start\">\n            <Popover.Arrow />\n            <div css={{ display: 'flex', gap: theme.spacing.xs, alignItems: 'center' }}>\n              {commitHash}\n              <CopyButton showLabel={false} size=\"small\" type=\"tertiary\" copyText={commitHash} icon={<CopyIcon />} />\n            </div>\n          </Popover.Content>\n        </Popover.Root>\n      )}\n    </div>\n  ) : (\n    <Typography.Hint>â€”</Typography.Hint>\n  );\n};\n","import { type ApolloError, type ApolloQueryResult, gql } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport type { GetRun, GetRunVariables } from '../../../../graphql/__generated__/graphql';\nimport { useQuery, useLazyQuery } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\n\nconst GET_RUN_QUERY = gql`\n  query GetRun($data: MlflowGetRunInput!) @component(name: \"MLflow.ExperimentRunTracking\") {\n    mlflowGetRun(input: $data) {\n      apiError {\n        helpUrl\n        code\n        message\n      }\n      run {\n        info {\n          runName\n          status\n          runUuid\n          experimentId\n          artifactUri\n          endTime\n          lifecycleStage\n          startTime\n          userId\n        }\n        experiment {\n          experimentId\n          name\n          tags {\n            key\n            value\n          }\n          artifactLocation\n          lifecycleStage\n          lastUpdateTime\n        }\n        modelVersions {\n          status\n          version\n          name\n          source\n        }\n        data {\n          metrics {\n            key\n            value\n            step\n            timestamp\n          }\n          params {\n            key\n            value\n          }\n          tags {\n            key\n            value\n          }\n        }\n        inputs {\n          datasetInputs {\n            dataset {\n              digest\n              name\n              profile\n              schema\n              source\n              sourceType\n            }\n            tags {\n              key\n              value\n            }\n          }\n          modelInputs {\n            modelId\n          }\n        }\n        outputs {\n          modelOutputs {\n            modelId\n            step\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport type UseGetRunQueryResponseRunInfo = NonNullable<NonNullable<UseGetRunQueryDataResponse>['info']>;\nexport type UseGetRunQueryResponseDatasetInputs = NonNullable<\n  NonNullable<UseGetRunQueryDataResponse>['inputs']\n>['datasetInputs'];\nexport type UseGetRunQueryResponseInputs = NonNullable<UseGetRunQueryDataResponse>['inputs'];\nexport type UseGetRunQueryResponseOutputs = NonNullable<UseGetRunQueryDataResponse>['outputs'];\nexport type UseGetRunQueryResponseExperiment = NonNullable<NonNullable<UseGetRunQueryDataResponse>['experiment']>;\nexport type UseGetRunQueryResponseDataMetrics = NonNullable<\n  NonNullable<NonNullable<UseGetRunQueryDataResponse>['data']>['metrics']\n>;\n\nexport type UseGetRunQueryDataResponse = NonNullable<GetRun['mlflowGetRun']>['run'];\nexport type UseGetRunQueryDataApiError = NonNullable<GetRun['mlflowGetRun']>['apiError'];\nexport type UseGetRunQueryResponse = {\n  data?: UseGetRunQueryDataResponse;\n  loading: boolean;\n  apolloError?: ApolloError;\n  apiError?: UseGetRunQueryDataApiError;\n  refetchRun: () => Promise<ApolloQueryResult<GetRun>>;\n};\n\nexport const useGetRunQuery = ({\n  runUuid,\n  disabled = false,\n}: {\n  runUuid: string;\n  disabled?: boolean;\n}): UseGetRunQueryResponse => {\n  const {\n    data,\n    loading,\n    error: apolloError,\n    refetch,\n  } = useQuery<GetRun, GetRunVariables>(GET_RUN_QUERY, {\n    variables: {\n      data: {\n        runId: runUuid,\n      },\n    },\n    skip: disabled,\n  });\n\n  return {\n    loading,\n    data: data?.mlflowGetRun?.run,\n    refetchRun: refetch,\n    apolloError,\n    apiError: data?.mlflowGetRun?.apiError,\n  } as const;\n};\n\nexport const useLazyGetRunQuery = () => useLazyQuery<GetRun, GetRunVariables>(GET_RUN_QUERY);\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n  type PropsWithChildren,\n  type SyntheticEvent,\n} from 'react';\n\nimport { matchPredefinedError } from '../errors';\nimport type { HandleableError, PredefinedError } from '../errors';\n\nexport type UserActionError = PredefinedError | null;\n\ntype UserActionErrorHandlerContextProps = {\n  currentUserActionError: UserActionError;\n  handleError: (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => void;\n  handlePromise: (promise: Promise<any>) => void;\n  clearUserActionError: () => void;\n};\n\nconst UserActionErrorHandlerContext = createContext<UserActionErrorHandlerContextProps>({\n  currentUserActionError: null,\n  handleError: () => {},\n  handlePromise: () => {},\n  clearUserActionError: () => {},\n});\n\ntype UserActionErrorHandlerProps = {\n  errorFilter?: (error: any) => boolean;\n};\n\nexport const UserActionErrorHandler = ({ children, errorFilter }: PropsWithChildren<UserActionErrorHandlerProps>) => {\n  const [currentUserActionError, setCurrentUserActionError] = useState<UserActionError>(null);\n\n  const handleError = useCallback(\n    (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => {\n      if (!errorFilter?.(error)) {\n        const predefinedError = matchPredefinedError(error);\n\n        setCurrentUserActionError(predefinedError);\n\n        if (onErrorCallback) {\n          onErrorCallback(predefinedError);\n        }\n      }\n    },\n    [setCurrentUserActionError, errorFilter],\n  );\n\n  const handlePromise = useCallback(\n    (promise: Promise<any>) => {\n      promise.catch((error: HandleableError) => {\n        handleError(error);\n      });\n    },\n    [handleError],\n  );\n\n  const clearUserActionError = useCallback(() => {\n    setCurrentUserActionError(null);\n  }, [setCurrentUserActionError]);\n\n  return (\n    <UserActionErrorHandlerContext.Provider\n      value={useMemo(\n        () => ({\n          currentUserActionError,\n          handleError,\n          handlePromise,\n          clearUserActionError,\n        }),\n        [clearUserActionError, currentUserActionError, handleError, handlePromise],\n      )}\n    >\n      {children}\n    </UserActionErrorHandlerContext.Provider>\n  );\n};\n\nexport type UserErrorActionHandlerHook = {\n  currentUserActionError: UserActionError;\n  handleError: (error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => void;\n  /** @deprecated Use handleError instead, or get permission from #product-analytics to use */\n  handleErrorWithEvent: (\n    event: SyntheticEvent | Event,\n    error: HandleableError,\n    onErrorCallback?: (err: UserActionError) => void,\n  ) => void;\n  handlePromise: (promise: Promise<any>) => void;\n  clearUserActionError: () => void;\n};\n\nexport const useUserActionErrorHandler = (): UserErrorActionHandlerHook => {\n  const { currentUserActionError, handleError, handlePromise, clearUserActionError } =\n    useContext(UserActionErrorHandlerContext);\n\n  const handleErrorWithEventImpl = useCallback(\n    (event: SyntheticEvent | Event, error: HandleableError, onErrorCallback?: (err: UserActionError) => void) => {\n      handleError(error, onErrorCallback);\n    },\n    [handleError],\n  );\n\n  return useMemo(\n    () => ({\n      currentUserActionError,\n      handleError,\n      handleErrorWithEvent: handleErrorWithEventImpl,\n      handlePromise,\n      clearUserActionError,\n    }),\n    [clearUserActionError, handleError, handlePromise, currentUserActionError, handleErrorWithEventImpl],\n  );\n};\n\nexport function withUserActionErrorHandler<P>(\n  Component: React.ComponentType<P>,\n  errorFilter?: (error: any) => boolean,\n): React.ComponentType<P> {\n  return function UserActionErrorHandlerWrapper(props: P) {\n    return (\n      <UserActionErrorHandler errorFilter={errorFilter}>\n        {/* @ts-expect-error Generics don't play well with WithConditionalCSSProp type coming @emotion/react jsx typing to validate css= prop values typing. More details here: emotion-js/emotion#2169 */}\n        <Component {...props} />\n      </UserActionErrorHandler>\n    );\n  };\n}\n","import { identity, isFunction } from 'lodash';\nimport React from 'react';\n\n/**\n * A safe version of `useDeferredValue` that falls back to identity (A->A) if `useDeferredValue` is not supported\n * by current React version.\n */\nexport const useSafeDeferredValue: <T>(value: T) => T =\n  'useDeferredValue' in React && isFunction(React.useDeferredValue) ? React.useDeferredValue : identity;\n","import { useSelector } from 'react-redux';\nimport type { ReduxState } from '../../../../redux-types';\nimport { ModelRegistryRoutes } from '../../../../model-registry/routes';\nimport { shouldEnableGraphQLModelVersionsForRunDetails } from '../../../../common/utils/FeatureUtils';\nimport { UseGetRunQueryResponse } from './useGetRunQuery';\nimport type { LoggedModelProto } from '../../../types';\n\n/**\n * A unified model version summary that can be used to display model versions on the run page.\n */\nexport type RunPageModelVersionSummary = {\n  displayedName: string | null;\n  version: string | null;\n  link: string;\n  status: string | null;\n  source: string | null;\n  sourceLoggedModel?: LoggedModelProto;\n};\n\n/**\n * We're currently using multiple ways to get model versions on the run page,\n * we also differentiate between UC and workspace registry models.\n *\n * This hook is intended to unify the way we get model versions on the run page to be displayed in overview and register model dropdown.\n */\nexport const useUnifiedRegisteredModelVersionsSummariesForRun = ({\n  queryResult,\n  runUuid,\n}: {\n  runUuid: string;\n  queryResult?: UseGetRunQueryResponse;\n}): RunPageModelVersionSummary[] => {\n  const { registeredModels: registeredModelsFromStore } = useSelector(({ entities }: ReduxState) => ({\n    registeredModels: entities.modelVersionsByRunUuid[runUuid],\n  }));\n\n  if (shouldEnableGraphQLModelVersionsForRunDetails()) {\n    const result: RunPageModelVersionSummary[] = [];\n    if (queryResult?.data && 'modelVersions' in queryResult.data) {\n      queryResult.data?.modelVersions?.forEach((modelVersion) => {\n        result.push({\n          displayedName: modelVersion.name,\n          version: modelVersion.version,\n          link:\n            modelVersion.name && modelVersion.version\n              ? ModelRegistryRoutes.getModelVersionPageRoute(modelVersion.name, modelVersion.version)\n              : '',\n          status: modelVersion.status,\n          source: modelVersion.source,\n        });\n      });\n    }\n    return result;\n  }\n\n  if (registeredModelsFromStore) {\n    return registeredModelsFromStore.map((modelVersion) => {\n      const name = modelVersion.name;\n      const link = ModelRegistryRoutes.getModelVersionPageRoute(name, modelVersion.version);\n      return {\n        displayedName: modelVersion.name,\n        version: modelVersion.version,\n        link,\n        status: modelVersion.status,\n        source: modelVersion.source,\n      };\n    });\n  }\n\n  return [];\n};\n","import { isEmpty, keyBy } from 'lodash';\nimport { useEffect, useMemo } from 'react';\nimport { useRunDetailsPageDataLegacy } from '../useRunDetailsPageDataLegacy';\nimport {\n  type UseGetRunQueryResponseExperiment,\n  useGetRunQuery,\n  UseGetRunQueryDataApiError,\n  UseGetRunQueryResponseDataMetrics,\n  UseGetRunQueryResponseDatasetInputs,\n  type UseGetRunQueryResponseInputs,\n  type UseGetRunQueryResponseOutputs,\n  UseGetRunQueryResponseRunInfo,\n} from './useGetRunQuery';\nimport {\n  RunDatasetWithTags,\n  type ExperimentEntity,\n  type MetricEntitiesByName,\n  type MetricEntity,\n  type RunInfoEntity,\n} from '../../../types';\nimport { KeyValueEntity } from '../../../../common/types';\nimport {\n  shouldEnableGraphQLModelVersionsForRunDetails,\n  shouldEnableGraphQLRunDetailsPage,\n} from '../../../../common/utils/FeatureUtils';\nimport { ThunkDispatch } from '../../../../redux-types';\nimport { useDispatch } from 'react-redux';\nimport { searchModelVersionsApi } from '../../../../model-registry/actions';\nimport { ApolloError } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport { ErrorWrapper } from '../../../../common/utils/ErrorWrapper';\nimport { pickBy } from 'lodash';\nimport {\n  type RunPageModelVersionSummary,\n  useUnifiedRegisteredModelVersionsSummariesForRun,\n} from './useUnifiedRegisteredModelVersionsSummariesForRun';\n\n// Internal util: transforms an array of objects into a keyed object by the `key` field\nconst transformToKeyedObject = <Output, Input = any>(inputArray: Input[]) =>\n  // TODO: fix this type error\n  // @ts-expect-error: Conversion of type 'Dictionary<Input>' to type 'Record<string, Output>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  keyBy(inputArray, 'key') as Record<string, Output>;\n\n// Internal util: transforms an array of metric values into an array of MetricEntity objects\n// GraphQL uses strings for steps and timestamp so we cast them to numbers\nconst transformMetricValues = (inputArray: UseGetRunQueryResponseDataMetrics): MetricEntity[] =>\n  inputArray\n    .filter(({ key, value, step, timestamp }) => key !== null && value !== null && step !== null && timestamp !== null)\n    .map(({ key, value, step, timestamp }: any) => ({\n      key,\n      value,\n      step: Number(step),\n      timestamp: Number(timestamp),\n    }));\n\n// Internal util: transforms an array of dataset inputs into an array of RunDatasetWithTags objects\nexport const transformDatasets = (inputArray?: UseGetRunQueryResponseDatasetInputs): RunDatasetWithTags[] | undefined =>\n  inputArray?.map((datasetInput) => ({\n    dataset: {\n      digest: datasetInput.dataset?.digest ?? '',\n      name: datasetInput.dataset?.name ?? '',\n      profile: datasetInput.dataset?.profile ?? '',\n      schema: datasetInput.dataset?.schema ?? '',\n      source: datasetInput.dataset?.source ?? '',\n      sourceType: datasetInput.dataset?.sourceType ?? '',\n    },\n    tags:\n      datasetInput.tags\n        ?.map((tag) => ({\n          key: tag.key ?? '',\n          value: tag.value ?? '',\n        }))\n        .filter((tag) => !isEmpty(tag.key)) ?? [],\n  }));\n\ninterface UseRunDetailsPageDataResult {\n  experiment?: ExperimentEntity | UseGetRunQueryResponseExperiment;\n  error: Error | ErrorWrapper | undefined | ApolloError;\n\n  latestMetrics: MetricEntitiesByName;\n  loading: boolean;\n  params: Record<string, KeyValueEntity>;\n  refetchRun: any;\n  runInfo?: RunInfoEntity | UseGetRunQueryResponseRunInfo;\n  tags: Record<string, KeyValueEntity>;\n  datasets?: RunDatasetWithTags[];\n  runInputs?: UseGetRunQueryResponseInputs;\n  runOutputs?: UseGetRunQueryResponseOutputs;\n\n  // Only present in legacy implementation\n  runFetchError?: Error | ErrorWrapper | undefined;\n  experimentFetchError?: Error | ErrorWrapper | undefined;\n\n  registeredModelVersionSummaries: RunPageModelVersionSummary[];\n\n  // Only present in graphQL implementation\n  apiError?: UseGetRunQueryDataApiError;\n}\n\n/**\n * An updated version of the `useRunDetailsPageData` hook that either uses the REST API-based implementation\n * or the GraphQL-based implementation to fetch run details, based on the `shouldEnableGraphQLRunDetailsPage` flag.\n */\nexport const useRunDetailsPageData = ({\n  runUuid,\n  experimentId,\n}: {\n  runUuid: string;\n  experimentId: string;\n}): UseRunDetailsPageDataResult => {\n  const usingGraphQL = shouldEnableGraphQLRunDetailsPage();\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  // If GraphQL flag is enabled, use the graphQL query to fetch the run data.\n  // We can safely disable the eslint rule since feature flag evaluation is stable\n  /* eslint-disable react-hooks/rules-of-hooks */\n  if (usingGraphQL) {\n    const graphQLQuery = () =>\n      useGetRunQuery({\n        runUuid,\n      });\n\n    const detailsPageGraphqlResponse = graphQLQuery();\n\n    // If model versions are colocated in the GraphQL response, we don't need to make an additional API call\n    useEffect(() => {\n      if (shouldEnableGraphQLModelVersionsForRunDetails()) {\n        return;\n      }\n      dispatch(searchModelVersionsApi({ run_id: runUuid }));\n    }, [dispatch, runUuid]);\n\n    const { latestMetrics, tags, params, datasets } = useMemo(() => {\n      // Filter out tags, metrics, and params that are entirely whitespace\n      return {\n        latestMetrics: pickBy(\n          transformToKeyedObject<MetricEntity>(\n            transformMetricValues(detailsPageGraphqlResponse.data?.data?.metrics ?? []),\n          ),\n          (metric) => metric.key.trim().length > 0,\n        ),\n        tags: pickBy(\n          transformToKeyedObject<KeyValueEntity>(detailsPageGraphqlResponse.data?.data?.tags ?? []),\n          (tag) => tag.key.trim().length > 0,\n        ),\n        params: pickBy(\n          transformToKeyedObject<KeyValueEntity>(detailsPageGraphqlResponse.data?.data?.params ?? []),\n          (param) => param.key.trim().length > 0,\n        ),\n        datasets: transformDatasets(detailsPageGraphqlResponse.data?.inputs?.datasetInputs),\n      };\n    }, [detailsPageGraphqlResponse.data]);\n\n    const registeredModelVersionSummaries = useUnifiedRegisteredModelVersionsSummariesForRun({\n      runUuid,\n      queryResult: detailsPageGraphqlResponse,\n    });\n\n    return {\n      runInfo: detailsPageGraphqlResponse.data?.info ?? undefined,\n      experiment: detailsPageGraphqlResponse.data?.experiment ?? undefined,\n      loading: detailsPageGraphqlResponse.loading,\n      error: detailsPageGraphqlResponse.apolloError,\n      apiError: detailsPageGraphqlResponse.apiError,\n      refetchRun: detailsPageGraphqlResponse.refetchRun,\n      runInputs: detailsPageGraphqlResponse.data?.inputs,\n      runOutputs: detailsPageGraphqlResponse.data?.outputs,\n      registeredModelVersionSummaries,\n      datasets,\n      latestMetrics,\n      tags,\n      params,\n    };\n  }\n\n  // If GraphQL flag is disabled, use the legacy implementation to fetch the run data.\n  const detailsPageResponse = useRunDetailsPageDataLegacy(runUuid, experimentId);\n  const error = detailsPageResponse.errors.runFetchError || detailsPageResponse.errors.experimentFetchError;\n\n  const registeredModelVersionSummaries = useUnifiedRegisteredModelVersionsSummariesForRun({\n    runUuid,\n  });\n\n  return {\n    runInfo: detailsPageResponse.data?.runInfo,\n    latestMetrics: detailsPageResponse.data?.latestMetrics,\n    tags: detailsPageResponse.data?.tags,\n    experiment: detailsPageResponse.data?.experiment,\n    params: detailsPageResponse.data?.params,\n    datasets: detailsPageResponse.data?.datasets,\n    loading: detailsPageResponse.loading,\n    error,\n    runFetchError: detailsPageResponse.errors.runFetchError,\n    experimentFetchError: detailsPageResponse.errors.experimentFetchError,\n    refetchRun: detailsPageResponse.refetchRun,\n    registeredModelVersionSummaries,\n  };\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ReduxState, ThunkDispatch } from '../../../redux-types';\nimport { getExperimentApi, getRunApi } from '../../actions';\nimport { searchModelVersionsApi } from '../../../model-registry/actions';\nimport { pickBy } from 'lodash';\nimport Utils from '../../../common/utils/Utils';\n\n/**\n * Hook fetching data for the run page: both run and experiment entities.\n * The initial fetch action is omitted if entities are already in the store.\n */\nexport const useRunDetailsPageDataLegacy = (runUuid: string, experimentId: string) => {\n  const [runRequestId, setRunRequestId] = useState('');\n  const [experimentRequestId, setExperimentRequestId] = useState('');\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  // Get the necessary data from the store\n\n  const { runInfo, tags, latestMetrics, experiment, params, datasets } = useSelector((state: ReduxState) => ({\n    runInfo: state.entities.runInfosByUuid[runUuid],\n    // Filter out tags, metrics, and params that are entirely whitespace\n    tags: pickBy(state.entities.tagsByRunUuid[runUuid], (tag) => tag.key.trim().length > 0),\n    latestMetrics: pickBy(state.entities.latestMetricsByRunUuid[runUuid], (metric) => metric.key.trim().length > 0),\n    params: pickBy(state.entities.paramsByRunUuid[runUuid], (param) => param.key.trim().length > 0),\n    experiment: state.entities.experimentsById[experimentId],\n    datasets: state.entities.runDatasetsByUuid[runUuid],\n  }));\n\n  const fetchRun = useCallback(() => {\n    const action = getRunApi(runUuid);\n    setRunRequestId(action.meta.id);\n    return dispatch(action);\n  }, [dispatch, runUuid]);\n\n  const fetchExperiment = useCallback(() => {\n    const action = getExperimentApi(experimentId);\n    setExperimentRequestId(action.meta.id);\n    return dispatch(action);\n  }, [dispatch, experimentId]);\n\n  const fetchModelVersions = useCallback(() => {\n    dispatch(searchModelVersionsApi({ run_id: runUuid }));\n  }, [dispatch, runUuid]);\n\n  // Do the initial run & experiment fetch only if it's not in the store already\n  useEffect(() => {\n    if (!runInfo) {\n      fetchRun().catch((e) => Utils.logErrorAndNotifyUser(e));\n    }\n    fetchModelVersions();\n  }, [runInfo, fetchRun, fetchModelVersions]);\n\n  useEffect(() => {\n    if (!experiment) {\n      fetchExperiment().catch((e) => Utils.logErrorAndNotifyUser(e));\n    }\n  }, [experiment, fetchExperiment]);\n\n  // Check the \"apis\" store for the requests status\n  const { loading: runLoading, error: runFetchError } = useSelector((state: ReduxState) => ({\n    loading: !runRequestId || Boolean(state.apis?.[runRequestId]?.active),\n    error: state.apis?.[runRequestId]?.error,\n  }));\n\n  const { loading: experimentLoading, error: experimentFetchError } = useSelector((state: ReduxState) => ({\n    loading: !runRequestId || Boolean(state.apis?.[experimentRequestId]?.active),\n    error: state.apis?.[experimentRequestId]?.error,\n  }));\n\n  const loading = runLoading || experimentLoading;\n\n  return {\n    loading,\n    data: {\n      runInfo,\n      tags,\n      params,\n      latestMetrics,\n      experiment,\n      datasets,\n    },\n    refetchRun: fetchRun,\n    errors: { runFetchError, experimentFetchError },\n  };\n};\n","import { Button, Spinner, TableIcon, useDesignSystemTheme } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { useExperimentLoggedModelOpenDatasetDetails } from './hooks/useExperimentLoggedModelOpenDatasetDetails';\nimport { useUserActionErrorHandler } from '@databricks/web-shared/metrics';\n\nexport const ExperimentLoggedModelDatasetButton = ({\n  datasetName,\n  datasetDigest,\n  runId,\n}: {\n  datasetName: string;\n  datasetDigest: string;\n  runId: string | null;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const [loadingDatasetDetails, setLoadingDatasetDetails] = useState(false);\n  const { onDatasetClicked } = useExperimentLoggedModelOpenDatasetDetails();\n  const { handleError } = useUserActionErrorHandler();\n\n  const handleDatasetClick = (datasetName: string, datasetDigest: string, runId: string | null) => {\n    if (runId) {\n      setLoadingDatasetDetails(true);\n      onDatasetClicked?.({ datasetName, datasetDigest, runId })\n        .catch((error) => {\n          handleError(error);\n        })\n        .finally(() => setLoadingDatasetDetails(false));\n    }\n  };\n\n  return (\n    <Button\n      type=\"link\"\n      icon={loadingDatasetDetails ? <Spinner size=\"small\" css={{ marginRight: theme.spacing.sm }} /> : <TableIcon />}\n      key={[datasetName, datasetDigest].join('.')}\n      componentId=\"mlflow.logged_model.dataset\"\n      onClick={() => handleDatasetClick(datasetName, datasetDigest, runId)}\n    >\n      {datasetName} (#{datasetDigest})\n    </Button>\n  );\n};\n","import React from 'react';\n\nimport { Tooltip } from '@databricks/design-system';\nimport type { IntlShape } from 'react-intl';\nimport { useIntl } from 'react-intl';\n\n// Time intervals in seconds\nconst SECOND = 1;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst MONTH = 30 * DAY;\nconst YEAR = 365 * DAY;\n\ntype Interval = {\n  seconds: number;\n  timeAgoMessage: (count: number) => string;\n};\n\nconst getIntervals = (intl: IntlShape): Interval[] => [\n  {\n    seconds: YEAR,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 year} other {# years}} ago',\n          description: 'Time duration in years',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: MONTH,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 month} other {# months}} ago',\n          description: 'Time duration in months',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: DAY,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 day} other {# days}} ago',\n          description: 'Time duration in days',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: HOUR,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 hour} other {# hours}} ago',\n          description: 'Time duration in hours',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: MINUTE,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 minute} other {# minutes}} ago',\n          description: 'Time duration in minutes',\n        },\n        { count },\n      ),\n  },\n  {\n    seconds: SECOND,\n    timeAgoMessage: (count: number) =>\n      intl.formatMessage(\n        {\n          defaultMessage: '{count, plural, =1 {1 second} other {# seconds}} ago',\n          description: 'Time duration in seconds',\n        },\n        { count },\n      ),\n  },\n];\n\nexport interface TimeAgoProps {\n  date: Date;\n  tooltipFormatOptions?: DateTooltipOptionsType;\n}\n\ntype DateTooltipOptionsType = Intl.DateTimeFormatOptions;\n\nconst DateTooltipOptions: DateTooltipOptionsType = {\n  timeZoneName: 'short',\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n};\n\nexport const getTimeAgoStrings = ({\n  date,\n  intl,\n  tooltipFormatOptions = DateTooltipOptions,\n}: TimeAgoProps & { intl: IntlShape }): { displayText: string; tooltipTitle: string } => {\n  const now = new Date();\n  const seconds = Math.round((now.getTime() - date.getTime()) / 1000);\n\n  const locale = navigator.language || 'en-US';\n  let tooltipTitle = '';\n  try {\n    tooltipTitle = Intl.DateTimeFormat(locale, tooltipFormatOptions).format(date);\n  } catch (e) {\n    // ES-1357574 Do nothing; this is not a critical path, let's just not throw an error\n  }\n\n  for (const interval of getIntervals(intl)) {\n    const count = Math.floor(seconds / interval.seconds);\n    if (count >= 1) {\n      return { displayText: interval.timeAgoMessage(count), tooltipTitle };\n    }\n  }\n\n  return {\n    displayText: intl.formatMessage({\n      defaultMessage: 'just now',\n      description: 'Indicates a time duration that just passed',\n    }),\n    tooltipTitle,\n  };\n};\n\nexport const TimeAgo: React.FC<TimeAgoProps> = ({ date, tooltipFormatOptions = DateTooltipOptions }) => {\n  const intl = useIntl();\n  const { displayText, tooltipTitle } = getTimeAgoStrings({ date, intl, tooltipFormatOptions });\n  return (\n    <Tooltip componentId=\"web-shared.time-ago\" content={tooltipTitle}>\n      <span>{displayText}</span>\n    </Tooltip>\n  );\n};\n","import React from 'react';\n\nimport { TimeAgo } from '@databricks/web-shared/browse';\n\nexport const ExperimentLoggedModelTableDateCell = ({ value }: { value?: string | number | null }) => {\n  const date = new Date(Number(value));\n\n  if (isNaN(date as any)) {\n    return null;\n  }\n\n  return <TimeAgo date={date} />;\n};\n"],"names":["DatasetRunNotFoundError","PredefinedError","constructor","args","errorLogType","ErrorLogType","UnexpectedSystemStateError","errorName","ErrorName","isUserError","displayMessage","_jsx","FormattedMessage","id","defaultMessage","ExperimentLoggedModelOpenDatasetDetailsContext","createContext","onDatasetClicked","Promise","resolve","ExperimentLoggedModelOpenDatasetDetailsContextProvider","children","isDrawerOpen","setIsDrawerOpen","useState","selectedDatasetWithRun","setSelectedDatasetWithRun","getRunInfo","useLazyGetRunQuery","rejectCurrentPromiseFn","useRef","useCallback","async","reject","_rejectCurrentPromise","current","call","onError","onCompleted","data","_data$mlflowGetRun","_data$mlflowGetRun2","_data$mlflowGetRun2$r","_data$mlflowGetRun2$r2","_data$mlflowGetRun3","_data$mlflowGetRun3$r","_runData$tags$filter","_runData$tags","_info$runUuid","_info$experimentId","_info$runName","mlflowGetRun","apiError","error","code","ErrorCodes","RESOURCE_DOES_NOT_EXIST","datasets","transformGraphQLResponseDatasets","run","inputs","datasetInputs","info","matchingDataset","find","datasetInput","_datasetInput$dataset","dataset","digest","params","datasetDigest","name","datasetName","runData","tagsDictionary","keyBy","tags","filter","tag","key","value","datasetWithTags","runUuid","experimentId","runName","variables","runId","contextValue","useMemo","_jsxs","Provider","ExperimentViewDatasetDrawer","isOpen","setIsOpen","useExperimentLoggedModelOpenDatasetDetails","useContext","LoggedModelStatusIcon","status","LoggedModelStatusProtoEnum","LOGGED_MODEL_READY","CheckCircleIcon","color","LOGGED_MODEL_UPLOAD_FAILED","XCircleIcon","LOGGED_MODEL_PENDING","ClockIcon","ExperimentLoggedModelStatusIndicator","_data$info$status","_data$info","theme","useDesignSystemTheme","LOGGED_MODEL_STATUS_UNSPECIFIED","Tag","componentId","css","_css","backgroundColor","isDarkMode","colors","green800","green100","red800","red100","yellow800","yellow100","Typography","Text","marginLeft","spacing","sm","_ref","styles","_ref2","ExperimentLoggedModelSourceBox","loggedModel","displayDetails","className","_loggedModel$info2","_tagsByKey$MLFLOW_RUN","_tagsByKey$Utils$gitC","_tagsByKey$Utils$sour","searchParams","useSearchParams","tagsByKey","_loggedModel$info$tag","_loggedModel$info","_loggedModel$info$tag2","reduce","acc","branchName","MLFLOW_RUN_GIT_SOURCE_BRANCH_TAG","commitHash","Utils","gitCommitTag","runSource","renderSource","toString","undefined","e","sourceTypeValue","sourceTypeTag","display","alignItems","gap","paddingTop","paddingBottom","flexWrap","ExperimentSourceTypeIcon","sourceType","actionPrimaryBackgroundDefault","Tooltip","content","xs","whiteSpace","BranchIcon","Popover","Root","Trigger","asChild","alignContent","GitCommitIcon","slice","Content","align","Arrow","CopyButton","showLabel","size","type","copyText","icon","CopyIcon","Hint","GET_RUN_QUERY","gql","useGetRunQuery","disabled","loading","apolloError","refetch","useQuery","skip","refetchRun","useLazyQuery","UserActionErrorHandlerContext","currentUserActionError","handleError","handlePromise","clearUserActionError","UserActionErrorHandler","errorFilter","setCurrentUserActionError","onErrorCallback","predefinedError","matchPredefinedError","promise","catch","useUserActionErrorHandler","handleErrorWithEventImpl","event","handleErrorWithEvent","useSafeDeferredValue","isFunction","React","identity","useUnifiedRegisteredModelVersionsSummariesForRun","queryResult","registeredModels","registeredModelsFromStore","useSelector","entities","modelVersionsByRunUuid","shouldEnableGraphQLModelVersionsForRunDetails","result","_queryResult$data","_queryResult$data$mod","modelVersions","forEach","modelVersion","push","displayedName","version","link","ModelRegistryRoutes","getModelVersionPageRoute","source","map","transformToKeyedObject","inputArray","transformDatasets","_datasetInput$dataset2","_datasetInput$dataset3","_datasetInput$dataset4","_datasetInput$dataset5","_datasetInput$dataset6","_datasetInput$dataset7","_datasetInput$dataset8","_datasetInput$dataset9","_datasetInput$dataset0","_datasetInput$dataset1","_datasetInput$dataset10","_datasetInput$tags$ma","_datasetInput$tags","profile","schema","_tag$key","_tag$value","isEmpty","useRunDetailsPageData","_detailsPageResponse$","_detailsPageResponse$2","_detailsPageResponse$3","_detailsPageResponse$4","_detailsPageResponse$5","_detailsPageResponse$6","usingGraphQL","shouldEnableGraphQLRunDetailsPage","dispatch","useDispatch","_detailsPageGraphqlRe10","_detailsPageGraphqlRe11","_detailsPageGraphqlRe12","_detailsPageGraphqlRe13","_detailsPageGraphqlRe14","_detailsPageGraphqlRe15","detailsPageGraphqlResponse","graphQLQuery","useEffect","searchModelVersionsApi","run_id","latestMetrics","_detailsPageGraphqlRe","_detailsPageGraphqlRe2","_detailsPageGraphqlRe3","_detailsPageGraphqlRe4","_detailsPageGraphqlRe5","_detailsPageGraphqlRe6","_detailsPageGraphqlRe7","_detailsPageGraphqlRe8","_detailsPageGraphqlRe9","_detailsPageGraphqlRe0","_detailsPageGraphqlRe1","pickBy","metrics","step","timestamp","Number","metric","trim","length","param","registeredModelVersionSummaries","runInfo","experiment","runInputs","runOutputs","outputs","detailsPageResponse","useRunDetailsPageDataLegacy","runRequestId","setRunRequestId","experimentRequestId","setExperimentRequestId","state","runInfosByUuid","tagsByRunUuid","latestMetricsByRunUuid","paramsByRunUuid","experimentsById","runDatasetsByUuid","fetchRun","action","getRunApi","meta","fetchExperiment","getExperimentApi","fetchModelVersions","logErrorAndNotifyUser","runLoading","runFetchError","_state$apis","_state$apis$runReques","_state$apis2","_state$apis2$runReque","Boolean","apis","active","experimentLoading","experimentFetchError","_state$apis3","_state$apis3$experime","_state$apis4","_state$apis4$experime","errors","ExperimentLoggedModelDatasetButton","loadingDatasetDetails","setLoadingDatasetDetails","Button","Spinner","marginRight","TableIcon","onClick","handleDatasetClick","finally","join","DAY","DateTooltipOptions","timeZoneName","year","month","day","hour","minute","getTimeAgoStrings","date","intl","tooltipFormatOptions","now","Date","seconds","Math","round","getTime","locale","navigator","language","tooltipTitle","Intl","DateTimeFormat","format","interval","timeAgoMessage","count","formatMessage","getIntervals","floor","displayText","TimeAgo","useIntl","ExperimentLoggedModelTableDateCell","isNaN"],"ignoreList":[],"sourceRoot":""}