"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6335],{37762:function(t,e,r){var n=r(62258),a=r(83491),i=r(35722),o=r(62282),l=r(47401),s=l.strTranslate,c=r(43995),u=r(50075),f=r(31454),d=r(41707),h=r(33333),g=r(60551),p=r(9405),v=p.ONEMAXYEAR,_=p.ONEAVGYEAR,m=p.ONEMINYEAR,x=p.ONEMAXQUARTER,y=p.ONEAVGQUARTER,k=p.ONEMINQUARTER,b=p.ONEMAXMONTH,M=p.ONEAVGMONTH,w=p.ONEMINMONTH,A=p.ONEWEEK,L=p.ONEDAY,T=L/2,S=p.ONEHOUR,D=p.ONEMIN,O=p.ONESEC,F=p.MINUS_SIGN,I=p.BADNUM,N={K:"zeroline"},E={K:"gridline",L:"path"},C={K:"tick",L:"path"},z={K:"tick",L:"text"},R=r(60482),P=R.MID_SHIFT,G=R.CAP_SHIFT,B=R.LINE_SPACING,H=R.OPPOSITE_SIDE,Z=t.exports={};Z.setConvert=r(58947);var W=r(60210),j=r(77063),X=j.idSort,K=j.isLinked;Z.id2name=j.id2name,Z.name2id=j.name2id,Z.cleanId=j.cleanId,Z.list=j.list,Z.listIds=j.listIds,Z.getFromId=j.getFromId,Z.getFromTrace=j.getFromTrace;var U=r(9319);Z.getAutoRange=U.getAutoRange,Z.findExtremes=U.findExtremes;var Y=1e-4;function V(t){var e=(t[1]-t[0])*Y;return[t[0]-e,t[1]+e]}Z.coerceRef=function(t,e,r,n,a,i){var o=n.charAt(n.length-1),s=r._fullLayout._subplots[o+"axis"],c=n+"ref",u={};return a||(a=s[0]||("string"===typeof i?i:i[0])),i||(i=a),s=s.concat(s.map((function(t){return t+" domain"}))),u[c]={valType:"enumerated",values:s.concat(i?"string"===typeof i?[i]:i:[]),dflt:a},l.coerce(t,e,u,c)},Z.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},Z.coercePosition=function(t,e,r,n,a,i){var o,s;if("range"!==Z.getRefType(n))o=l.ensureNumber,s=r(a,i);else{var c=Z.getFromId(e,n);s=r(a,i=c.fraction2r(i)),o=c.cleanPos}t[a]=o(s)},Z.cleanPosition=function(t,e,r){return("paper"===r||"pixel"===r?l.ensureNumber:Z.getFromId(e,r).cleanPos)(t)},Z.redrawComponents=function(t,e){e=e||Z.listIds(t);var r=t._fullLayout;function n(n,a,i,l){for(var s=o.getComponentMethod(n,a),c={},u=0;u<e.length;u++)for(var f=r[Z.id2name(e[u])][i],d=0;d<f.length;d++){var h=f[d];if(!c[h]&&(s(t,h),c[h]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0)};var $=Z.getDataConversions=function(t,e,r,n){var a,i="x"===r||"y"===r||"z"===r?r:n;if(Array.isArray(i)){if(a={type:W(n,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(a),"category"===a.type)for(var o=0;o<n.length;o++)a.d2c(n[o])}else a=Z.getFromTrace(t,e,i);return a?{d2c:a.d2c,c2d:a.c2d}:"ids"===i?{d2c:q,c2d:q}:{d2c:Q,c2d:Q}};function Q(t){return+t}function q(t){return String(t)}function J(t){return+t.substring(1)}Z.getDataToCoordFunc=function(t,e,r,n){return $(t,e,r,n).d2c},Z.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},Z.minDtick=function(t,e,r,n){-1===["log","category","multicategory"].indexOf(t.type)&&n?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},Z.saveRangeInitial=function(t,e){for(var r=Z.list(t,"",!0),n=!1,a=0;a<r.length;a++){var i=r[a],o=void 0===i._rangeInitial,l=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(o&&!1===i.autorange||e&&l)&&(i._rangeInitial=i.range.slice(),n=!0)}return n},Z.saveShowSpikeInitial=function(t,e){for(var r=Z.list(t,"",!0),n=!1,a="on",i=0;i<r.length;i++){var o=r[i],l=void 0===o._showSpikeInitial,s=l||!(o.showspikes===o._showspikes);(l||e&&s)&&(o._showSpikeInitial=o.showspikes,n=!0),"on"!==a||o.showspikes||(a="off")}return t._fullLayout._cartesianSpikesEnabled=a,n},Z.autoBin=function(t,e,r,n,i,o){var s,c=l.aggNums(Math.min,null,t),u=l.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:c-.5,end:u+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:u-c};if(i||(i=e.calendar),s="log"===e.type?{type:"linear",range:[c,u]}:{type:e.type,range:l.simpleMap([c,u],e.c2r,0,i),calendar:i},Z.setConvert(s),o=o&&g.dtick(o,s.type))s.dtick=o,s.tick0=g.tick0(void 0,s.type,i);else{var f;if(r)f=(u-c)/r;else{var d=l.distinctVals(t),h=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),p=h*l.roundUp(d.minDiff/h,[.9,1.9,4.9,9.9],!0);f=Math.max(p,2*l.stdev(t)/Math.pow(t.length,n?.25:.4)),a(f)||(f=1)}Z.autoTicks(s,f)}var v,_=s.dtick,m=Z.tickIncrement(Z.tickFirst(s),_,"reverse",i);if("number"===typeof _)m=function(t,e,r,n,i){var o=0,l=0,s=0,c=0;function u(e){return(1+100*(e-t)/r.dtick)%100<2}for(var f=0;f<e.length;f++)e[f]%1===0?s++:a(e[f])||c++,u(e[f])&&o++,u(e[f]+r.dtick/2)&&l++;var d=e.length-c;if(s===d&&"date"!==r.type)r.dtick<1?t=n-.5*r.dtick:(t-=.5)+r.dtick<n&&(t+=r.dtick);else if(l<.1*d&&(o>.3*d||u(n)||u(i))){var h=r.dtick/2;t+=t+h<n?h:-h}return t}(m,t,s,c,u),v=m+(1+Math.floor((u-m)/_))*_;else for("M"===s.dtick.charAt(0)&&(m=function(t,e,r,n,a){var i=l.findExactDates(e,a),o=.8;if(i.exactDays>o){var s=Number(r.substr(1));i.exactYears>o&&s%12===0?t=Z.tickIncrement(t,"M6","reverse")+1.5*L:i.exactMonths>o?t=Z.tickIncrement(t,"M1","reverse")+15.5*L:t-=T;var c=Z.tickIncrement(t,r);if(c<=n)return c}return t}(m,t,_,c,i)),v=m,0;v<=u;)v=Z.tickIncrement(v,_,!1,i);return{start:e.c2r(m,0,i),end:e.c2r(v,0,i),size:_,_dataSpan:u-c}},Z.prepTicks=function(t,e){var r=l.simpleMap(t.range,t.r2l,void 0,void 0,e);if(t._dtickInit=t.dtick,t._tick0Init=t.tick0,"auto"===t.tickmode||!t.dtick){var n,i=t.nticks;i||("category"===t.type||"multicategory"===t.type?(n=t.tickfont?l.bigFont(t.tickfont.size||12):15,i=t._length/n):(n="y"===t._id.charAt(0)?40:80,i=l.constrain(t._length/n,4,9)+1),"radialaxis"===t._name&&(i*=2)),"array"===t.tickmode&&(i*=100),t._roughDTick=Math.abs(r[1]-r[0])/i,Z.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function r(){return!(a(t.dtick)||"M"!==t.dtick.charAt(0))}var n=r(),i=Z.getTickFormat(t);if(i){var o=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(i)||(/%[HI]/.test(i)?(e=S,o&&!n&&t.dtick<S&&(t.dtick=S)):/%p/.test(i)?(e=T,o&&!n&&t.dtick<T&&(t.dtick=T)):/%[Aadejuwx]/.test(i)?(e=L,o&&!n&&t.dtick<L&&(t.dtick=L)):/%[UVW]/.test(i)?(e=A,o&&!n&&t.dtick<A&&(t.dtick=A)):/%[Bbm]/.test(i)?(e=M,o&&(n?J(t.dtick)<1:t.dtick<w)&&(t.dtick="M1")):/%[q]/.test(i)?(e=y,o&&(n?J(t.dtick)<3:t.dtick<k)&&(t.dtick="M3")):/%[Yy]/.test(i)&&(e=_,o&&(n?J(t.dtick)<12:t.dtick<m)&&(t.dtick="M12")))}(n=r())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0);t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),st(t)},Z.calcTicks=function(t,e){Z.prepTicks(t,e);var r=l.simpleMap(t.range,t.r2l,void 0,void 0,e);if("array"===t.tickmode)return function(t){var e=t.tickvals,r=t.ticktext,n=new Array(e.length),a=l.simpleMap(t.range,t.r2l),i=V(a),o=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]),c=0;Array.isArray(r)||(r=[]);var u="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var f=0;f<e.length;f++){var d=u(e[f]);d>o&&d<s&&(void 0===r[f]?n[c]=Z.tickText(t,d):n[c]=ct(t,d,String(r[f])),c++)}c<e.length&&n.splice(c,e.length-c);t.rangebreaks&&(n=n.filter((function(e){return t.maskBreaks(e.x)!==I})));return n}(t);var n=V(r),i=n[0],o=n[1],s=r[1]<r[0],c=Math.min(r[0],r[1]),u=Math.max(r[0],r[1]),f="log"===t.type&&!(a(t.dtick)||"L"===t.dtick.charAt(0)),d="period"===t.ticklabelmode;if(t._tmin=Z.tickFirst(t,e),t._tmin<i!==s)return[];"category"!==t.type&&"multicategory"!==t.type||(o=s?Math.max(-.5,o):Math.min(t._categories.length-.5,o));var h=t._tmin;t.rangebreaks&&t._tick0Init!==t.tick0&&(h=Tt(h,t),s||(h=Z.tickIncrement(h,t.dtick,!s,t.calendar))),d&&(h=Z.tickIncrement(h,t.dtick,!s,t.calendar));for(var g,p=Math.max(1e3,t._length||0),D=[],O=null;s?h>=o:h<=o;h=Z.tickIncrement(h,t.dtick,s,t.calendar)){if(t.rangebreaks&&!s){if(h<i)continue;if(t.maskBreaks(h)===I&&Tt(h,t)>=u)break}if(D.length>p||h===O)break;O=h;var F=!1;f&&h!==(0|h)&&(F=!0),D.push({minor:F,value:h})}if(d&&function(t,e,r){for(var n=0;n<t.length;n++){var a=t[n].value,i=n,o=n+1;n<t.length-1?(i=n,o=n+1):n>0?(i=n-1,o=n):(i=n,o=n);var l,s=t[i].value,c=t[o].value,u=Math.abs(c-s),f=r||u,d=0;f>=m?d=u>=m&&u<=v?u:_:r===y&&f>=k?d=u>=k&&u<=x?u:y:f>=w?d=u>=w&&u<=b?u:M:r===A&&f>=A?d=A:f>=L?d=L:r===T&&f>=T?d=T:r===S&&f>=S&&(d=S),d>=u&&(d=u,l=!0);var h=a+d;if(e.rangebreaks&&d>0){for(var g=0,p=0;p<84;p++){var D=(p+.5)/84;e.maskBreaks(a*(1-D)+D*h)!==I&&g++}(d*=g/84)||(t[n].drop=!0),l&&u>A&&(d=u)}(d>0||0===n)&&(t[n].periodX=a+d/2)}}(D,t,t._definedDelta),t.rangebreaks){var N="y"===t._id.charAt(0),E=1;"auto"===t.tickmode&&(E=t.tickfont?t.tickfont.size:12);var C=NaN;for(g=D.length-1;g>-1;g--)if(D[g].drop)D.splice(g,1);else{D[g].value=Tt(D[g].value,t);var z=t.c2p(D[g].value);(N?C>z-E:C<z+E)?D.splice(s?g+1:g,1):C=z}}Lt(t)&&360===Math.abs(r[1]-r[0])&&D.pop(),t._tmax=(D[D.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var R,P,G=[];for(g=0;g<D.length;g++){var B=D[g].minor,H=D[g].value;R=Z.tickText(t,H,!1,B),void 0!==(P=D[g].periodX)&&(R.periodX=P,(P>u||P<c)&&(P>u&&(R.periodX=u),P<c&&(R.periodX=c),R.text=" ",t._prevDateHead="")),G.push(R)}return t._inCalcTicks=!1,G};var tt=[2,5,10],et=[1,2,3,6,12],rt=[1,2,5,10,15,30],nt=[1,2,3,7,14],at=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],it=[-.301,0,.301,.699,1],ot=[15,30,45,90,180];function lt(t,e,r){return e*l.roundUp(t/e,r)}function st(t){var e=t.dtick;if(t._tickexponent=0,a(e)||"string"===typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),i=n.length;if("M"===String(e).charAt(0))i>10||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12===0?"y":"m";else if(e>=L&&i<=10||e>=15*L)t._tickround="d";else if(e>=D&&i<=16||e>=S)t._tickround="M";else if(e>=O&&i<=19||e>=D)t._tickround="S";else{var o=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(i,o)-20,t._tickround<0&&(t._tickround=4)}}else if(a(e)||"L"===e.charAt(0)){var l=t.range.map(t.r2d||Number);a(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(l[0]),Math.abs(l[1])),c=Math.floor(Math.log(s)/Math.LN10+.01),u=void 0===t.minexponent?3:t.minexponent;Math.abs(c)>u&&(ft(t.exponentformat)&&!dt(c)?t._tickexponent=3*Math.round((c-1)/3):t._tickexponent=c)}else t._tickround=null}function ct(t,e,r){var n=t.tickfont||{};return{x:e,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontColor:n.color}}Z.autoTicks=function(t,e){var r;function n(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=l.dateTick0(t.calendar,0);var i=2*e;if(i>_)e/=_,r=n(10),t.dtick="M"+12*lt(e,r,tt);else if(i>M)e/=M,t.dtick="M"+lt(e,1,et);else if(i>L){t.dtick=lt(e,L,t._hasDayOfWeekBreaks?[1,2,7,14]:nt);var o=Z.getTickFormat(t),s="period"===t.ticklabelmode;s&&(t._rawTick0=t.tick0),/%[uVW]/.test(o)?t.tick0=l.dateTick0(t.calendar,2):t.tick0=l.dateTick0(t.calendar,1),s&&(t._dowTick0=t.tick0)}else i>S?t.dtick=lt(e,S,et):i>D?t.dtick=lt(e,D,rt):i>O?t.dtick=lt(e,O,rt):(r=n(10),t.dtick=lt(e,r,tt))}else if("log"===t.type){t.tick0=0;var c=l.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(c[1]-c[0])<1){var u=1.5*Math.abs((c[1]-c[0])/e);e=Math.abs(Math.pow(10,c[1])-Math.pow(10,c[0]))/u,r=n(10),t.dtick="L"+lt(e,r,tt)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):Lt(t)?(t.tick0=0,r=1,t.dtick=lt(e,r,ot)):(t.tick0=0,r=n(10),t.dtick=lt(e,r,tt));if(0===t.dtick&&(t.dtick=1),!a(t.dtick)&&"string"!==typeof t.dtick){var f=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(f)}},Z.tickIncrement=function(t,e,r,i){var o=r?-1:1;if(a(e))return l.increment(t,o*e);var s=e.charAt(0),c=o*Number(e.substr(1));if("M"===s)return l.incrementMonth(t,c,i);if("L"===s)return Math.log(Math.pow(10,t)+c)/Math.LN10;if("D"===s){var u="D2"===e?it:at,f=t+.01*o,d=l.roundUp(l.mod(f,1),u,r);return Math.floor(f)+Math.log(n.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(e)},Z.tickFirst=function(t,e){var r=t.r2l||Number,i=l.simpleMap(t.range,r,void 0,void 0,e),o=i[1]<i[0],s=o?Math.floor:Math.ceil,c=V(i)[0],u=t.dtick,f=r(t.tick0);if(a(u)){var d=s((c-f)/u)*u+f;return"category"!==t.type&&"multicategory"!==t.type||(d=l.constrain(d,0,t._categories.length-1)),d}var h=u.charAt(0),g=Number(u.substr(1));if("M"===h){for(var p,v,_,m=0,x=f;m<10;){if(((p=Z.tickIncrement(x,u,o,t.calendar))-c)*(x-c)<=0)return o?Math.min(x,p):Math.max(x,p);v=(c-(x+p)/2)/(p-x),_=h+(Math.abs(Math.round(v))||1)*g,x=Z.tickIncrement(x,_,v<0?!o:o,t.calendar),m++}return l.error("tickFirst did not converge",t),x}if("L"===h)return Math.log(s((Math.pow(10,c)-f)/g)*g+f)/Math.LN10;if("D"===h){var y="D2"===u?it:at,k=l.roundUp(l.mod(c,1),y,o);return Math.floor(c)+Math.log(n.round(Math.pow(10,k),1))/Math.LN10}throw"unrecognized dtick "+String(u)},Z.tickText=function(t,e,r,n){var i,o=ct(t,e),s="array"===t.tickmode,c=r||s,u=t.type,f="category"===u?t.d2l_noadd:t.d2l;if(s&&Array.isArray(t.ticktext)){var d=l.simpleMap(t.range,t.r2l),h=(Math.abs(d[1]-d[0])-(t._lBreaks||0))/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-f(t.tickvals[i]))<h);i++);if(i<t.ticktext.length)return o.text=String(t.ticktext[i]),o}function g(n){if(void 0===n)return!0;if(r)return"none"===n;var a={first:t._tmin,last:t._tmax}[n];return"all"!==n&&e!==a}var p=r?"never":"none"!==t.exponentformat&&g(t.showexponent)?"hide":"";if("date"===u?function(t,e,r,n){var i=t._tickround,o=r&&t.hoverformat||Z.getTickFormat(t);n&&(i=a(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var s,c=l.formatDate(e.x,o,i,t._dateFormat,t.calendar,t._extraFormat),u=c.indexOf("\n");-1!==u&&(s=c.substr(u+1),c=c.substr(0,u));n&&("00:00:00"===c||"00:00"===c?(c=s,s=""):8===c.length&&(c=c.replace(/:00$/,"")));if(s)if(r)"d"===i?c+=", "+s:c=s+(c?", "+c:"");else if(t._inCalcTicks&&t._prevDateHead===s){var f=St(t),d=t._realSide||t.side;(!f&&"top"===d||f&&"bottom"===d)&&(c+="<br> ")}else t._prevDateHead=s,c+="<br>"+s;e.text=c}(t,o,r,c):"log"===u?function(t,e,r,n,i){var o=t.dtick,s=e.x,c=t.tickformat,u="string"===typeof o&&o.charAt(0);"never"===i&&(i="");n&&"L"!==u&&(o="L3",u="L");if(c||"L"===u)e.text=ht(Math.pow(10,s),t,i,n);else if(a(o)||"D"===u&&l.mod(s+.01,1)<.1){var f=Math.round(s),d=Math.abs(f),h=t.exponentformat;"power"===h||ft(h)&&dt(f)?(e.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":F)+d+"</sup>",e.fontSize*=1.25):("e"===h||"E"===h)&&d>2?e.text="1"+h+(f>0?"+":F)+d:(e.text=ht(Math.pow(10,s),t,"","fakehover"),"D1"===o&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==u)throw"unrecognized dtick "+String(o);e.text=String(Math.round(Math.pow(10,l.mod(s,1)))),e.fontSize*=.75}if("D1"===t.dtick){var g=String(e.text).charAt(0);"0"!==g&&"1"!==g||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(s<0?.5:.25)))}}(t,o,0,c,p):"category"===u?function(t,e){var r=t._categories[Math.round(e.x)];void 0===r&&(r="");e.text=String(r)}(t,o):"multicategory"===u?function(t,e,r){var n=Math.round(e.x),a=t._categories[n]||[],i=void 0===a[1]?"":String(a[1]),o=void 0===a[0]?"":String(a[0]);r?e.text=o+" - "+i:(e.text=i,e.text2=o)}(t,o,r):Lt(t)?function(t,e,r,n,a){if("radians"!==t.thetaunit||r)e.text=ht(e.x,t,a,n);else{var i=e.x/180;if(0===i)e.text="0";else{var o=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}function r(t,n){return e(n,0)?t:r(n,t%n)}function n(t){for(var r=1;!e(Math.round(t*r)/r,t);)r*=10;return r}var a=n(t),i=t*a,o=Math.abs(r(i,a));return[Math.round(i/o),Math.round(a/o)]}(i);if(o[1]>=100)e.text=ht(l.deg2rad(e.x),t,a,n);else{var s=e.x<0;1===o[1]?1===o[0]?e.text="\u03c0":e.text=o[0]+"\u03c0":e.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03c0"].join(""),s&&(e.text=F+e.text)}}}}(t,o,r,c,p):function(t,e,r,n,a){"never"===a?a="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(a="hide");e.text=ht(e.x,t,a,n)}(t,o,0,c,p),n||(t.tickprefix&&!g(t.showtickprefix)&&(o.text=t.tickprefix+o.text),t.ticksuffix&&!g(t.showticksuffix)&&(o.text+=t.ticksuffix)),"boundaries"===t.tickson||t.showdividers){var v=function(e){var r=t.l2p(e);return r>=0&&r<=t._length?e:null};o.xbnd=[v(o.x-.5),v(o.x+t.dtick-.5)]}return o},Z.hoverLabelText=function(t,e,r){r&&(t=l.extendFlat({},t,{hoverformat:r}));var n=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:void 0;if(void 0!==a&&a!==n)return Z.hoverLabelText(t,n,r)+" - "+Z.hoverLabelText(t,a,r);var i="log"===t.type&&n<=0,o=Z.tickText(t,t.c2l(i?-n:n),"hover").text;return i?0===n?"0":F+o:o};var ut=["f","p","n","\u03bc","m","","k","M","G","T"];function ft(t){return"SI"===t||"B"===t}function dt(t){return t>14||t<-15}function ht(t,e,r,n){var i=t<0,o=e._tickround,s=r||e.exponentformat||"B",c=e._tickexponent,u=Z.getTickFormat(e),f=e.separatethousands;if(n){var d={exponentformat:s,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:a(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};st(d),o=(Number(d._tickround)||0)+4,c=d._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return e._numFormat(u)(t).replace(/-/g,F);var h,g=Math.pow(10,-o)/2;if("none"===s&&(c=0),(t=Math.abs(t))<g)t="0",i=!1;else{if(t+=g,c&&(t*=Math.pow(10,-c),o+=c),0===o)t=String(Math.floor(t));else if(o<0){t=(t=String(Math.round(t))).substr(0,t.length+o);for(var p=o;p<0;p++)t+="0"}else{var v=(t=String(t)).indexOf(".")+1;v&&(t=t.substr(0,v+o).replace(/\.?0+$/,""))}t=l.numSeparate(t,e._separators,f)}c&&"hide"!==s&&(ft(s)&&dt(c)&&(s="power"),h=c<0?F+-c:"power"!==s?"+"+c:String(c),"e"===s||"E"===s?t+=s+h:"power"===s?t+="\xd710<sup>"+h+"</sup>":"B"===s&&9===c?t+="B":ft(s)&&(t+=ut[c/3+5]));return i?F+t:t}function gt(t,e){for(var r=[],n={},a=0;a<e.length;a++){var i=e[a];n[i.text2]?n[i.text2].push(i.x):n[i.text2]=[i.x]}for(var o in n)r.push(ct(t,l.interp(n[o],.5),o));return r}function pt(t){return void 0!==t.periodX?t.periodX:t.x}function vt(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function _t(t){var e=t.title.font.size,r=(t.title.text.match(c.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?r?e*(G+r*B):e*G:r?e*(r+1)*B:e}function mt(t,e){var r=t.l2p(e);return r>1&&r<t._length-1}function xt(t){var e=n.select(t),r=e.select(".text-math-group");return r.empty()?e.select("text"):r}function yt(t){return t._id+".automargin"}function kt(t){return yt(t)+".mirror"}function bt(t){return t._id+".rangeslider"}function Mt(t,e){for(var r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r])}function wt(t,e,r){var n,a,i=[],o=[],s=t.layout;for(n=0;n<e.length;n++)i.push(Z.getFromId(t,e[n]));for(n=0;n<r.length;n++)o.push(Z.getFromId(t,r[n]));var c=Object.keys(h),u=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(n=0;n<c.length;n++){var d=c[n],g=i[0][d],p=o[0][d],v=!0,_=!1,m=!1;if("_"!==d.charAt(0)&&"function"!==typeof g&&-1===u.indexOf(d)){for(a=1;a<i.length&&v;a++){var x=i[a][d];"type"===d&&-1!==f.indexOf(g)&&-1!==f.indexOf(x)&&g!==x?_=!0:x!==g&&(v=!1)}for(a=1;a<o.length&&v;a++){var y=o[a][d];"type"===d&&-1!==f.indexOf(p)&&-1!==f.indexOf(y)&&p!==y?m=!0:o[a][d]!==p&&(v=!1)}v&&(_&&(s[i[0]._name].type="linear"),m&&(s[o[0]._name].type="linear"),At(s,d,i,o,t._fullLayout._dfltTitle))}}for(n=0;n<t._fullLayout.annotations.length;n++){var k=t._fullLayout.annotations[n];-1!==e.indexOf(k.xref)&&-1!==r.indexOf(k.yref)&&l.swapAttrs(s.annotations[n],["?"])}}function At(t,e,r,n,a){var i,o=l.nestedProperty,s=o(t[r[0]._name],e).get(),c=o(t[n[0]._name],e).get();for("title"===e&&(s&&s.text===a.x&&(s.text=a.y),c&&c.text===a.y&&(c.text=a.x)),i=0;i<r.length;i++)o(t,r[i]._name+"."+e).set(c);for(i=0;i<n.length;i++)o(t,n[i]._name+"."+e).set(s)}function Lt(t){return"angularaxis"===t._id}function Tt(t,e){for(var r=e._rangebreaks.length,n=0;n<r;n++){var a=e._rangebreaks[n];if(t>=a.min&&t<a.max)return a.max}return t}function St(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function Dt(t,e){St(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}Z.getTickFormat=function(t){var e,r,n;function a(t){return"string"!==typeof t?t:Number(t.replace("M",""))*M}function i(t,e){var r=["L","D"];if(typeof t===typeof e){if("number"===typeof t)return t-e;var n=r.indexOf(t.charAt(0)),a=r.indexOf(e.charAt(0));return n===a?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):n-a}return"number"===typeof t?1:-1}function o(t,e,r){var n=r||function(t){return t},a=e[0],i=e[1];return(!a&&"number"!==typeof a||n(a)<=n(t))&&(!i&&"number"!==typeof i||n(i)>=n(t))}function l(t,e){var r=null===e[0],n=null===e[1],a=i(t,e[0])>=0,o=i(t,e[1])<=0;return(r||a)&&(n||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((n=t.tickformatstops[e]).enabled&&o(t.dtick,n.dtickrange,a)){r=n;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((n=t.tickformatstops[e]).enabled&&l(t.dtick,n.dtickrange)){r=n;break}}return r?r.value:t.tickformat},Z.getSubplots=function(t,e){var r=t._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),a=e?Z.findSubplotsWithAxis(n,e):n;return a.sort((function(t,e){var r=t.substr(1).split("y"),n=e.substr(1).split("y");return r[0]===n[0]?+r[1]-+n[1]:+r[0]-+n[0]})),a},Z.findSubplotsWithAxis=function(t,e){for(var r=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),n=[],a=0;a<t.length;a++){var i=t[a];r.test(i)&&n.push(i)}return n},Z.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var r,a,i={_offset:0,_length:e.width,_id:""},o={_offset:0,_length:e.height,_id:""},l=Z.list(t,"x",!0),s=Z.list(t,"y",!0),c=[];for(r=0;r<l.length;r++)for(c.push({x:l[r],y:o}),a=0;a<s.length;a++)0===r&&c.push({x:i,y:s[a]}),c.push({x:l[r],y:s[a]});var u=e._clips.selectAll(".axesclip").data(c,(function(t){return t.x._id+t.y._id}));u.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),u.exit().remove(),u.each((function(t){n.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},Z.draw=function(t,e,r){var n=t._fullLayout;"redraw"===e&&n._paper.selectAll("g.subplot").each((function(t){var e=t[0],r=n._plots[e];if(r){var a=r.xaxis,i=r.yaxis;r.xaxislayer.selectAll("."+a._id+"tick").remove(),r.yaxislayer.selectAll("."+i._id+"tick").remove(),r.xaxislayer.selectAll("."+a._id+"tick2").remove(),r.yaxislayer.selectAll("."+i._id+"tick2").remove(),r.xaxislayer.selectAll("."+a._id+"divider").remove(),r.yaxislayer.selectAll("."+i._id+"divider").remove(),r.gridlayer&&r.gridlayer.selectAll("path").remove(),r.zerolinelayer&&r.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+a._id+"title").remove(),n._infolayer.select(".g-"+i._id+"title").remove()}}));var a=e&&"redraw"!==e?e:Z.listIds(t);return l.syncOrAsync(a.map((function(e){return function(){if(e){var n=Z.getFromId(t,e),a=Z.drawOne(t,n,r);return n._r=n.range.slice(),n._rl=l.simpleMap(n._r,n.r2l),a}}})))},Z.drawOne=function(t,e,r){var n,a,s;r=r||{},e.setScale();var c=t._fullLayout,h=e._id,g=h.charAt(0),p=Z.counterLetter(h),v=c._plots[e._mainSubplot];if(v){var _=v[g+"axislayer"],m=e._mainLinePosition,x=e._mainMirrorPosition,y=e._vals=Z.calcTicks(e),k=[e.mirror,m,x].join("_");for(n=0;n<y.length;n++)y[n].axInfo=k;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var b={};if(e.visible){var M,w,A=Z.makeTransTickFn(e),L=Z.makeTransTickLabelFn(e),T="inside"===e.ticks,S="outside"===e.ticks;if("boundaries"===e.tickson){var D=function(t,e){var r,n=[],a=function(t,e){var r=t.xbnd[e];null!==r&&n.push(l.extendFlat({},t,{x:r}))};if(e.length){for(r=0;r<e.length;r++)a(e[r],0);a(e[r-1],1)}return n}(0,y);w=Z.clipEnds(e,D),M=T?w:D}else w=Z.clipEnds(e,y),M=T&&"period"!==e.ticklabelmode?w:y;var O=e._gridVals=w,F=function(t,e){var r,n,a=[],i=e.length&&e[e.length-1].x<e[0].x,o=function(t,e){var r=t.xbnd[e];null!==r&&a.push(l.extendFlat({},t,{x:r}))};if(t.showdividers&&e.length){for(r=0;r<e.length;r++){var s=e[r];s.text2!==n&&o(s,i?1:0),n=s.text2}o(e[r-1],i?0:1)}return a}(e,y);if(!c._hasOnlyLargeSploms){var I=e._subplotsWith,N={};for(n=0;n<I.length;n++){a=I[n];var E=(s=c._plots[a])[p+"axis"],C=E._mainAxis._id;if(!N[C]){N[C]=1;var z="x"===g?"M0,"+E._offset+"v"+E._length:"M"+E._offset+",0h"+E._length;Z.drawGrid(t,e,{vals:O,counterAxis:E,layer:s.gridlayer.select("."+h),path:z,transFn:A}),Z.drawZeroLine(t,e,{counterAxis:E,layer:s.zerolinelayer,path:z,transFn:A})}}}var R=Z.getTickSigns(e),P=[];if(e.ticks){var G,W,j,X=Z.makeTickPath(e,m,R[2]);if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(G=Z.makeTickPath(e,x,R[3]),W=X+G):(G="",W=X),e.showdividers&&S&&"boundaries"===e.tickson){var K={};for(n=0;n<F.length;n++)K[F[n].x]=1;j=function(t){return K[t.x]?G:W}}else j=W;Z.drawTicks(t,e,{vals:M,layer:_,path:j,transFn:A}),"allticks"===e.mirror&&(P=Object.keys(e._linepositions||{}))}for(n=0;n<P.length;n++){a=P[n],s=c._plots[a];var U=e._linepositions[a]||[],Y=Z.makeTickPath(e,U[0],R[0])+Z.makeTickPath(e,U[1],R[1]);Z.drawTicks(t,e,{vals:M,layer:s[g+"axislayer"],path:Y,transFn:A})}var V=[];if(V.push((function(){return Z.drawLabels(t,e,{vals:y,layer:_,plotinfo:s,transFn:L,labelFns:Z.makeLabelFns(e,m)})})),"multicategory"===e.type){var $={x:2,y:10}[g];V.push((function(){var r={x:"height",y:"width"}[g],n=q()[r]+$+(e._tickAngles[h+"tick"]?e.tickfont.size*B:0);return Z.drawLabels(t,e,{vals:gt(e,y),layer:_,cls:h+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:A,labelFns:Z.makeLabelFns(e,m+n*R[4])})})),V.push((function(){return e._depth=R[4]*(q("tick2")[e.side]-m),function(t,e,r){var n=e._id+"divider",a=r.vals,i=r.layer.selectAll("path."+n).data(a,vt);i.exit().remove(),i.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(f.stroke,e.dividercolor).style("stroke-width",d.crispRound(t,e.dividerwidth,1)+"px"),i.attr("transform",r.transFn).attr("d",r.path)}(t,e,{vals:F,layer:_,path:Z.makeTickPath(e,m,R[4],e._depth),transFn:A})}))}else e.title.hasOwnProperty("standoff")&&V.push((function(){e._depth=R[4]*(q()[e.side]-m)}));var Q=o.getComponentMethod("rangeslider","isVisible")(e);return V.push((function(){var r,n,a,l,s=e.side.charAt(0),u=H[e.side].charAt(0),f=Z.getPxPosition(t,e),d=S?e.ticklen:0;if((e.automargin||Q)&&("multicategory"===e.type?r=q("tick2"):(r=q(),"x"===g&&"b"===s&&(e._depth=Math.max(r.width>0?r.bottom-f:0,d)))),e.automargin){n={x:0,y:0,r:0,l:0,t:0,b:0};var h=[0,1];if("x"===g){if("b"===s?n[s]=e._depth:(n[s]=e._depth=Math.max(r.width>0?f-r.top:0,d),h.reverse()),r.width>0){var v=r.right-(e._offset+e._length);v>0&&(n.xr=1,n.r=v);var _=e._offset-r.left;_>0&&(n.xl=0,n.l=_)}}else if("l"===s?n[s]=e._depth=Math.max(r.height>0?f-r.left:0,d):(n[s]=e._depth=Math.max(r.height>0?r.right-f:0,d),h.reverse()),r.height>0){var m=r.bottom-(e._offset+e._length);m>0&&(n.yb=0,n.b=m);var x=e._offset-r.top;x>0&&(n.yt=1,n.t=x)}n[p]="free"===e.anchor?e.position:e._anchorAxis.domain[h[0]],e.title.text!==c._dfltTitle[g]&&(n[s]+=_t(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((a={x:0,y:0,r:0,l:0,t:0,b:0})[u]=e.linewidth,e.mirror&&!0!==e.mirror&&(a[u]+=d),!0===e.mirror||"ticks"===e.mirror?a[p]=e._anchorAxis.domain[h[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(a[p]=[e._counterDomainMin,e._counterDomainMax][h[1]]))}Q&&(l=o.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),i.autoMargin(t,yt(e),n),i.autoMargin(t,kt(e),a),i.autoMargin(t,bt(e),l)})),r.skipTitle||Q&&"bottom"===e.side||V.push((function(){return function(t,e){var r,n=t._fullLayout,a=e._id,i=a.charAt(0),o=e.title.font.size;if(e.title.hasOwnProperty("standoff"))r=e._depth+e.title.standoff+_t(e);else{var l=St(e);if("multicategory"===e.type)r=e._depth;else{var s=1.5*o;l&&(s=.5*o,"outside"===e.ticks&&(s+=e.ticklen)),r=10+s+(e.linewidth?e.linewidth-1:0)}l||(r+="x"===i?"top"===e.side?o*(e.showticklabels?1:0):o*(e.showticklabels?1.5:.5):"right"===e.side?o*(e.showticklabels?1:.5):o*(e.showticklabels?.5:0))}var c,f,h,g,p=Z.getPxPosition(t,e);"x"===i?(f=e._offset+e._length/2,h="top"===e.side?p-r:p+r):(h=e._offset+e._length/2,f="right"===e.side?p+r:p-r,c={rotate:"-90",offset:0});if("multicategory"!==e.type){var v=e._selections[e._id+"tick"];if(g={selection:v,side:e.side},v&&v.node()&&v.node().parentNode){var _=d.getTranslate(v.node().parentNode);g.offsetLeft=_.x,g.offsetTop=_.y}e.title.hasOwnProperty("standoff")&&(g.pad=0)}return u.draw(t,a+"title",{propContainer:e,propName:e._name+".title.text",placeholder:n._dfltTitle[i],avoid:g,transform:c,attributes:{x:f,y:h,"text-anchor":"middle"}})}(t,e)})),l.syncOrAsync(V)}}function q(t){var r=h+(t||"tick");return b[r]||(b[r]=function(t,e){var r,n,a,i;t._selections[e].size()?(r=1/0,n=-1/0,a=1/0,i=-1/0,t._selections[e].each((function(){var t=xt(this),e=d.bBox(t.node().parentNode);r=Math.min(r,e.top),n=Math.max(n,e.bottom),a=Math.min(a,e.left),i=Math.max(i,e.right)}))):(r=0,n=0,a=0,i=0);return{top:r,bottom:n,left:a,right:i,height:n-r,width:i-a}}(e,r)),b[r]}},Z.getTickSigns=function(t){var e=t._id.charAt(0),r={x:"top",y:"right"}[e],n=t.side===r?1:-1,a=[-1,1,n,-n];return"inside"!==t.ticks===("x"===e)&&(a=a.map((function(t){return-t}))),t.side&&a.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),a},Z.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return s(t._offset+t.l2p(e.x),0)}:function(e){return s(0,t._offset+t.l2p(e.x))}},Z.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",r=function(t){return-1!==e.indexOf(t)},n=r("top"),a=r("left"),i=r("right"),o=r("bottom"),l=r("inside"),s=o||a||n||i;if(!s&&!l)return[0,0];var c=t.side,u=s?(t.tickwidth||0)/2:0,f=3,d=t.tickfont?t.tickfont.size:12;(o||n)&&(u+=d*G,f+=(t.linewidth||0)/2);(a||i)&&(u+=(t.linewidth||0)/2,f+=3);l&&"top"===c&&(f-=d*(1-G));(a||n)&&(u=-u);"bottom"!==c&&"right"!==c||(f=-f);return[s?u:0,l?f:0]}(t),r=e[0],n=e[1];return"x"===t._id.charAt(0)?function(e){return s(r+t._offset+t.l2p(pt(e)),n)}:function(e){return s(n,r+t._offset+t.l2p(pt(e)))}},Z.makeTickPath=function(t,e,r,n){n=void 0!==n?n:t.ticklen;var a=t._id.charAt(0),i=(t.linewidth||1)/2;return"x"===a?"M0,"+(e+i*r)+"v"+n*r:"M"+(e+i*r)+",0h"+n*r},Z.makeLabelFns=function(t,e,r){var n=t.ticklabelposition||"",i=function(t){return-1!==n.indexOf(t)},o=i("top"),s=i("left"),c=i("right"),u=i("bottom")||s||o||c,f=i("inside"),d="inside"===n&&"inside"===t.ticks||!f&&"outside"===t.ticks&&"boundaries"!==t.tickson,h=0,g=0,p=d?t.ticklen:0;if(f?p*=-1:u&&(p=0),d&&(h+=p,r)){var v=l.deg2rad(r);h=p*Math.cos(v)+1,g=p*Math.sin(v)}t.showticklabels&&(d||t.showline)&&(h+=.2*t.tickfont.size);var _,m,x,y,k,b={labelStandoff:h+=(t.linewidth||1)/2*(f?-1:1),labelShift:g},M=0,w=t.side,A=t._id.charAt(0),L=t.tickangle;if("x"===A)y=(k=!f&&"bottom"===w||f&&"top"===w)?1:-1,f&&(y*=-1),_=g*y,m=e+h*y,x=k?1:-.2,90===Math.abs(L)&&(f?x+=P:x=-90===L&&"bottom"===w?G:90===L&&"top"===w?P:.5,M=P/2*(L/90)),b.xFn=function(t){return t.dx+_+M*t.fontSize},b.yFn=function(t){return t.dy+m+t.fontSize*x},b.anchorFn=function(t,e){if(u){if(s)return"end";if(c)return"start"}return a(e)&&0!==e&&180!==e?e*y<0!==f?"end":"start":"middle"},b.heightFn=function(e,r,n){return r<-60||r>60?-.5*n:"top"===t.side!==f?-n:0};else if("y"===A){if(y=(k=!f&&"left"===w||f&&"right"===w)?1:-1,f&&(y*=-1),_=h,m=g*y,x=0,f||90!==Math.abs(L)||(x=-90===L&&"left"===w||90===L&&"right"===w?G:.5),f){var T=a(L)?+L:0;if(0!==T){var S=l.deg2rad(T);M=Math.abs(Math.sin(S))*G*y,x=0}}b.xFn=function(t){return t.dx+e-(_+t.fontSize*x)*y+M*t.fontSize},b.yFn=function(t){return t.dy+m+t.fontSize*P},b.anchorFn=function(t,e){return a(e)&&90===Math.abs(e)?"middle":k?"end":"start"},b.heightFn=function(e,r,n){return"right"===t.side&&(r*=-1),r<-30?-n:r<30?-.5*n:0}}return b},Z.drawTicks=function(t,e,r){r=r||{};var n=e._id+"tick",a=r.vals;"period"===e.ticklabelmode&&(a=a.slice()).shift();var i=r.layer.selectAll("path."+n).data(e.ticks?a:[],vt);i.exit().remove(),i.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",!1!==r.crisp).call(f.stroke,e.tickcolor).style("stroke-width",d.crispRound(t,e.tickwidth,1)+"px").attr("d",r.path).style("display",null),Dt(e,[C]),i.attr("transform",r.transFn)},Z.drawGrid=function(t,e,r){r=r||{};var n=e._id+"grid",a=r.vals,i=r.counterAxis;if(!1===e.showgrid)a=[];else if(i&&Z.shouldShowZeroLine(t,e,i))for(var o="array"===e.tickmode,l=0;l<a.length;l++){var s=a[l].x;if(o?!s:Math.abs(s)<e.dtick/100){if(a=a.slice(0,l).concat(a.slice(l+1)),!o)break;l--}}var c=r.layer.selectAll("path."+n).data(a,vt);c.exit().remove(),c.enter().append("path").classed(n,1).classed("crisp",!1!==r.crisp),e._gw=d.crispRound(t,e.gridwidth,1),c.attr("transform",r.transFn).attr("d",r.path).call(f.stroke,e.gridcolor||"#ddd").style("stroke-width",e._gw+"px").style("display",null),Dt(e,[E]),"function"===typeof r.path&&c.attr("d",r.path)},Z.drawZeroLine=function(t,e,r){r=r||r;var n=e._id+"zl",a=Z.shouldShowZeroLine(t,e,r.counterAxis),i=r.layer.selectAll("path."+n).data(a?[{x:0,id:e._id}]:[]);i.exit().remove(),i.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",!1!==r.crisp).each((function(){r.layer.selectAll("path").sort((function(t,e){return X(t.id,e.id)}))})),i.attr("transform",r.transFn).attr("d",r.path).call(f.stroke,e.zerolinecolor||f.defaultLine).style("stroke-width",d.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),Dt(e,[N])},Z.drawLabels=function(t,e,r){r=r||{};var i=t._fullLayout,o=e._id,u=o.charAt(0),f=r.cls||o+"tick",h=r.vals,g=r.labelFns,p=r.secondary?0:e.tickangle,v=(e._prevTickAngles||{})[f],_=r.layer.selectAll("g."+f).data(e.showticklabels?h:[],vt),m=[];function x(t,i){t.each((function(t){var o=n.select(this),l=o.select(".text-math-group"),u=g.anchorFn(t,i),f=r.transFn.call(o.node(),t)+(a(i)&&0!==+i?" rotate("+i+","+g.xFn(t)+","+(g.yFn(t)-t.fontSize/2)+")":""),h=c.lineCount(o),p=B*t.fontSize,v=g.heightFn(t,a(i)?+i:0,(h-1)*p);if(v&&(f+=s(0,v)),l.empty()){var _=o.select("text");_.attr({transform:f,"text-anchor":u}),_.style("opacity",1),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var m=d.bBox(l.node()).width*{end:-.5,start:.5}[u];l.attr("transform",f+s(m,0))}}))}_.enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each((function(e){var r=n.select(this),a=t._promises.length;r.call(c.positionText,g.xFn(e),g.yFn(e)).call(d.font,e.font,e.fontSize,e.fontColor).text(e.text).call(c.convertToTspans,t),t._promises[a]?m.push(t._promises.pop().then((function(){x(r,p)}))):x(r,p)})),Dt(e,[z]),_.exit().remove(),r.repositionOnUpdate&&_.each((function(t){n.select(this).select("text").call(c.positionText,g.xFn(t),g.yFn(t))})),e._adjustTickLabelsOverflow=function(){var r=e.ticklabeloverflow;if(r&&"allow"!==r){var a=-1!==r.indexOf("hide"),o="x"===e._id.charAt(0),s=0,c=o?t._fullLayout.width:t._fullLayout.height;if(-1!==r.indexOf("domain")){var u=l.simpleMap(e.range,e.r2l);s=e.l2p(u[0])+e._offset,c=e.l2p(u[1])+e._offset}var f=Math.min(s,c),h=Math.max(s,c),g=e.side,p=1/0,v=-1/0;for(var m in _.each((function(t){var r=n.select(this);if(r.select(".text-math-group").empty()){var i=d.bBox(r.node()),l=0;o?(i.right>h||i.left<f)&&(l=1):(i.bottom>h||i.top+(e.tickangle?0:t.fontSize/4)<f)&&(l=1);var s=r.select("text");l?a&&s.style("opacity",0):(s.style("opacity",1),p="bottom"===g||"right"===g?Math.min(p,o?i.top:i.left):-1/0,v="top"===g||"left"===g?Math.max(v,o?i.bottom:i.right):1/0)}})),i._plots){var x=i._plots[m];if(e._id===x.xaxis._id||e._id===x.yaxis._id){var y=o?x.yaxis:x.xaxis;y&&(y["_visibleLabelMin_"+e._id]=p,y["_visibleLabelMax_"+e._id]=v)}}}},e._hideCounterAxisInsideTickLabels=function(t){var r="x"===e._id.charAt(0),a=[];for(var o in i._plots){var l=i._plots[o];e._id!==l.xaxis._id&&e._id!==l.yaxis._id||a.push(r?l.yaxis:l.xaxis)}a.forEach((function(r,a){r&&St(r)&&(t||[N,E,C,z]).forEach((function(t){var o="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,l=i._plots[e._mainSubplot];(t.K===N.K?l.zerolinelayer.selectAll("."+e._id+"zl"):t.K===E.K?l.gridlayer.selectAll("."+e._id):l[e._id.charAt(0)+"axislayer"]).each((function(){var i=n.select(this);t.L&&(i=i.selectAll(t.L)),i.each((function(i){var l=e.l2p(o?pt(i):i.x)+e._offset,s=n.select(this);l<e["_visibleLabelMax_"+r._id]&&l>e["_visibleLabelMin_"+r._id]?s.style("display","none"):"tick"!==t.K||a||s.style("display",null)}))}))}))}))},x(_,v+1?v:p);var y=null;e._selections&&(e._selections[f]=_);var k=[function(){return m.length&&Promise.all(m)}];e.automargin&&i._redrawFromAutoMarginCount&&90===v?(y=90,k.push((function(){x(_,v)}))):k.push((function(){if(x(_,p),h.length&&"x"===u&&!a(p)&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){y=0;var t,n=0,i=[];if(_.each((function(t){n=Math.max(n,t.fontSize);var r=e.l2p(t.x),a=xt(this),o=d.bBox(a.node());i.push({top:0,bottom:10,height:10,left:r-o.width/2,right:r+o.width/2+2,width:o.width+2})})),"boundaries"!==e.tickson&&!e.showdividers||r.secondary){var o=h.length,s=Math.abs((h[o-1].x-h[0].x)*e._m)/(o-1),c=e.ticklabelposition||"",f=function(t){return-1!==c.indexOf(t)},g=f("top"),v=f("left"),m=f("right"),k=f("bottom")||v||g||m?(e.tickwidth||0)+6:0,b=s<2.5*n||"multicategory"===e.type;for(t=0;t<i.length-1;t++)if(l.bBoxIntersect(i[t],i[t+1],k)){y=b?90:30;break}}else{var M=2;for(e.ticks&&(M+=e.tickwidth/2),t=0;t<i.length;t++){var w=h[t].xbnd,A=i[t];if(null!==w[0]&&A.left-e.l2p(w[0])<M||null!==w[1]&&e.l2p(w[1])-A.right<M){y=90;break}}}y&&x(_,y)}})),e._tickAngles&&k.push((function(){e._tickAngles[f]=null===y?a(p)?p:0:y}));var b=e._anchorAxis;b&&b.autorange&&St(e)&&!K(i,e._id)&&(i._insideTickLabelsAutorange||(i._insideTickLabelsAutorange={}),i._insideTickLabelsAutorange[b._name+".autorange"]=b.autorange,k.push((function(){_.each((function(t,r){var n=xt(this);n.select(".text-math-group").empty()&&(e._vals[r].bb=d.bBox(n.node()))}))})));var M=l.syncOrAsync(k);return M&&M.then&&t._promises.push(M),M},Z.getPxPosition=function(t,e){var r,n=t._fullLayout._size,a=e._id.charAt(0),i=e.side;return"free"!==e.anchor?r=e._anchorAxis:"x"===a?r={_offset:n.t+(1-(e.position||0))*n.h,_length:0}:"y"===a&&(r={_offset:n.l+(e.position||0)*n.w,_length:0}),"top"===i||"left"===i?r._offset:"bottom"===i||"right"===i?r._offset+r._length:void 0},Z.shouldShowZeroLine=function(t,e,r){var n=l.simpleMap(e.range,e.r2l);return n[0]*n[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===I)&&(mt(e,0)||!function(t,e,r,n){var a=r._mainAxis;if(!a)return;var i=t._fullLayout,o=e._id.charAt(0),l=Z.counterLetter(e._id),s=e._offset+(Math.abs(n[0])<Math.abs(n[1])===("x"===o)?0:e._length);function c(t){if(!t.showline||!t.linewidth)return!1;var r=Math.max((t.linewidth+e.zerolinewidth)/2,1);function n(t){return"number"===typeof t&&Math.abs(t-s)<r}if(n(t._mainLinePosition)||n(t._mainMirrorPosition))return!0;var a=t._linepositions||{};for(var i in a)if(n(a[i][0])||n(a[i][1]))return!0}var u=i._plots[r._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return c(r,s);for(var f=Z.list(t,l),d=0;d<f.length;d++){var h=f[d];if(h._mainAxis===a&&c(h,s))return!0}}(t,e,r,n)||function(t,e){for(var r=t._fullData,n=e._mainSubplot,a=e._id.charAt(0),i=0;i<r.length;i++){var l=r[i];if(!0===l.visible&&l.xaxis+l.yaxis===n){if(o.traceIs(l,"bar-like")&&l.orientation==={x:"h",y:"v"}[a])return!0;if(l.fill&&l.fill.charAt(l.fill.length-1)===a)return!0}}return!1}(t,e))},Z.clipEnds=function(t,e){return e.filter((function(e){return mt(t,e.x)}))},Z.allowAutoMargin=function(t){for(var e=Z.list(t,"",!0),r=0;r<e.length;r++){var n=e[r];n.automargin&&(i.allowAutoMargin(t,yt(n)),n.mirror&&i.allowAutoMargin(t,kt(n))),o.getComponentMethod("rangeslider","isVisible")(n)&&i.allowAutoMargin(t,bt(n))}},Z.swap=function(t,e){for(var r=function(t,e){var r,n,a=[];for(r=0;r<e.length;r++){var i=[],o=t._fullData[e[r]].xaxis,l=t._fullData[e[r]].yaxis;if(o&&l){for(n=0;n<a.length;n++)-1===a[n].x.indexOf(o)&&-1===a[n].y.indexOf(l)||i.push(n);if(i.length){var s,c=a[i[0]];if(i.length>1)for(n=1;n<i.length;n++)s=a[i[n]],Mt(c.x,s.x),Mt(c.y,s.y);Mt(c.x,[o]),Mt(c.y,[l])}else a.push({x:[o],y:[l]})}}return a}(t,e),n=0;n<r.length;n++)wt(t,r[n].x,r[n].y)}},60210:function(t,e,r){var n=r(83491),a=r(47401),i=r(9405).BADNUM,o=a.isArrayOrTypedArray,l=a.isDateTime,s=a.cleanNumber,c=Math.round;function u(t,e){return e?n(t):"number"===typeof t}function f(t){return Math.max(1,(t-1)/1e3)}t.exports=function(t,e,r){var a=t,d=r.noMultiCategory;if(o(a)&&!a.length)return"-";if(!d&&function(t){return o(t[0])&&o(t[1])}(a))return"multicategory";if(d&&Array.isArray(a[0])){for(var h=[],g=0;g<a.length;g++)if(o(a[g]))for(var p=0;p<a[g].length;p++)h.push(a[g][p]);a=h}if(function(t,e){for(var r=t.length,a=f(r),i=0,o=0,s={},u=0;u<r;u+=a){var d=t[c(u)],h=String(d);s[h]||(s[h]=1,l(d,e)&&i++,n(d)&&o++)}return i>2*o}(a,e))return"date";var v="strict"!==r.autotypenumbers;return function(t,e){for(var r=t.length,n=f(r),a=0,o=0,l={},u=0;u<r;u+=n){var d=t[c(u)],h=String(d);if(!l[h]){l[h]=1;var g=typeof d;"boolean"===g?o++:(e?s(d)!==i:"number"===g)?a++:"string"===g&&o++}}return o>2*a}(a,v)?"category":function(t,e){for(var r=t.length,n=0;n<r;n++)if(u(t[n],e))return!0;return!1}(a,v)?"linear":"-"}},90407:function(t,e,r){var n=r(83491),a=r(62282),i=r(47401),o=r(26800),l=r(33333),s=r(37801),c=r(49593),u=r(51860),f=r(91289),d=r(28205),h=r(58947),g=r(56890).WEEKDAY_PATTERN,p=r(56890).HOUR_PATTERN;function v(t,e,r){function a(r,n){return i.coerce(t,e,l.rangebreaks,r,n)}if(a("enabled")){var o=a("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length)for(s=0;s<2;s++)if(c=m(o[s])){u=g;break}var f=a("pattern",u);if(f===g)for(s=0;s<2;s++)(c=m(o[s]))&&(e.bounds[s]=o[s]=c-1);if(f)for(s=0;s<2;s++)switch(c=o[s],f){case g:if(!n(c))return void(e.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(e.enabled=!1);e.bounds[s]=o[s]=c;break;case p:if(!n(c))return void(e.enabled=!1);if((c=+c)<0||c>24)return void(e.enabled=!1);e.bounds[s]=o[s]=c}if(!1===r.autorange){var d=r.range;if(d[0]<d[1]){if(o[0]<d[0]&&o[1]>d[1])return void(e.enabled=!1)}else if(o[0]>d[0]&&o[1]<d[1])return void(e.enabled=!1)}}else{var h=a("values");if(!h||!h.length)return void(e.enabled=!1);a("dvalue")}}}t.exports=function(t,e,r,n,p){var _,m=n.letter,x=n.font||{},y=n.splomStash||{},k=r("visible",!n.visibleDflt),b=e._template||{},M=e.type||b.type||"-";"date"===M&&(a.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",n.calendar),n.noTicklabelmode||(_=r("ticklabelmode")));var w="";n.noTicklabelposition&&"multicategory"!==M||(w=i.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===_?["outside","inside"]:"x"===m?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),n.noTicklabeloverflow||r("ticklabeloverflow",-1!==w.indexOf("inside")?"hide past domain":"category"===M||"multicategory"===M?"allow":"hide past div"),h(e,p);var A=!e.isValidRange(t.range);A&&n.reverseDflt&&(A="reversed"),!r("autorange",A)||"linear"!==M&&"-"!==M||r("rangemode"),r("range"),e.cleanRange(),f(t,e,r,n),"category"===M||n.noHover||r("hoverformat");var L=r("color"),T=L!==l.color.dflt?L:x.color,S=y.label||p._dfltTitle[m];if(u(t,e,r,M,n,{pass:1}),!k)return e;r("title.text",S),i.coerceFont(r,"title.font",{family:x.family,size:i.bigFont(x.size),color:T}),s(t,e,r,M),u(t,e,r,M,n,{pass:2}),c(t,e,r,n),d(t,e,r,{dfltColor:L,bgColor:n.bgColor,showGrid:n.showGrid,attributes:l}),(e.showline||e.ticks)&&r("mirror"),n.automargin&&r("automargin");var D,O="multicategory"===M;n.noTickson||"category"!==M&&!O||!e.ticks&&!e.showgrid||(O&&(D="boundaries"),"boundaries"===r("tickson",D)&&delete e.ticklabelposition);O&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===M)if(o(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),e.rangebreaks.length){for(var F=0;F<e.rangebreaks.length;F++)if(e.rangebreaks[F].pattern===g){e._hasDayOfWeekBreaks=!0;break}if(h(e,p),p._has("scattergl")||p._has("splom"))for(var I=0;I<n.data.length;I++){var N=n.data[I];"scattergl"!==N.type&&"splom"!==N.type||(N.visible=!1,i.warn(N.type+" traces do not work on axes with rangebreaks. Setting trace "+N.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var _={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(t){if("string"===typeof t)return _[t.substr(0,3).toLowerCase()]}},20184:function(t,e,r){var n=r(95888),a=n.FORMAT_LINK,i=n.DATE_FORMAT_LINK;function o(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+a+"."].join(" ")}function l(t,e){return o(t,e)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}t.exports={axisHoverFormat:function(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?o:l)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:o,descriptionWithDates:l}},77063:function(t,e,r){var n=r(62282),a=r(56890);function i(t,e){if(e&&e.length)for(var r=0;r<e.length;r++)if(e[r][t])return!0;return!1}e.id2name=function(t){if("string"===typeof t&&t.match(a.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},e.name2id=function(t){if(t.match(a.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},e.cleanId=function(t,e,r){var n=/( domain)$/.test(t);if("string"===typeof t&&t.match(a.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!n||r)){var i=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),t.charAt(0)+i+(n&&r?" domain":"")}},e.list=function(t,r,n){var a=t._fullLayout;if(!a)return[];var i,o=e.listIds(t,r),l=new Array(o.length);for(i=0;i<o.length;i++){var s=o[i];l[i]=a[s.charAt(0)+"axis"+s.substr(1)]}if(!n){var c=a._subplots.gl3d||[];for(i=0;i<c.length;i++){var u=a[c[i]];r?l.push(u[r+"axis"]):l.push(u.xaxis,u.yaxis,u.zaxis)}}return l},e.listIds=function(t,e){var r=t._fullLayout;if(!r)return[];var n=r._subplots;return e?n[e+"axis"]:n.xaxis.concat(n.yaxis)},e.getFromId=function(t,r,n){var a=t._fullLayout;return r=void 0===r||"string"!==typeof r?r:r.replace(" domain",""),"x"===n?r=r.replace(/y[0-9]*/,""):"y"===n&&(r=r.replace(/x[0-9]*/,"")),a[e.id2name(r)]},e.getFromTrace=function(t,r,a){var i=t._fullLayout,o=null;if(n.traceIs(r,"gl3d")){var l=r.scene;"scene"===l.substr(0,5)&&(o=i[l][a+"axis"])}else o=e.getFromId(t,r[a+"axis"]||a);return o},e.idSort=function(t,e){var r=t.charAt(0),n=e.charAt(0);return r!==n?r>n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},e.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},e.isLinked=function(t,e){return i(e,t._axisMatchGroups)||i(e,t._axisConstraintGroups)}},91289:function(t){t.exports=function(t,e,r,n){if("category"===e.type){var a,i=t.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(a="array");var l,s=r("categoryorder",a);"array"===s&&(l=r("categoryarray")),o||"array"!==s||(s=e.categoryorder="trace"),"trace"===s?e._initialCategories=[]:"array"===s?e._initialCategories=l.slice():(l=function(t,e){var r,n,a,i=e.dataAttr||t._id.charAt(0),o={};if(e.axData)r=e.axData;else for(r=[],n=0;n<e.data.length;n++){var l=e.data[n];l[i+"axis"]===t._id&&r.push(l)}for(n=0;n<r.length;n++){var s=r[n][i];for(a=0;a<s.length;a++){var c=s[a];null!==c&&void 0!==c&&(o[c]=1)}}return Object.keys(o)}(e,n).sort(),"category ascending"===s?e._initialCategories=l:"category descending"===s&&(e._initialCategories=l.reverse()))}}},60551:function(t,e,r){var n=r(83491),a=r(47401),i=r(9405),o=i.ONEDAY,l=i.ONEWEEK;e.dtick=function(t,e){var r="log"===e,a="date"===e,i="category"===e,l=a?o:1;if(!t)return l;if(n(t))return(t=Number(t))<=0?l:i?Math.max(1,Math.round(t)):a?Math.max(.1,t):t;if("string"!==typeof t||!a&&!r)return l;var s=t.charAt(0),c=t.substr(1);return(c=n(c)?Number(c):0)<=0||!(a&&"M"===s&&c===Math.round(c)||r&&"L"===s||r&&"D"===s&&(1===c||2===c))?l:t},e.tick0=function(t,e,r,i){return"date"===e?a.cleanDate(t,a.dateTick0(r,i%l===0?1:0)):"D1"!==i&&"D2"!==i?n(t)?Number(t):0:void 0}},56890:function(t,e,r){var n=r(44790).counter;t.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},30807:function(t,e,r){var n=r(47401),a=r(9319),i=r(77063).id2name,o=r(33333),l=r(95851),s=r(58947),c=r(9405).ALMOST_EQUAL,u=r(60482).FROM_BL;function f(t,e,r){var a=r.axIds,l=r.layoutOut,s=r.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,f=e._id,p=f.charAt(0),v=((l._splomAxes||{})[p]||{})[f]||{},_=e._id,m="x"===_.charAt(0);function x(r,a){return n.coerce(t,e,o,r,a)}e._matchGroup=null,e._constraintGroup=null,x("constrain",s?"domain":"range"),n.coerce(t,e,{constraintoward:{valType:"enumerated",values:m?["left","center","right"]:["bottom","middle","top"],dflt:m?"center":"middle"}},"constraintoward");var y,k,b=e.type,M=[];for(y=0;y<a.length;y++){if((k=a[y])!==_)l[i(k)].type===b&&M.push(k)}var w=h(c,_);if(w){var A=[];for(y=0;y<M.length;y++)w[k=M[y]]||A.push(k);M=A}var L,T,S=M.length;S&&(t.matches||v.matches)&&(L=n.coerce(t,e,{matches:{valType:"enumerated",values:M,dflt:-1!==M.indexOf(v.matches)?v.matches:void 0}},"matches"));var D=s&&!m?e.anchor:void 0;if(S&&!L&&(t.scaleanchor||D)&&(T=n.coerce(t,e,{scaleanchor:{valType:"enumerated",values:M}},"scaleanchor",D)),L){e._matchGroup=g(u,_,L,1);var O=l[i(L)],F=d(l,e)/d(l,O);m!==("x"===L.charAt(0))&&(F=(m?"x":"y")+F),g(c,_,L,F)}else t.matches&&-1!==a.indexOf(t.matches)&&n.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(T){var I=x("scaleratio");I||(I=e.scaleratio=1),g(c,_,T,I)}else t.scaleanchor&&-1!==a.indexOf(t.scaleanchor)&&n.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(t,e){var r=e.domain;return r||(r=t[i(e.overlaying)].domain),r[1]-r[0]}function h(t,e){for(var r=0;r<t.length;r++)if(t[r][e])return t[r];return null}function g(t,e,r,n){var a,i,o,l,s,c=h(t,e);null===c?((c={})[e]=1,s=t.length,t.push(c)):s=t.indexOf(c);var u=Object.keys(c);for(a=0;a<t.length;a++)if(o=t[a],a!==s&&o[r]){var f=o[r];for(i=0;i<u.length;i++)o[l=u[i]]=p(f,p(n,c[l]));return void t.splice(s,1)}if(1!==n)for(i=0;i<u.length;i++){var d=u[i];c[d]=p(n,c[d])}c[r]=1}function p(t,e){var r,n,a="",i="";"string"===typeof t&&(r=(a=t.match(/^[xy]*/)[0]).length,t=+t.substr(r)),"string"===typeof e&&(n=(i=e.match(/^[xy]*/)[0]).length,e=+e.substr(n));var o=t*e;return r||n?r&&n&&a.charAt(0)!==i.charAt(0)?r===n?o:(r>n?a.substr(n):i.substr(r))+o:a+i+t*e:o}function v(t,e){for(var r=e._size,n=r.h/r.w,a={},i=Object.keys(t),o=0;o<i.length;o++){var l=i[o],s=t[l];if("string"===typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var f="y"===c.charAt(0)?n:1/n,d=0;d<u;d++)s*=f}a[l]=s}return a}function _(t,e){var r=t._inputDomain,n=u[t.constraintoward],a=r[0]+(r[1]-r[0])*n;t.domain=t._input.domain=[a+(r[0]-a)/e,a+(r[1]-a)/e],t.setScale()}e.handleDefaults=function(t,e,r){var a,o,l,c,u,d,h,g,p=r.axIds,v=r.axHasImage,_=e._axisConstraintGroups=[],m=e._axisMatchGroups=[];for(a=0;a<p.length;a++)f(u=t[c=i(p[a])],d=e[c],{axIds:p,layoutOut:e,hasImage:v[c]});function x(t,r){for(a=0;a<t.length;a++)for(l in o=t[a])e[i(l)][r]=o}for(x(m,"_matchGroup"),a=0;a<_.length;a++)for(l in o=_[a])if((d=e[i(l)]).fixedrange){for(var y in o){var k=i(y);!1===(t[k]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),e[k].fixedrange=!0}break}for(a=0;a<_.length;){for(l in o=_[a]){(d=e[i(l)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(o).length&&(_.splice(a,1),a--);break}a++}x(_,"_constraintGroup");var b=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],M=!1,w=!1;function A(){g=d[h],"rangebreaks"===h&&(w=d._hasDayOfWeekBreaks)}for(a=0;a<m.length;a++){o=m[a];for(var L=0;L<b.length;L++){var T;for(l in h=b[L],g=null,o)if(u=t[c=i(l)],d=e[c],h in d){if(!d.matches&&(T=d,h in u)){A();break}null===g&&h in u&&A()}if("range"===h&&g&&(M=!0),"autorange"===h&&null===g&&M&&(g=!1),null===g&&h in T&&(g=T[h]),null!==g)for(l in o)(d=e[i(l)])[h]="range"===h?g.slice():g,"rangebreaks"===h&&(d._hasDayOfWeekBreaks=w,s(d,e))}}},e.enforce=function(t){var e,r,n,o,s,u,f,d,h=t._fullLayout,g=h._axisConstraintGroups||[];for(e=0;e<g.length;e++){n=v(g[e],h);var p=Object.keys(n),m=1/0,x=0,y=1/0,k={},b={},M=!1;for(r=0;r<p.length;r++)b[o=p[r]]=s=h[i(o)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),k[o]=u=Math.abs(s._m)/n[o],m=Math.min(m,u),"domain"!==s.constrain&&s._constraintShrinkable||(y=Math.min(y,u)),delete s._constraintShrinkable,x=Math.max(x,u),"domain"===s.constrain&&(M=!0);if(!(m>c*x)||M)for(r=0;r<p.length;r++)if(u=k[o=p[r]],f=(s=b[o]).constrain,u!==y||"domain"===f)if(d=u/y,"range"===f)l(s,d);else{var w=s._inputDomain,A=(s.domain[1]-s.domain[0])/(w[1]-w[0]),L=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((d/=A)*L<1){s.domain=s._input.domain=w.slice(),l(s,d);continue}if(L<1&&(s.range=s._input.range=s._inputRange.slice(),d*=L),s.autorange){var T=s.r2l(s.range[0]),S=s.r2l(s.range[1]),D=(T+S)/2,O=D,F=D,I=Math.abs(S-D),N=D-I*d*1.0001,E=D+I*d*1.0001,C=a.makePadFn(h,s,0),z=a.makePadFn(h,s,1);_(s,d);var R,P,G=Math.abs(s._m),B=a.concatExtremes(t,s),H=B.min,Z=B.max;for(P=0;P<H.length;P++)(R=H[P].val-C(H[P])/G)>N&&R<O&&(O=R);for(P=0;P<Z.length;P++)(R=Z[P].val+z(Z[P])/G)<E&&R>F&&(F=R);d/=(F-O)/(2*I),O=s.l2r(O),F=s.l2r(F),s.range=s._input.range=T<S?[O,F]:[F,O]}_(s,d)}}},e.getAxisGroup=function(t,e){for(var r=t._axisMatchGroups,n=0;n<r.length;n++){if(r[n][e])return"g"+n}return e},e.clean=function(t,e){if(e._inputDomain){for(var r=!1,n=e._id,a=t._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][n]){r=!0;break}r&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},15696:function(t,e,r){var n=r(62258),a=r(47401),i=a.numberFormat,o=r(91771),l=r(473),s=r(62282),c=a.strTranslate,u=r(43995),f=r(31454),d=r(41707),h=r(21661),g=r(37762),p=r(82559),v=r(52783),_=r(42910),m=_.selectingOrDrawing,x=_.freeMode,y=r(60482).FROM_TL,k=r(43351),b=r(665).redrawReglTraces,M=r(35722),w=r(77063).getFromId,A=r(88987).prepSelect,L=r(88987).clearSelect,T=r(88987).selectOnClick,S=r(95851),D=r(56890),O=D.MINDRAG,F=D.MINZOOM,I=!0;function N(t,e,r,n){var i=a.ensureSingle(t.draglayer,e,r,(function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return i.call(p,n),i.node()}function E(t,e,r,a,i,o,l){var s=N(t,"rect",e,r);return n.select(s).call(d.setRect,a,i,o,l),s}function C(t,e){for(var r=0;r<t.length;r++)if(!t[r].fixedrange)return e;return""}function z(t,e,r,n,a){for(var i=0;i<t.length;i++){var o=t[i];if(!o.fixedrange)if(o.rangebreaks){var l="y"===o._id.charAt(0),s=l?1-e:e,c=l?1-r:r;n[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),n[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],f=o._rl[1]-u;n[o._name+".range[0]"]=o.l2r(u+f*e),n[o._name+".range[1]"]=o.l2r(u+f*r)}}if(a&&a.length){var d=(e+(1-r))/2;z(a,d,1-d,n,[])}}function R(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(!n.fixedrange)if(n.rangebreaks){var a=n._length,i=(n.p2l(0+e)-n.p2l(0)+(n.p2l(a+e)-n.p2l(a)))/2;n.range=[n.l2r(n._rl[0]-i),n.l2r(n._rl[1]-i)]}else n.range=[n.l2r(n._rl[0]-e/n._m),n.l2r(n._rl[1]-e/n._m)]}}function P(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function G(t,e,r,n,a){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(r,n)).attr("d",a+"Z")}function B(t,e,r){return t.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(e,r)).attr("d","M0,0Z")}function H(t,e,r,n,a,i){t.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),Z(t,e,a,i)}function Z(t,e,r,n){r||(t.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function W(t){n.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function j(t){I&&t.data&&t._context.showTips&&(a.notifier(a._(t,"Double-click to zoom back out"),"long"),I=!1)}function X(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,F)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function K(t,e,r,n,i){for(var o,l,s,c,u=!1,f={},d={},h=(i||{}).xaHash,g=(i||{}).yaHash,p=0;p<e.length;p++){var v=e[p];for(o in r)if(v[o]){for(s in v)i&&(h[s]||g[s])||("x"===s.charAt(0)?r:n)[s]||(f[s]=o);for(l in n)i&&(h[l]||g[l])||!v[l]||(u=!0)}for(l in n)if(v[l])for(c in v)i&&(h[c]||g[c])||("x"===c.charAt(0)?r:n)[c]||(d[c]=l)}u&&(a.extendFlat(f,d),d={});var _={},m=[];for(s in f){var x=w(t,s);m.push(x),_[x._id]=x}var y={},k=[];for(c in d){var b=w(t,c);k.push(b),y[b._id]=b}return{xaHash:_,yaHash:y,xaxes:m,yaxes:k,xLinks:f,yLinks:d,isSubplotConstrained:u}}function U(t,e){if(l){var r=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(r,t._onwheel),t._onwheel=e,t.addEventListener(r,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function Y(t){var e=[];for(var r in t)e.push(t[r]);return e}t.exports={makeDragBox:function(t,e,r,l,c,f,p,_){var I,N,Z,V,$,Q,q,J,tt,et,rt,nt,at,it,ot,lt,st,ct,ut,ft,dt,ht,gt,pt=t._fullLayout._zoomlayer,vt=p+_==="nsew",_t=1===(p+_).length;function mt(){if(I=e.xaxis,N=e.yaxis,tt=I._length,et=N._length,q=I._offset,J=N._offset,(Z={})[I._id]=I,(V={})[N._id]=N,p&&_)for(var r=e.overlays,n=0;n<r.length;n++){var a=r[n].xaxis;Z[a._id]=a;var i=r[n].yaxis;V[i._id]=i}$=Y(Z),Q=Y(V),at=C($,_),it=C(Q,p),ot=!it&&!at,nt=K(t,t._fullLayout._axisMatchGroups,Z,V);var o=(rt=K(t,t._fullLayout._axisConstraintGroups,Z,V,nt)).isSubplotConstrained||nt.isSubplotConstrained;lt=_||o,st=p||o;var l=t._fullLayout;ct=l._has("scattergl"),ut=l._has("splom"),ft=l._has("svg")}mt();var xt=function(t,e,r){if(!t)return"pointer";if("nsew"===t)return r?"":"pan"===e?"move":"crosshair";return t.toLowerCase()+"-resize"}(it+at,t._fullLayout.dragmode,vt),yt=E(e,p+_+"drag",xt,r,l,c,f);if(ot&&!vt)return yt.onmousedown=null,yt.style.pointerEvents="none",yt;var kt,bt,Mt,wt,At,Lt,Tt,St,Dt,Ot,Ft={element:yt,gd:t,plotinfo:e};function It(){Ft.plotinfo.selection=!1,L(t)}function Nt(t,r){var a=Ft.gd;if(a._fullLayout._activeShapeIndex>=0)a._fullLayout._deactivateShape(a);else{var o=a._fullLayout.clickmode;if(W(a),2!==t||_t||jt(),vt)o.indexOf("select")>-1&&T(r,a,$,Q,e.id,Ft),o.indexOf("event")>-1&&h.click(a,r,e.id);else if(1===t&&_t){var l=p?N:I,c="s"===p||"w"===_?0:1,f=l._name+".range["+c+"]",d=function(t,e){var r,n=t.range[e],a=Math.abs(n-t.range[1-e]);return"date"===t.type?n:"log"===t.type?(r=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,i("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,i("."+String(r)+"g")(n))}(l,c),g="left",v="middle";if(l.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===l.side&&(g="right")):"e"===_&&(g="right"),a._context.showAxisRangeEntryBoxes&&n.select(yt).call(u.makeEditable,{gd:a,immediate:!0,background:a._fullLayout.paper_bgcolor,text:String(d),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:g,verticalAlign:v}).on("edit",(function(t){var e=l.d2r(t);void 0!==e&&s.call("_guiRelayout",a,f,e)}))}}}function Et(e,r){if(t._transitioningWithDuration)return!1;var n=Math.max(0,Math.min(tt,ht*e+kt)),a=Math.max(0,Math.min(et,gt*r+bt)),i=Math.abs(n-kt),o=Math.abs(a-bt);function l(){Tt="",Mt.r=Mt.l,Mt.t=Mt.b,Dt.attr("d","M0,0Z")}if(Mt.l=Math.min(kt,n),Mt.r=Math.max(kt,n),Mt.t=Math.min(bt,a),Mt.b=Math.max(bt,a),rt.isSubplotConstrained)i>F||o>F?(Tt="xy",i/tt>o/et?(o=i*et/tt,bt>a?Mt.t=bt-o:Mt.b=bt+o):(i=o*tt/et,kt>n?Mt.l=kt-i:Mt.r=kt+i),Dt.attr("d",X(Mt))):l();else if(nt.isSubplotConstrained)if(i>F||o>F){Tt="xy";var s=Math.min(Mt.l/tt,(et-Mt.b)/et),c=Math.max(Mt.r/tt,(et-Mt.t)/et);Mt.l=s*tt,Mt.r=c*tt,Mt.b=(1-s)*et,Mt.t=(1-c)*et,Dt.attr("d",X(Mt))}else l();else!it||o<Math.min(Math.max(.6*i,O),F)?i<O||!at?l():(Mt.t=0,Mt.b=et,Tt="x",Dt.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-F-.5)+"h-3v"+(2*F+1)+"h3ZM"+(t.r+.5)+","+(e-F-.5)+"h3v"+(2*F+1)+"h-3Z"}(Mt,bt))):!at||i<Math.min(.6*o,F)?(Mt.l=0,Mt.r=tt,Tt="y",Dt.attr("d",function(t,e){return"M"+(e-F-.5)+","+(t.t-.5)+"v-3h"+(2*F+1)+"v3ZM"+(e-F-.5)+","+(t.b+.5)+"v3h"+(2*F+1)+"v-3Z"}(Mt,kt))):(Tt="xy",Dt.attr("d",X(Mt)));Mt.w=Mt.r-Mt.l,Mt.h=Mt.b-Mt.t,Tt&&(Ot=!0),t._dragged=Ot,H(St,Dt,Mt,At,Lt,wt),Ct(),t.emit("plotly_relayouting",dt),Lt=!0}function Ct(){dt={},"xy"!==Tt&&"x"!==Tt||(z($,Mt.l/tt,Mt.r/tt,dt,rt.xaxes),Zt("x",dt)),"xy"!==Tt&&"y"!==Tt||(z(Q,(et-Mt.b)/et,(et-Mt.t)/et,dt,rt.yaxes),Zt("y",dt))}function zt(){Ct(),W(t),Xt(),j(t)}Ft.prepFn=function(e,r,n){var i=Ft.dragmode,l=t._fullLayout.dragmode;l!==i&&(Ft.dragmode=l),mt(),ht=t._fullLayout._invScaleX,gt=t._fullLayout._invScaleY,ot||(vt?e.shiftKey?"pan"===l?l="zoom":m(l)||(l="pan"):e.ctrlKey&&(l="pan"):l="pan"),x(l)?Ft.minDrag=1:Ft.minDrag=void 0,m(l)?(Ft.xaxes=$,Ft.yaxes=Q,A(e,r,n,Ft,l)):(Ft.clickFn=Nt,m(i)&&It(),ot||("zoom"===l?(Ft.moveFn=Et,Ft.doneFn=zt,Ft.minDrag=1,function(e,r,n){var i=yt.getBoundingClientRect();kt=r-i.left,bt=n-i.top,t._fullLayout._calcInverseTransform(t);var l=a.apply3DTransform(t._fullLayout._invTransform)(kt,bt);kt=l[0],bt=l[1],Mt={l:kt,r:kt,w:0,t:bt,b:bt,h:0},wt=t._hmpixcount?t._hmlumcount/t._hmpixcount:o(t._fullLayout.plot_bgcolor).getLuminance(),Lt=!1,Tt="xy",Ot=!1,St=G(pt,wt,q,J,At="M0,0H"+tt+"V"+et+"H0V0"),Dt=B(pt,q,J)}(0,r,n)):"pan"===l&&(Ft.moveFn=Ht,Ft.doneFn=Xt))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===yt){var r=t._fullLayout.dragmode;m(r)||(mt(),Kt([0,0,tt,et]),Ft.moveFn(e.dx,e.dy))}}},v.init(Ft);var Rt=[0,0,tt,et],Pt=null,Gt=D.REDRAWDELAY,Bt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function Ht(e,r){if(e*=ht,r*=gt,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===at||"ns"===it){var n=at?-e:0,a=it?-r:0;if(nt.isSubplotConstrained){if(at&&it){var i=(e/tt-r/et)/2;n=-(e=i*tt),a=-(r=-i*et)}it?n=-a*tt/et:a=-n*et/tt}return at&&(R($,e),Zt("x")),it&&(R(Q,r),Zt("y")),Kt([n,a,tt,et]),Wt(),void t.emit("plotly_relayouting",dt)}var o,l,s="w"===at===("n"===it)?1:-1;if(at&&it&&(rt.isSubplotConstrained||nt.isSubplotConstrained)){var c=(e/tt+s*r/et)/2;e=c*tt,r=s*c*et}if("w"===at?e=h($,0,e):"e"===at?e=h($,1,-e):at||(e=0),"n"===it?r=h(Q,1,r):"s"===it?r=h(Q,0,-r):it||(r=0),o="w"===at?e:0,l="n"===it?r:0,rt.isSubplotConstrained&&!nt.isSubplotConstrained||nt.isSubplotConstrained&&at&&it&&s>0){var u;if(nt.isSubplotConstrained||!at&&1===it.length){for(u=0;u<$.length;u++)$[u].range=$[u]._r.slice(),S($[u],1-r/et);o=(e=r*tt/et)/2}if(nt.isSubplotConstrained||!it&&1===at.length){for(u=0;u<Q.length;u++)Q[u].range=Q[u]._r.slice(),S(Q[u],1-e/tt);l=(r=e*et/tt)/2}}nt.isSubplotConstrained&&it||Zt("x"),nt.isSubplotConstrained&&at||Zt("y");var f=tt-e,d=et-r;!nt.isSubplotConstrained||at&&it||(at?(l=o?0:e*et/tt,d=f*et/tt):(o=l?0:r*tt/et,f=d*tt/et)),Kt([o,l,f,d]),Wt(),t.emit("plotly_relayouting",dt)}function h(t,e,r){for(var n,a,i=1-e,o=0;o<t.length;o++){var l=t[o];if(!l.fixedrange){n=l,a=l._rl[i]+(l._rl[e]-l._rl[i])/P(r/l._length);var s=l.l2r(a);!1!==s&&void 0!==s&&(l.range[e]=s)}}return n._length*(n._rl[e]-a)/(n._rl[e]-n._rl[i])}}function Zt(t,e){for(var r=nt.isSubplotConstrained?{x:Q,y:$}[t]:nt[t+"axes"],n=nt.isSubplotConstrained?{x:$,y:Q}[t]:[],a=0;a<r.length;a++){var i=r[a],o=i._id,l=nt.xLinks[o]||nt.yLinks[o],s=n[0]||Z[l]||V[l];s&&(e?(e[i._name+".range[0]"]=e[s._name+".range[0]"],e[i._name+".range[1]"]=e[s._name+".range[1]"]):i.range=s.range.slice())}}function Wt(){var e,r=[];function n(t){for(e=0;e<t.length;e++)t[e].fixedrange||r.push(t[e]._id)}for(lt&&(n($),n(rt.xaxes),n(nt.xaxes)),st&&(n(Q),n(rt.yaxes),n(nt.yaxes)),dt={},e=0;e<r.length;e++){var a=r[e],i=w(t,a);g.drawOne(t,i,{skipTitle:!0}),dt[i._name+".range[0]"]=i.range[0],dt[i._name+".range[1]"]=i.range[1]}g.redrawComponents(t,r)}function jt(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,r=[];at&&(r=r.concat($)),it&&(r=r.concat(Q)),nt.xaxes&&(r=r.concat(nt.xaxes)),nt.yaxes&&(r=r.concat(nt.yaxes));var n,a,i,o={};if("reset+autosize"===e)for(e="autosize",a=0;a<r.length;a++)if((n=r[a])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){e="reset";break}if("autosize"===e)for(a=0;a<r.length;a++)(n=r[a]).fixedrange||(o[n._name+".autorange"]=!0);else if("reset"===e)for((at||rt.isSubplotConstrained)&&(r=r.concat(rt.xaxes)),it&&!rt.isSubplotConstrained&&(r=r.concat(rt.yaxes)),rt.isSubplotConstrained&&(at?it||(r=r.concat(Q)):r=r.concat($)),a=0;a<r.length;a++)(n=r[a]).fixedrange||(n._rangeInitial?(i=n._rangeInitial,o[n._name+".range[0]"]=i[0],o[n._name+".range[1]"]=i[1]):o[n._name+".autorange"]=!0);t.emit("plotly_doubleclick",null),s.call("_guiRelayout",t,o)}}function Xt(){Kt([0,0,tt,et]),a.syncOrAsync([M.previousPromises,function(){t._fullLayout._replotting=!1,s.call("_guiRelayout",t,dt)}],t)}function Kt(e){var r,n,i,o,l=t._fullLayout,c=l._plots,u=l._subplots.cartesian;if(ut&&s.subplotsRegistry.splom.drag(t),ct)for(r=0;r<u.length;r++)if(i=(n=c[u[r]]).xaxis,o=n.yaxis,n._scene){var f=a.simpleMap(i.range,i.r2l),h=a.simpleMap(o.range,o.r2l);n._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((ut||ct)&&(k(t),b(t)),ft){var g=e[2]/I._length,v=e[3]/N._length;for(r=0;r<u.length;r++){i=(n=c[u[r]]).xaxis,o=n.yaxis;var m,x,y,M,w=(lt||nt.isSubplotConstrained)&&!i.fixedrange&&Z[i._id],A=(st||nt.isSubplotConstrained)&&!o.fixedrange&&V[o._id];if(w?(m=g,y=_||nt.isSubplotConstrained?e[0]:Vt(i,m)):nt.xaHash[i._id]?(m=g,y=e[0]*i._length/I._length):nt.yaHash[i._id]?(m=v,y="ns"===it?-e[1]*i._length/N._length:Vt(i,m,{n:"top",s:"bottom"}[it])):y=Yt(i,m=Ut(i,g,v)),A?(x=v,M=p||nt.isSubplotConstrained?e[1]:Vt(o,x)):nt.yaHash[o._id]?(x=v,M=e[1]*o._length/N._length):nt.xaHash[o._id]?(x=g,M="ew"===at?-e[0]*o._length/I._length:Vt(o,x,{e:"right",w:"left"}[at])):M=Yt(o,x=Ut(o,g,v)),m||x){m||(m=1),x||(x=1);var L=i._offset-y/m,T=o._offset-M/x;n.clipRect.call(d.setTranslate,y,M).call(d.setScale,m,x),n.plot.call(d.setTranslate,L,T).call(d.setScale,1/m,1/x),m===n.xScaleFactor&&x===n.yScaleFactor||(d.setPointGroupScale(n.zoomScalePts,m,x),d.setTextPointsScale(n.zoomScaleTxt,m,x)),d.hideOutsideRangePoints(n.clipOnAxisFalseTraces,n),n.xScaleFactor=m,n.yScaleFactor=x}}}}function Ut(t,e,r){return t.fixedrange?0:lt&&rt.xaHash[t._id]?e:st&&(rt.isSubplotConstrained?rt.xaHash:rt.yaHash)[t._id]?r:0}function Yt(t,e){return e?(t.range=t._r.slice(),S(t,e),Vt(t,e)):0}function Vt(t,e,r){return t._length*(1-e)*y[r||t.constraintoward||"middle"]}return p.length*_.length!==1&&U(yt,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(It(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();mt(),clearTimeout(Pt);var r=-e.deltaY;if(isFinite(r)||(r=e.wheelDelta/10),isFinite(r)){var n,i=Math.exp(-Math.min(Math.max(r,-20),20)/200),o=Bt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-o.left)/o.width,s=(o.bottom-e.clientY)/o.height;if(lt){for(_||(l=.5),n=0;n<$.length;n++)c($[n],l,i);Zt("x"),Rt[2]*=i,Rt[0]+=Rt[2]*l*(1/i-1)}if(st){for(p||(s=.5),n=0;n<Q.length;n++)c(Q[n],s,i);Zt("y"),Rt[3]*=i,Rt[1]+=Rt[3]*(1-s)*(1/i-1)}Kt(Rt),Wt(),t.emit("plotly_relayouting",dt),Pt=setTimeout((function(){t._fullLayout&&(Rt=[0,0,tt,et],Xt())}),Gt),e.preventDefault()}else a.log("Did not find wheel motion attributes: ",e)}function c(t,e,r){if(!t.fixedrange){var n=a.simpleMap(t.range,t.r2l),i=n[0]+(n[1]-n[0])*e;t.range=n.map((function(e){return t.l2r(i+(e-i)*r)}))}}})),yt},makeDragger:N,makeRectDragger:E,makeZoombox:G,makeCorners:B,updateZoombox:H,xyCorners:X,transitionZoombox:Z,removeZoombox:W,showDoubleClickNotifier:j,attachWheelEventHandler:U}},9636:function(t,e,r){var n=r(62258),a=r(21661),i=r(52783),o=r(82559),l=r(15696).makeDragBox,s=r(56890).DRAGGERSIZE;e.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot)n.select(t).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort((function(t,e){if((r._plots[t].mainplot&&!0)===(r._plots[e].mainplot&&!0)){var n=t.split("y"),a=e.split("y");return n[0]===a[0]?Number(n[1]||1)-Number(a[1]||1):Number(n[0]||1)-Number(a[0]||1)}return r._plots[t].mainplot?1:-1})).forEach((function(e){var n=r._plots[e],o=n.xaxis,c=n.yaxis;if(!n.mainplot){var u=l(t,n,o._offset,c._offset,o._length,c._length,"ns","ew");u.onmousemove=function(r){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===e&&t._fullLayout._plots[e]&&a.hover(t,r,e)},a.hover(t,r,e),t._fullLayout._lasthover=u,t._fullLayout._hoversubplot=e},u.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,i.unhover(t,e))},t._context.showAxisDragHandles&&(l(t,n,o._offset-s,c._offset-s,s,s,"n","w"),l(t,n,o._offset+o._length,c._offset-s,s,s,"n","e"),l(t,n,o._offset-s,c._offset+c._length,s,s,"s","w"),l(t,n,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(t._context.showAxisDragHandles){if(e===o._mainSubplot){var f=o._mainLinePosition;"top"===o.side&&(f-=s),l(t,n,o._offset+.1*o._length,f,.8*o._length,s,"","ew"),l(t,n,o._offset,f,.1*o._length,s,"","w"),l(t,n,o._offset+.9*o._length,f,.1*o._length,s,"","e")}if(e===c._mainSubplot){var d=c._mainLinePosition;"right"!==c.side&&(d-=s),l(t,n,d,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(t,n,d,c._offset+.9*c._length,s,.1*c._length,"s",""),l(t,n,d,c._offset,s,.1*c._length,"n","")}}}));var o=r._hoverlayer.node();o.onmousemove=function(e){e.target=t._fullLayout._lasthover,a.hover(t,e,r._hoversubplot)},o.onclick=function(e){e.target=t._fullLayout._lasthover,a.click(t,e)},o.onmousedown=function(e){t._fullLayout._lasthover.onmousedown(e)},e.updateFx(t)}},e.updateFx=function(t){var e=t._fullLayout,r="pan"===e.dragmode?"move":"crosshair";o(e._draggers,r)}},75152:function(t){t.exports={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearSelect:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},77942:function(t,e,r){var n=r(47401).strTranslate;function a(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}t.exports={p2r:a,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(r){return a(t,r[e])}},getTransform:function(t){return n(t.xaxis._offset,t.yaxis._offset)}}}}]);