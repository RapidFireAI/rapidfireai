{"version":3,"file":"static/js/7443.0fd0f384.chunk.js","mappings":"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","sources":["experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelPageWrapper.tsx","experiment-tracking/components/EntitySearchAutoComplete.tsx","shared/web-shared/hooks/useResizableMaxWidth.ts","experiment-tracking/components/experiment-page/hooks/useExperimentViewLocalStore.ts","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelListPageMode.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageAutoComplete.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageDatasetDropdown.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageOrderBySelector.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageGroupBySelector.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageControls.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelsChartsData.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelsChartsUIState.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListCharts.tsx","common/hooks/useMemoDeep.ts","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelAllMetricsByDataset.tsx","experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelListPage.tsx","experiment-tracking/components/experiment-page/components/runs/ExperimentViewRunsTableResizer.tsx","experiment-tracking/components/EntitySearchAutoComplete.utils.tsx","experiment-tracking/hooks/logged-models/useRelatedRunsDataForLoggedModels.tsx","common/hooks/useArrayMemo.ts"],"sourcesContent":["import { UserActionErrorHandler } from '@databricks/web-shared/metrics';\nimport { QueryClient, QueryClientProvider } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { DangerIcon, Empty, PageWrapper } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\n\nconst PageFallback = ({ error }: { error?: Error }) => {\n  return (\n    <PageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Error\"\n            description=\"Title for error fallback component in prompts management UI\"\n          />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in prompts management UI\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </PageWrapper>\n  );\n};\n\n/**\n * Wrapper for all experiment logged model pages.\n * Provides error boundaries and user action error handling.\n */\nexport const ExperimentLoggedModelPageWrapper = ({\n  children,\n  resetKey,\n}: {\n  children: React.ReactNode;\n  resetKey?: unknown;\n}) => {\n  return (\n    <ErrorBoundary FallbackComponent={PageFallback} resetKeys={[resetKey]}>\n      <UserActionErrorHandler>{children}</UserActionErrorHandler>\n    </ErrorBoundary>\n  );\n};\n","import {\n  AutoComplete,\n  Button,\n  CloseIcon,\n  InfoFillIcon,\n  InfoSmallIcon,\n  Input,\n  LegacyTooltip,\n  SearchIcon,\n  Tooltip,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { ErrorWrapper } from '../../common/utils/ErrorWrapper';\nimport {\n  EntitySearchAutoCompleteEntity,\n  EntitySearchAutoCompleteOptionGroup,\n  getEntitySearchEntitiesAndIndices,\n  getFilteredOptionsFromEntityName,\n} from './EntitySearchAutoComplete.utils';\nimport { shouldEnableMinMaxMetricsOnExperimentPage } from '../../common/utils/FeatureUtils';\nimport {\n  createQuickRegexpSearchFilter,\n  detectSqlSyntaxInSearchQuery,\n} from './experiment-page/utils/experimentPage.fetch-utils';\nimport { FormattedMessage } from 'react-intl';\nimport { isEqual } from 'lodash';\nimport { useExperimentViewLocalStore } from './experiment-page/hooks/useExperimentViewLocalStore';\n\nconst TOOLTIP_COOKIE_KEY = 'tooltipLastPopup';\nconst WEEK_IN_SECONDS = 604800;\n\nexport type EntitySearchAutoCompleteCompleteProps = {\n  baseOptions: EntitySearchAutoCompleteOptionGroup[];\n  searchFilter: string;\n  onSearchFilterChange: (newValue: string) => void;\n  onClear: () => void;\n  requestError?: ErrorWrapper | Error | null;\n  tooltipContent?: React.ReactNode;\n  placeholder?: string;\n  useQuickFilter?: boolean;\n  defaultActiveFirstOption?: boolean;\n  className?: string;\n};\n\n/**\n * Autocomplete component that provides suggestions for MLflow search entity names.\n */\nexport const EntitySearchAutoComplete = ({\n  baseOptions,\n  searchFilter,\n  requestError = null,\n  onSearchFilterChange,\n  onClear,\n  tooltipContent,\n  placeholder,\n  useQuickFilter,\n  defaultActiveFirstOption = true,\n  className,\n}: EntitySearchAutoCompleteCompleteProps) => {\n  const { theme, getPrefixedClassName } = useDesignSystemTheme();\n\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const intl = useIntl();\n\n  const [text, setText] = useState<string>('');\n  const [autocompleteEnabled, setAutocompleteEnabled] = useState<boolean | undefined>(undefined);\n  const [focused, setFocused] = useState(false);\n  const onFocus = () => setFocused(true);\n  const onBlur = () => setFocused(false);\n  // Determines whether the text was changed by making a selection in the autocomplete\n  // dialog, as opposed to by typing.\n  const [lastSetBySelection, setLastSetBySelection] = useState(false);\n\n  // How many suggestions should be shown per entity group before the group is ellipsized.\n  const [suggestionLimits, setSuggestionLimits] = useState({\n    Metrics: 10,\n    Parameters: 10,\n    Tags: 10,\n  });\n  // List of entities parsed from `text`.\n  const currentEntitiesRef = useRef<EntitySearchAutoCompleteEntity[]>([]);\n  const [entityBeingEdited, setEntityBeingEdited] = useState<EntitySearchAutoCompleteEntity | undefined>(undefined);\n\n  // Each time we're setting search filter externally, update it here as well\n  useEffect(() => {\n    setText(searchFilter);\n  }, [searchFilter]);\n\n  useEffect(() => {\n    const previousEntities = currentEntitiesRef.current;\n    const newEntities = getEntitySearchEntitiesAndIndices(text);\n    currentEntitiesRef.current = newEntities;\n\n    if (lastSetBySelection) {\n      setLastSetBySelection(false);\n      return;\n    }\n    const currentEntitiesNames = newEntities.map((e) => e.name);\n    const previousEntitiesNames = previousEntities.map((e) => e.name);\n    if (!isEqual(currentEntitiesNames, previousEntitiesNames) && newEntities.length >= previousEntities.length) {\n      let i = 0;\n      while (i < newEntities.length) {\n        if (i >= previousEntities.length || newEntities[i].name.trim() !== previousEntities[i].name.trim()) {\n          setAutocompleteEnabled(true);\n          setEntityBeingEdited(newEntities[i]);\n          return;\n        }\n        i++;\n      }\n    }\n    // If here, no entity is being edited\n    setAutocompleteEnabled(false);\n    // currentEntitiesRef is not used anywhere else and state setters are safe to\n    // omit from hook dependencies as per react docs\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [text]);\n\n  const filteredOptions = useMemo(() => {\n    if (!entityBeingEdited) {\n      return [];\n    }\n    return getFilteredOptionsFromEntityName(baseOptions, entityBeingEdited, suggestionLimits);\n  }, [baseOptions, entityBeingEdited, suggestionLimits]);\n\n  /**\n   * Called when an option is picked from the autocomplete dropdown, either by hitting enter\n   * when selected, or clicking on it\n   * @param value\n   */\n  const onSelect = useCallback(\n    (value: string, option: any) => {\n      if (!entityBeingEdited) {\n        return;\n      }\n      if (value.startsWith('...')) {\n        // Keep the dialog open as this is not a real selection\n        setAutocompleteEnabled(true);\n        const groupName = option.value.split('_')[1];\n        setSuggestionLimits((prevSuggestionLimits) => ({\n          ...prevSuggestionLimits,\n          [groupName]: (prevSuggestionLimits as any)[groupName] + 10,\n        }));\n      } else {\n        const prefix = text.substring(0, entityBeingEdited.startIndex);\n        const suffix = text.substring(entityBeingEdited.endIndex);\n        setText(prefix + value + ' ' + suffix);\n        setLastSetBySelection(true);\n        setAutocompleteEnabled(false);\n      }\n    },\n    [text, setText, entityBeingEdited, setAutocompleteEnabled],\n  );\n\n  const localStorageInstance = useExperimentViewLocalStore(TOOLTIP_COOKIE_KEY);\n\n  const [showTooltipOnError, setShowTooltipOnError] = useState(() => {\n    const currentTimeSecs = Math.floor(Date.now() / 1000);\n    const storedItem = localStorageInstance.getItem(TOOLTIP_COOKIE_KEY);\n    // Show tooltip again if it was last shown 1 week ago or older\n    return !storedItem || parseInt(storedItem, 10) < currentTimeSecs - WEEK_IN_SECONDS;\n  });\n  const tooltipIcon = React.useRef<HTMLButtonElement>(null);\n\n  const quickRegexpFilter = useMemo(() => {\n    if (useQuickFilter && text.length > 0 && !detectSqlSyntaxInSearchQuery(text)) {\n      return createQuickRegexpSearchFilter(text);\n    }\n    return undefined;\n  }, [text, useQuickFilter]);\n\n  // If requestError has changed and there is an error, pop up the tooltip\n  useEffect(() => {\n    if (requestError && showTooltipOnError) {\n      const currentTimeSecs = Math.floor(Date.now() / 1000);\n      localStorageInstance.setItem(TOOLTIP_COOKIE_KEY, currentTimeSecs);\n      setShowTooltipOnError(false);\n      tooltipIcon.current?.click();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [requestError]);\n\n  const noMatches = filteredOptions.flatMap((o) => o.options).length === 0;\n  const open = autocompleteEnabled && focused && !noMatches;\n\n  // Callback fired when key is pressed on the input\n  const triggerSearch: React.KeyboardEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      // Get the class name for the active item in the dropdown\n      const activeItemClass = getPrefixedClassName('select-item-option-active');\n      const dropdownContainsActiveItem = Boolean(dropdownRef.current?.querySelector(`.${activeItemClass}`));\n\n      if (e.key === 'Enter') {\n        // If the autocomplete dialog is open, close it\n        if (open) {\n          setAutocompleteEnabled(false);\n        }\n        // If the autocomplete dialog is closed or user didn't select any item, trigger search\n        if (!open || !dropdownContainsActiveItem) {\n          onSearchFilterChange(text);\n        }\n      }\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        if (open) {\n          setAutocompleteEnabled(false);\n        }\n      }\n    },\n    [open, text, onSearchFilterChange, getPrefixedClassName],\n  );\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        gap: theme.spacing.sm,\n        width: 430,\n        [theme.responsive.mediaQueries.xs]: {\n          width: 'auto',\n        },\n      }}\n      className={className}\n    >\n      <AutoComplete\n        dropdownMatchSelectWidth={560}\n        css={{\n          width: 560,\n          [theme.responsive.mediaQueries.xs]: {\n            width: 'auto',\n          },\n        }}\n        defaultOpen={false}\n        defaultActiveFirstOption={defaultActiveFirstOption && !useQuickFilter}\n        open={open}\n        options={filteredOptions}\n        onSelect={onSelect}\n        value={text}\n        data-testid=\"runs-search-autocomplete\"\n        dropdownRender={(menu) => (\n          <div\n            css={{\n              '.du-bois-light-select-item-option-active:not(.du-bois-light-select-item-option-disabled)': {\n                // TODO: ask the design team about the color existing in the palette\n                backgroundColor: '#e6f1f5',\n              },\n            }}\n            ref={dropdownRef}\n          >\n            {menu}\n          </div>\n        )}\n      >\n        <Input\n          componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_236\"\n          value={text}\n          prefix={\n            <SearchIcon\n              css={{\n                svg: {\n                  width: theme.general.iconFontSize,\n                  height: theme.general.iconFontSize,\n                  color: theme.colors.textSecondary,\n                },\n              }}\n            />\n          }\n          onKeyDown={triggerSearch}\n          onClick={onFocus}\n          onBlur={onBlur}\n          onChange={(e) => setText(e.target.value)}\n          placeholder={placeholder}\n          data-testid=\"search-box\"\n          suffix={\n            <div css={{ display: 'flex', gap: 4, alignItems: 'center' }}>\n              {text && (\n                <Button\n                  componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_212\"\n                  onClick={() => {\n                    onClear();\n                    setText('');\n                  }}\n                  type=\"link\"\n                  data-testid=\"clear-button\"\n                >\n                  <CloseIcon />\n                </Button>\n              )}\n              {quickRegexpFilter ? (\n                <Tooltip\n                  componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_310\"\n                  content={\n                    <FormattedMessage\n                      defaultMessage=\"Using regular expression quick filter. The following query will be used: {filterSample}\"\n                      description=\"Experiment page > control bar > search filter > a label displayed when user has entered a simple query that will be automatically transformed into RLIKE SQL query before being sent to the API\"\n                      values={{\n                        filterSample: (\n                          <div>\n                            <code>{quickRegexpFilter}</code>\n                          </div>\n                        ),\n                      }}\n                    />\n                  }\n                  delayDuration={0}\n                >\n                  <InfoFillIcon\n                    aria-label={intl.formatMessage(\n                      {\n                        defaultMessage:\n                          'Using regular expression quick filter. The following query will be used: {filterSample}',\n                        description:\n                          'Experiment page > control bar > search filter > a label displayed when user has entered a simple query that will be automatically transformed into RLIKE SQL query before being sent to the API',\n                      },\n                      {\n                        filterSample: quickRegexpFilter,\n                      },\n                    )}\n                    css={{\n                      svg: {\n                        width: theme.general.iconFontSize,\n                        height: theme.general.iconFontSize,\n                        color: theme.colors.actionPrimaryBackgroundDefault,\n                      },\n                    }}\n                  />\n                </Tooltip>\n              ) : (\n                <LegacyTooltip\n                  title={tooltipContent}\n                  placement=\"right\"\n                  dangerouslySetAntdProps={{\n                    overlayInnerStyle: { width: '150%' },\n                    trigger: ['focus', 'click'],\n                  }}\n                >\n                  <Button\n                    size=\"small\"\n                    ref={tooltipIcon}\n                    componentId=\"mlflow.experiment_page.search_filter.tooltip\"\n                    type=\"link\"\n                    css={{ marginLeft: -theme.spacing.xs, marginRight: -theme.spacing.xs }}\n                    icon={\n                      <InfoSmallIcon\n                        css={{\n                          svg: {\n                            width: theme.general.iconFontSize,\n                            height: theme.general.iconFontSize,\n                            color: theme.colors.textSecondary,\n                          },\n                        }}\n                      />\n                    }\n                  />\n                </LegacyTooltip>\n              )}\n            </div>\n          }\n        />\n      </AutoComplete>\n    </div>\n  );\n};\n","import { MutableRefObject, useCallback, useLayoutEffect, useRef, useState } from 'react';\n\nexport function useResizableMaxWidth(minWidth: number) {\n  const ref: MutableRefObject<HTMLDivElement | null> = useRef<HTMLDivElement>(null);\n  const [containerWidth, setContainerWidth] = useState<number | undefined>(undefined);\n\n  const updateWidth = useCallback(() => {\n    if (ref.current) {\n      setContainerWidth(ref.current.clientWidth);\n    }\n  }, []);\n\n  useLayoutEffect(() => {\n    updateWidth();\n    window.addEventListener('resize', updateWidth);\n    return () => window.removeEventListener('resize', updateWidth);\n  }, [updateWidth]);\n\n  const refCallback = useCallback(\n    (node: HTMLDivElement) => {\n      ref.current = node;\n      updateWidth();\n    },\n    [updateWidth],\n  );\n\n  const resizableMaxWidth = containerWidth === undefined ? undefined : containerWidth - minWidth;\n  return { resizableMaxWidth, ref: refCallback };\n}\n","import { useMemo } from 'react';\nimport LocalStorageUtils from '../../../../common/utils/LocalStorageUtils';\n\n/**\n * This hook returns a memoized version of persistable store namespaced for the ExperimentView.\n * It can serve as a store for persisting state for a particular experiment - in this case,\n * the experiment id should be provided as a `identifier` parameter. It can also serve as a store for some\n * general purpose - e.g. you can provide \"onboarding\" as a identifier to get a store specific\n * for the onboarding section of the experiment view.\n *\n * @param storeIdentifier a unique identifier of created store - can be an experiment id or a general purpose name\n */\nexport const useExperimentViewLocalStore = (storeIdentifier: string) =>\n  useMemo(() => LocalStorageUtils.getStoreForComponent('ExperimentView', storeIdentifier), [storeIdentifier]);\n","import { coerceToEnum } from '@databricks/web-shared/utils';\nimport { useSearchParams } from '../../../../common/utils/RoutingUtils';\n\nexport enum ExperimentLoggedModelListPageMode {\n  TABLE = 'TABLE',\n  CHART = 'CHART',\n}\n\nconst VIEW_MODE_QUERY_PARAM = 'viewMode';\n\nexport const useExperimentLoggedModelListPageMode = () => {\n  const [params, setParams] = useSearchParams();\n  const viewMode = coerceToEnum(\n    ExperimentLoggedModelListPageMode,\n    params.get(VIEW_MODE_QUERY_PARAM),\n    ExperimentLoggedModelListPageMode.TABLE,\n  );\n  const setViewMode = (mode: ExperimentLoggedModelListPageMode) => {\n    setParams({ [VIEW_MODE_QUERY_PARAM]: mode });\n  };\n  return { viewMode, setViewMode } as const;\n};\n","import { FormattedMessage } from 'react-intl';\nimport { EntitySearchAutoComplete } from '../EntitySearchAutoComplete';\nimport { LoggedModelProto } from '../../types';\nimport { useMemo } from 'react';\nimport {\n  EntitySearchAutoCompleteEntityNameGroup,\n  getEntitySearchOptionsFromEntityNames,\n} from '../EntitySearchAutoComplete.utils';\nimport { isUserFacingTag } from '../../../common/utils/TagUtils';\n\nconst getEntityNamesFromLoggedModelsData = (\n  loggedModels: LoggedModelProto[],\n): EntitySearchAutoCompleteEntityNameGroup => {\n  const metricNames = new Set<string>();\n  const paramNames = new Set<string>();\n  const tagNames = new Set<string>();\n\n  for (const loggedModel of loggedModels) {\n    loggedModel.data?.metrics?.forEach((metric) => metric.key && metricNames.add(metric.key));\n    loggedModel.data?.params?.forEach((param) => param.key && paramNames.add(param.key));\n    loggedModel.info?.tags?.forEach((tag) => tag.key && tagNames.add(tag.key));\n  }\n\n  return {\n    metricNames: Array.from(metricNames),\n    paramNames: Array.from(paramNames),\n    tagNames: Array.from(tagNames).filter(isUserFacingTag),\n  };\n};\n\nconst VALID_FILTER_ATTRIBUTES = [\n  'model_id',\n  'model_name',\n  'status',\n  'artifact_uri',\n  'creation_time',\n  'last_updated_time',\n];\n\nexport const ExperimentLoggedModelListPageAutoComplete = ({\n  searchQuery,\n  onChangeSearchQuery,\n  loggedModelsData,\n}: {\n  searchQuery?: string;\n  onChangeSearchQuery: (searchFilter: string) => void;\n  loggedModelsData: LoggedModelProto[];\n}) => {\n  const options = useMemo(() => {\n    const entityNames = getEntityNamesFromLoggedModelsData(loggedModelsData);\n    const validAttributeOptions = VALID_FILTER_ATTRIBUTES.map((attribute) => ({\n      value: `attributes.${attribute}`,\n    }));\n    return getEntitySearchOptionsFromEntityNames(entityNames, validAttributeOptions);\n  }, [loggedModelsData]);\n\n  return (\n    <EntitySearchAutoComplete\n      searchFilter={searchQuery ?? ''}\n      onSearchFilterChange={onChangeSearchQuery}\n      defaultActiveFirstOption={false}\n      baseOptions={options}\n      onClear={() => onChangeSearchQuery('')}\n      placeholder=\"metrics.rmse >= 0.8\"\n      tooltipContent={\n        <div>\n          <FormattedMessage\n            defaultMessage=\"Search logged models using a simplified version of the SQL {whereBold} clause.\"\n            description=\"Tooltip string to explain how to search logged models from the listing page\"\n            values={{ whereBold: <b>WHERE</b> }}\n          />{' '}\n          <br />\n          <FormattedMessage\n            defaultMessage=\"Examples:\"\n            description=\"Text header for examples of logged models search syntax\"\n          />\n          <br />\n          {' metrics.rmse >= 0.8'}\n          <br />\n          {' metrics.`f1 score` < 1'}\n          <br />\n           params.type = 'tree'\n          <br />\n           tags.my_tag = 'foobar'\n          <br />\n           attributes.name = 'elasticnet'\n          <br />\n        </div>\n      }\n    />\n  );\n};\n","import {\n  Button,\n  ChevronDownIcon,\n  DialogCombobox,\n  DialogComboboxContent,\n  DialogComboboxCountBadge,\n  DialogComboboxCustomButtonTriggerWrapper,\n  DialogComboboxOptionList,\n  DialogComboboxOptionListCheckboxItem,\n  TableIcon,\n  useDesignSystemTheme,\n  XCircleFillIcon,\n} from '@databricks/design-system';\nimport { useMemo, useRef } from 'react';\nimport type { LoggedModelMetricDataset, LoggedModelProto } from '../../types';\nimport { useIntl } from 'react-intl';\n\nconst getDatasetHash = (dataset: LoggedModelMetricDataset) =>\n  JSON.stringify([dataset.dataset_name, dataset.dataset_digest]);\n\nexport const ExperimentLoggedModelListPageDatasetDropdown = ({\n  loggedModelsData,\n  selectedFilterDatasets,\n  onToggleDataset,\n  onClearSelectedDatasets,\n}: {\n  loggedModelsData: LoggedModelProto[];\n  selectedFilterDatasets?: LoggedModelMetricDataset[];\n  onToggleDataset?: (dataset: LoggedModelMetricDataset) => void;\n  onClearSelectedDatasets?: () => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const intl = useIntl();\n\n  const cachedDatasets = useRef<Map<string, { hash: string } & LoggedModelMetricDataset>>(new Map());\n\n  // Get all datasets with their hashes, also store them in an aggregated map.\n  // The hash is used as a unique key and also being fed to DialogCombobox since it exclusively uses string values.\n  // The map is used to aggregate all datasets encountered in the logged models data during the session.\n  const allDatasets = useMemo(() => {\n    for (const model of loggedModelsData) {\n      for (const metric of model.data?.metrics || []) {\n        if (!metric.dataset_name || !metric.dataset_digest) {\n          continue;\n        }\n        const datasetHash = getDatasetHash(metric);\n        if (!cachedDatasets.current.has(datasetHash)) {\n          // We're purposely using mutable hashmap in the memo hook\n          cachedDatasets.current.set(datasetHash, {\n            hash: datasetHash,\n            dataset_name: metric.dataset_name,\n            dataset_digest: metric.dataset_digest,\n          });\n        }\n      }\n    }\n    return Array.from(cachedDatasets.current.values());\n  }, [loggedModelsData]);\n\n  // Serialize the selected datasets to a string format for the DialogCombobox.\n  const serializedSelectedDatasets = useMemo(\n    () => selectedFilterDatasets?.map(getDatasetHash) || [],\n    [selectedFilterDatasets],\n  );\n\n  return (\n    <DialogCombobox\n      componentId=\"mlflow.logged_model.list_page.datasets_filter\"\n      id=\"mlflow.logged_model.list_page.datasets_filter\"\n      value={serializedSelectedDatasets}\n      label={intl.formatMessage({\n        defaultMessage: 'Datasets',\n        description: 'Label for the datasets filter dropdown in the logged model list page',\n      })}\n      stayOpenOnSelection\n    >\n      <DialogComboboxCustomButtonTriggerWrapper>\n        <Button\n          endIcon={<ChevronDownIcon />}\n          componentId=\"mlflow.logged_model.list_page.datasets_filter.toggle\"\n          icon={<TableIcon />}\n        >\n          Datasets\n          {serializedSelectedDatasets.length > 0 ? (\n            <>\n              <DialogComboboxCountBadge css={{ marginLeft: 4 }}>\n                {serializedSelectedDatasets.length}\n              </DialogComboboxCountBadge>\n              <XCircleFillIcon\n                aria-hidden=\"false\"\n                role=\"button\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  e.preventDefault();\n                  onClearSelectedDatasets?.();\n                }}\n                css={{\n                  color: theme.colors.textPlaceholder,\n                  fontSize: theme.typography.fontSizeSm,\n                  marginLeft: theme.spacing.xs,\n\n                  ':hover': {\n                    color: theme.colors.actionTertiaryTextHover,\n                  },\n                }}\n              />\n            </>\n          ) : null}\n        </Button>\n      </DialogComboboxCustomButtonTriggerWrapper>\n      <DialogComboboxContent>\n        <DialogComboboxOptionList>\n          {allDatasets.map(({ hash: serializedDataset, dataset_digest, dataset_name }) => (\n            <DialogComboboxOptionListCheckboxItem\n              value={serializedDataset}\n              checked={serializedSelectedDatasets.includes(serializedDataset)}\n              key={serializedDataset}\n              onChange={() => onToggleDataset?.({ dataset_digest, dataset_name })}\n            >\n              {dataset_name} (#{dataset_digest})\n            </DialogComboboxOptionListCheckboxItem>\n          ))}\n        </DialogComboboxOptionList>\n      </DialogComboboxContent>\n    </DialogCombobox>\n  );\n};\n","import {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  Button,\n  DropdownMenu,\n  Input,\n  SearchIcon,\n  SortAscendingIcon,\n  SortDescendingIcon,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useMemo, useState } from 'react';\n\nimport { defineMessage, FormattedMessage, IntlShape, MessageDescriptor, useIntl } from 'react-intl';\nimport { ToggleIconButton } from '../../../common/components/ToggleIconButton';\nimport {\n  ExperimentLoggedModelListPageKnownColumns,\n  LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX,\n  parseLoggedModelMetricOrderByColumnId,\n} from './hooks/useExperimentLoggedModelListPageTableColumns';\n\ninterface BasicColumnDef {\n  colId?: string;\n  groupId?: string;\n  headerName?: string;\n  children?: BasicColumnDef[];\n}\n\nconst getSortableColumnLabel = (colId: string | ExperimentLoggedModelListPageKnownColumns, intl: IntlShape) => {\n  const labels: Partial<Record<ExperimentLoggedModelListPageKnownColumns | string, MessageDescriptor>> = {\n    [ExperimentLoggedModelListPageKnownColumns.CreationTime]: defineMessage({\n      defaultMessage: 'Creation time',\n      description: 'Label for the creation time column in the logged model list page',\n    }),\n  };\n\n  const descriptor = labels[colId];\n\n  if (descriptor) {\n    return intl.formatMessage(descriptor);\n  }\n\n  const parsedColumn = parseLoggedModelMetricOrderByColumnId(colId);\n\n  if (parsedColumn) {\n    return parsedColumn.metricKey;\n  }\n\n  return colId;\n};\n\nexport const ExperimentLoggedModelListPageOrderBySelector = ({\n  orderByColumn,\n  orderByAsc,\n  onChangeOrderBy,\n  columnDefs = [],\n}: {\n  orderByColumn: string;\n  orderByAsc?: boolean;\n  onChangeOrderBy: (orderByColumn: string, orderByAsc: boolean) => void;\n  columnDefs: BasicColumnDef[] | undefined;\n}) => {\n  const intl = useIntl();\n  const [filter, setFilter] = useState('');\n  const { theme } = useDesignSystemTheme();\n\n  const groupedOrderByOptions = useMemo<BasicColumnDef[]>(() => {\n    const lowerCaseFilter = filter.toLowerCase();\n    const attributeColumnGroup = {\n      groupId: 'attributes',\n      headerName: intl.formatMessage({\n        defaultMessage: 'Attributes',\n        description: 'Label for the attributes column group in the logged model column selector',\n      }),\n      children: [\n        {\n          colId: ExperimentLoggedModelListPageKnownColumns.CreationTime,\n          headerName: getSortableColumnLabel(ExperimentLoggedModelListPageKnownColumns.CreationTime, intl),\n        },\n      ].filter(({ headerName }) => headerName?.toLowerCase().includes(lowerCaseFilter)),\n    };\n\n    // Next, get all the dataset-grouped metric column groups\n    const metricColumnGroups = columnDefs\n      .filter((col) => col.groupId?.startsWith(LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX))\n      .map((col) => ({\n        ...col,\n        children: col.children?.filter(({ colId }) => colId?.includes(lowerCaseFilter)),\n        headerName: col.headerName\n          ? `Metrics (${col.headerName})`\n          : intl.formatMessage({\n              defaultMessage: 'Metrics',\n              description: 'Label for the ungrouped metrics column group in the logged model column selector',\n            }),\n      }));\n\n    const sortableColumnGroups = [attributeColumnGroup, ...metricColumnGroups].filter(\n      (col) => col.children && col.children.length > 0,\n    );\n\n    // If the currently used sorting field is not found, this probably means that\n    // user has filtered out results containing this column. Let's add it to the list\n    // of sortable columns so that user won't be confused.\n    if (\n      !sortableColumnGroups.some((group) => group.children && group.children.some((col) => col.colId === orderByColumn))\n    ) {\n      const { metricKey } = parseLoggedModelMetricOrderByColumnId(orderByColumn);\n\n      if (metricKey) {\n        sortableColumnGroups.push({\n          groupId: 'current',\n          headerName: intl.formatMessage({\n            defaultMessage: 'Currently sorted by',\n            description: 'Label for the custom column group in the logged model column selector',\n          }),\n          children: [{ colId: orderByColumn, headerName: metricKey }],\n        });\n      }\n    }\n    return sortableColumnGroups;\n  }, [columnDefs, intl, filter, orderByColumn]);\n\n  return (\n    <DropdownMenu.Root modal={false}>\n      <DropdownMenu.Trigger asChild>\n        <Button\n          componentId=\"mlflow.logged_model.list.order_by\"\n          icon={orderByAsc ? <SortAscendingIcon /> : <SortDescendingIcon />}\n        >\n          <FormattedMessage\n            defaultMessage=\"Sort: {sortBy}\"\n            description=\"Label for the filter button in the logged model list page. sortBy is the name of the column by which the table is currently sorted.\"\n            values={{ sortBy: getSortableColumnLabel(orderByColumn, intl) }}\n          />\n        </Button>\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Content css={{ maxHeight: 300, overflow: 'auto' }}>\n        <div\n          css={{\n            padding: `${theme.spacing.sm}px ${theme.spacing.lg / 2}px ${theme.spacing.sm}px`,\n            width: '100%',\n            display: 'flex',\n            gap: theme.spacing.xs,\n          }}\n        >\n          <Input\n            componentId=\"mlflow.logged_model.list.order_by.filter\"\n            prefix={<SearchIcon />}\n            value={filter}\n            type=\"search\"\n            onChange={(e) => setFilter(e.target.value)}\n            placeholder={intl.formatMessage({\n              defaultMessage: 'Search',\n              description: 'Placeholder for the search input in the logged model list page sort column selector',\n            })}\n            autoFocus\n            allowClear\n          />\n          <div\n            css={{\n              display: 'flex',\n              gap: theme.spacing.xs,\n            }}\n          >\n            <ToggleIconButton\n              pressed={!orderByAsc}\n              icon={<ArrowDownIcon />}\n              componentId=\"mlflow.logged_model.list.order_by.button_desc\"\n              onClick={() => onChangeOrderBy(orderByColumn, false)}\n              aria-label={intl.formatMessage({\n                defaultMessage: 'Sort descending',\n                description: 'Label for the sort descending button in the logged model list page',\n              })}\n            />\n            <ToggleIconButton\n              pressed={orderByAsc}\n              icon={<ArrowUpIcon />}\n              componentId=\"mlflow.logged_model.list.order_by.button_asc\"\n              onClick={() => onChangeOrderBy(orderByColumn, true)}\n              aria-label={intl.formatMessage({\n                defaultMessage: 'Sort ascending',\n                description: 'Label for the sort ascending button in the logged model list page',\n              })}\n            />\n          </div>\n        </div>\n\n        {groupedOrderByOptions.map(({ headerName, children, groupId }) => (\n          <DropdownMenu.Group key={groupId} aria-label={headerName}>\n            <DropdownMenu.Label>{headerName}</DropdownMenu.Label>\n            {children?.map(({ headerName: columnHeaderName, colId }) => (\n              <DropdownMenu.CheckboxItem\n                key={colId}\n                componentId=\"mlflow.logged_model.list.order_by.column_toggle\"\n                checked={orderByColumn === colId}\n                onClick={() => {\n                  if (!colId) {\n                    return;\n                  }\n                  onChangeOrderBy(colId, Boolean(orderByAsc));\n                }}\n              >\n                <DropdownMenu.ItemIndicator />\n                {columnHeaderName}\n              </DropdownMenu.CheckboxItem>\n            ))}\n          </DropdownMenu.Group>\n        ))}\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n};\n","import { Button, ChevronDownIcon, DropdownMenu, ListBorderIcon } from '@databricks/design-system';\nimport { defineMessage, FormattedMessage, type MessageDescriptor } from 'react-intl';\n\nimport { LoggedModelsTableGroupByMode } from './ExperimentLoggedModelListPageTable.utils';\n\nconst GroupByLabels: Record<LoggedModelsTableGroupByMode, MessageDescriptor> = {\n  [LoggedModelsTableGroupByMode.RUNS]: defineMessage({\n    defaultMessage: 'Source run',\n    description: 'Label for the group by runs option in the logged model list page',\n  }),\n};\n\nexport const ExperimentLoggedModelListPageGroupBySelector = ({\n  groupBy,\n  onChangeGroupBy,\n}: {\n  groupBy: LoggedModelsTableGroupByMode | undefined;\n  onChangeGroupBy?: (groupBy: LoggedModelsTableGroupByMode | undefined) => void;\n}) => {\n  const currentSelectedLabel = groupBy ? GroupByLabels[groupBy] : null;\n\n  return (\n    <DropdownMenu.Root>\n      <DropdownMenu.Trigger asChild>\n        <Button componentId=\"mlflow.logged_model.list.group_by\" icon={<ListBorderIcon />} endIcon={<ChevronDownIcon />}>\n          {currentSelectedLabel ? (\n            <FormattedMessage\n              defaultMessage=\"Group by: {currentModeSelected}\"\n              description=\"Label for the grouping selector button in the logged model list page when groupin mode is selected\"\n              values={{ currentModeSelected: <FormattedMessage {...currentSelectedLabel} /> }}\n            />\n          ) : (\n            <FormattedMessage\n              defaultMessage=\"Group by\"\n              description=\"Label for the grouping selector button in the logged model list page when no grouping is selected\"\n            />\n          )}\n        </Button>\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Content>\n        <DropdownMenu.CheckboxItem\n          checked={!groupBy}\n          componentId=\"mlflow.logged_model.list.group_by.none\"\n          onClick={() => onChangeGroupBy?.(undefined)}\n        >\n          <DropdownMenu.ItemIndicator />\n          <FormattedMessage\n            defaultMessage=\"None\"\n            description=\"Label for the button disabling grouping in the logged model list page\"\n          />\n        </DropdownMenu.CheckboxItem>\n        <DropdownMenu.CheckboxItem\n          checked={groupBy === LoggedModelsTableGroupByMode.RUNS}\n          componentId=\"mlflow.logged_model.list.group_by.runs\"\n          onClick={() => onChangeGroupBy?.(LoggedModelsTableGroupByMode.RUNS)}\n        >\n          <DropdownMenu.ItemIndicator />\n          <FormattedMessage {...GroupByLabels[LoggedModelsTableGroupByMode.RUNS]} />\n        </DropdownMenu.CheckboxItem>\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n};\n","import {\n  Button,\n  ChartLineIcon,\n  Checkbox,\n  ListIcon,\n  SegmentedControlButton,\n  SegmentedControlGroup,\n  SortAscendingIcon,\n  SortDescendingIcon,\n  Tooltip,\n  Typography,\n  useDesignSystemTheme,\n  visuallyHidden,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { FormattedMessage } from 'react-intl';\nimport type { ColDef, ColGroupDef } from '@ag-grid-community/core';\nimport { ExperimentLoggedModelListPageColumnSelector } from './ExperimentLoggedModelListPageColumnSelector';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { ExperimentLoggedModelListPageMode } from './hooks/useExperimentLoggedModelListPageMode';\nimport { ExperimentLoggedModelListPageAutoComplete } from './ExperimentLoggedModelListPageAutoComplete';\nimport { LoggedModelMetricDataset, LoggedModelProto } from '../../types';\nimport { ExperimentLoggedModelListPageDatasetDropdown } from './ExperimentLoggedModelListPageDatasetDropdown';\nimport { ExperimentLoggedModelListPageOrderBySelector } from './ExperimentLoggedModelListPageOrderBySelector';\nimport { LoggedModelsTableGroupByMode } from './ExperimentLoggedModelListPageTable.utils';\nimport { ExperimentLoggedModelListPageGroupBySelector } from './ExperimentLoggedModelListPageGroupBySelector';\nimport { shouldEnableLoggedModelsGrouping } from '../../../common/utils/FeatureUtils';\n\nexport const ExperimentLoggedModelListPageControls = ({\n  orderByColumn,\n  orderByAsc,\n  sortingAndFilteringEnabled,\n  onChangeOrderBy,\n  onUpdateColumns,\n  columnDefs,\n  columnVisibility = {},\n  viewMode,\n  setViewMode,\n  searchQuery = '',\n  onChangeSearchQuery,\n  loggedModelsData,\n  selectedFilterDatasets,\n  onToggleDataset,\n  onClearSelectedDatasets,\n  groupBy,\n  onChangeGroupBy,\n}: {\n  orderByColumn?: string;\n  orderByAsc?: boolean;\n  groupBy?: LoggedModelsTableGroupByMode;\n  onChangeGroupBy?: (groupBy: LoggedModelsTableGroupByMode | undefined) => void;\n  sortingAndFilteringEnabled?: boolean;\n  onChangeOrderBy: (orderByColumn: string, orderByAsc: boolean) => void;\n  onUpdateColumns: (columnVisibility: Record<string, boolean>) => void;\n  columnDefs?: (ColDef | ColGroupDef)[];\n  columnVisibility?: Record<string, boolean>;\n  viewMode: ExperimentLoggedModelListPageMode;\n  setViewMode: (mode: ExperimentLoggedModelListPageMode) => void;\n  searchQuery?: string;\n  onChangeSearchQuery: (searchFilter: string) => void;\n  loggedModelsData: LoggedModelProto[];\n  selectedFilterDatasets?: LoggedModelMetricDataset[];\n  onToggleDataset?: (dataset: LoggedModelMetricDataset) => void;\n  onClearSelectedDatasets?: () => void;\n}) => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'flex', flexWrap: 'wrap', gap: theme.spacing.sm }}>\n      <SegmentedControlGroup\n        componentId=\"mlflow.logged_model.list.view-mode\"\n        name=\"view-mode\"\n        value={viewMode}\n        onChange={(e) => {\n          setViewMode(\n            coerceToEnum(ExperimentLoggedModelListPageMode, e.target.value, ExperimentLoggedModelListPageMode.TABLE),\n          );\n        }}\n      >\n        <SegmentedControlButton value=\"TABLE\">\n          <Tooltip\n            componentId=\"mlflow.logged_model.list.view-mode-table-tooltip\"\n            content={intl.formatMessage({\n              defaultMessage: 'Table view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          >\n            <ListIcon />\n          </Tooltip>\n          <span css={visuallyHidden}>\n            {intl.formatMessage({\n              defaultMessage: 'Table view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          </span>\n        </SegmentedControlButton>\n        <SegmentedControlButton value=\"CHART\">\n          <Tooltip\n            componentId=\"mlflow.logged_model.list.view-mode-chart-tooltip\"\n            content={intl.formatMessage({\n              defaultMessage: 'Chart view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          >\n            <ChartLineIcon />\n          </Tooltip>\n          <span css={visuallyHidden}>\n            {intl.formatMessage({\n              defaultMessage: 'Chart view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          </span>\n        </SegmentedControlButton>\n      </SegmentedControlGroup>\n      {sortingAndFilteringEnabled ? (\n        <>\n          <ExperimentLoggedModelListPageAutoComplete\n            searchQuery={searchQuery}\n            onChangeSearchQuery={onChangeSearchQuery}\n            loggedModelsData={loggedModelsData}\n          />\n          <ExperimentLoggedModelListPageDatasetDropdown\n            loggedModelsData={loggedModelsData}\n            onToggleDataset={onToggleDataset}\n            onClearSelectedDatasets={onClearSelectedDatasets}\n            selectedFilterDatasets={selectedFilterDatasets}\n          />\n          <ExperimentLoggedModelListPageOrderBySelector\n            orderByColumn={orderByColumn ?? ''}\n            orderByAsc={orderByAsc}\n            onChangeOrderBy={onChangeOrderBy}\n            columnDefs={columnDefs}\n          />\n        </>\n      ) : (\n        <Button\n          componentId=\"mlflow.logged_model.list.sort\"\n          icon={orderByAsc ? <SortAscendingIcon /> : <SortDescendingIcon />}\n          onClick={() => {\n            orderByColumn && onChangeOrderBy(orderByColumn, !orderByAsc);\n          }}\n        >\n          <FormattedMessage\n            defaultMessage=\"Sort: Created\"\n            description=\"Label for the sort button in the logged model list page\"\n          />\n        </Button>\n      )}\n      <ExperimentLoggedModelListPageColumnSelector\n        columnDefs={columnDefs}\n        columnVisibility={columnVisibility}\n        onUpdateColumns={onUpdateColumns}\n        disabled={viewMode === ExperimentLoggedModelListPageMode.CHART}\n      />\n      {shouldEnableLoggedModelsGrouping() && (\n        <ExperimentLoggedModelListPageGroupBySelector groupBy={groupBy} onChangeGroupBy={onChangeGroupBy} />\n      )}\n    </div>\n  );\n};\n","import { compact, keyBy } from 'lodash';\nimport { useMemo } from 'react';\nimport { LoggedModelProto } from '../../../types';\nimport { getStableColorForRun } from '../../../utils/RunNameUtils';\nimport type { RunsChartsRunData } from '../../runs-charts/components/RunsCharts.common';\nimport { useExperimentLoggedModelListPageRowVisibilityContext } from './useExperimentLoggedModelListPageRowVisibility';\n\nexport const getMetricByDatasetChartDataKey = (metricKey?: string, datasetName?: string) =>\n  datasetName ? JSON.stringify([datasetName, metricKey]) : metricKey ?? '';\n\n/**\n * Creates chart-consumable data based on logged models, including metrics and parameters.\n * TODO: optimize, add unit tests\n */\nexport const useExperimentLoggedModelsChartsData = (loggedModels: LoggedModelProto[]) => {\n  const { isRowHidden } = useExperimentLoggedModelListPageRowVisibilityContext();\n  return useMemo<RunsChartsRunData[]>(\n    () =>\n      compact(\n        loggedModels.map<RunsChartsRunData | null>((model, index) =>\n          model.info?.model_id\n            ? {\n                displayName: model.info?.name ?? model.info?.model_id ?? 'Unknown',\n                images: {},\n\n                metrics: keyBy(\n                  model.data?.metrics?.map(({ dataset_name, key, value, timestamp, step }) => ({\n                    // Instead of using plain metric key, we will use specific data access key generated based on metric key and dataset\n                    dataKey: getMetricByDatasetChartDataKey(key, dataset_name),\n                    key: key ?? '',\n                    value: value ?? 0,\n                    timestamp: timestamp ?? 0,\n                    step: step ?? 0,\n                  })),\n                  'dataKey',\n                ),\n                params: keyBy(\n                  model.data?.params\n                    ?.map(({ key, value }) => ({ key: key ?? '', value: value ?? '' }))\n                    .filter(({ key }) => key) ?? [],\n                  'key',\n                ),\n                tags: {},\n                uuid: model.info.model_id,\n                hidden: isRowHidden(model.info.model_id, index),\n                color: getStableColorForRun(model.info.model_id),\n              }\n            : null,\n        ),\n      ),\n    [loggedModels, isRowHidden],\n  );\n};\n","import { useCallback, useEffect, useReducer, useState } from 'react';\nimport type { ExperimentRunsChartsUIConfiguration } from '../../experiment-page/models/ExperimentPageUIState';\nimport { ChartSectionConfig } from '../../../types';\nimport {\n  RunsChartsBarCardConfig,\n  RunsChartsCardConfig,\n  RunsChartsMetricByDatasetEntry,\n  RunsChartType,\n} from '../../runs-charts/runs-charts.types';\nimport { isEmpty, uniq } from 'lodash';\nimport { RunsChartsUIConfigurationSetter } from '../../runs-charts/hooks/useRunsChartsUIConfiguration';\n\ntype UpdateChartStateAction = { type: 'UPDATE'; stateSetter: RunsChartsUIConfigurationSetter };\ntype InitializeChartStateAction = { type: 'INITIALIZE'; initialConfig?: LoggedModelsChartsUIConfiguration };\ntype NewLoggedModelsStateAction = { type: 'METRICS_UPDATED'; metricsByDatasets: RunsChartsMetricByDatasetEntry[] };\n\ntype ChartsReducerAction = UpdateChartStateAction | NewLoggedModelsStateAction | InitializeChartStateAction;\n\ninterface LoggedModelsChartsUIConfiguration extends ExperimentRunsChartsUIConfiguration {\n  isDirty: boolean;\n}\n\nconst createLocalStorageKey = (storeIdentifier: string, version = 1) =>\n  `experiment-logged-models-charts-ui-state-v${version}-${storeIdentifier}`;\n\n/**\n * Generates a list of chart tiles based on logged models metrics and datasets.\n */\nconst getExperimentLoggedModelsPageChartSetup = (metricsByDatasets: RunsChartsMetricByDatasetEntry[]) => {\n  const compareRunCharts: RunsChartsBarCardConfig[] = metricsByDatasets.map(\n    ({ dataAccessKey, metricKey, datasetName }) => ({\n      deleted: false,\n      type: RunsChartType.BAR,\n      uuid: `autogen-${dataAccessKey}`,\n      metricSectionId: datasetName ? `autogen-${datasetName}` : 'default',\n      isGenerated: true,\n      metricKey,\n      dataAccessKey,\n      datasetName,\n      displayName: datasetName ? `(${datasetName}) ${metricKey}` : undefined,\n    }),\n  );\n\n  const compareRunSections: ChartSectionConfig[] = uniq(metricsByDatasets.map(({ datasetName }) => datasetName)).map(\n    (datasetName) => ({\n      display: true,\n      name: datasetName ?? 'Metrics',\n      uuid: datasetName ? `autogen-${datasetName}` : 'default',\n      isReordered: false,\n    }),\n  );\n\n  if (isEmpty(compareRunSections)) {\n    compareRunSections.push({\n      display: true,\n      name: 'Metrics',\n      uuid: 'default',\n      isReordered: false,\n    });\n  }\n\n  return {\n    compareRunCharts,\n    compareRunSections,\n  };\n};\n\n// Internal utility function  used to merge the current charts state with potentially incoming new charts and sections\nconst reconcileChartsAndSections = (\n  currentState: LoggedModelsChartsUIConfiguration,\n  newCharts: { compareRunCharts: RunsChartsCardConfig[]; compareRunSections: ChartSectionConfig[] },\n) => {\n  // If there are no charts / sections, or if the state is in pristine state, just set the new charts if they're not empty\n  if (!currentState.compareRunCharts || !currentState.compareRunSections || !currentState.isDirty) {\n    if (newCharts.compareRunCharts.length > 0 || newCharts.compareRunSections.length > 0) {\n      return {\n        ...currentState,\n        compareRunCharts: newCharts.compareRunCharts ?? [],\n        compareRunSections: newCharts.compareRunSections ?? [],\n      };\n    }\n  }\n\n  // Otherwise, detect new sections and charts and add them to the list\n  const newChartsToAdd = newCharts.compareRunCharts.filter(\n    (newChart) => !currentState.compareRunCharts?.find((chart) => chart.uuid === newChart.uuid),\n  );\n  const newSectionsToAdd = newCharts.compareRunSections.filter(\n    (newSection) =>\n      newChartsToAdd.find((newChart) => newChart.metricSectionId === newSection.uuid) &&\n      !currentState.compareRunSections?.find((section) => section.uuid === newSection.uuid),\n  );\n\n  if (newSectionsToAdd.length > 0 || newChartsToAdd.length > 0) {\n    return {\n      ...currentState,\n      compareRunCharts: currentState.compareRunCharts\n        ? [...currentState.compareRunCharts, ...newChartsToAdd]\n        : newCharts.compareRunCharts,\n      compareRunSections: currentState.compareRunSections\n        ? [...currentState.compareRunSections, ...newSectionsToAdd]\n        : newCharts.compareRunSections,\n    };\n  }\n  return currentState;\n};\n\nconst chartsUIStateInitializer = (): LoggedModelsChartsUIConfiguration => ({\n  compareRunCharts: undefined,\n  compareRunSections: undefined,\n  autoRefreshEnabled: false,\n  isAccordionReordered: false,\n  chartsSearchFilter: '',\n  globalLineChartConfig: undefined,\n  isDirty: false,\n});\n\n// Reducer to manage the state of the charts UI\nconst chartsUIStateReducer = (state: LoggedModelsChartsUIConfiguration, action: ChartsReducerAction) => {\n  // 'UPDATE' is sent by controls that updates the UI state directly\n  if (action.type === 'UPDATE') {\n    return { ...action.stateSetter(state), isDirty: true };\n  }\n  // 'METRICS_UPDATED' is sent when new logged models data is available and potentially new charts need to be added\n  if (action.type === 'METRICS_UPDATED') {\n    const { compareRunCharts, compareRunSections } = getExperimentLoggedModelsPageChartSetup(action.metricsByDatasets);\n    const newState = reconcileChartsAndSections(state, { compareRunCharts, compareRunSections });\n    return newState;\n  }\n  if (action.type === 'INITIALIZE') {\n    if (action.initialConfig) {\n      return action.initialConfig;\n    }\n  }\n  return state;\n};\n\nconst loadPersistedDataFromStorage = async (storeIdentifier: string) => {\n  // This function is async on purpose to accommodate potential asynchoronous storage mechanisms (e.g. IndexedDB) in the future\n  const serializedData = localStorage.getItem(createLocalStorageKey(storeIdentifier));\n  if (!serializedData) {\n    return undefined;\n  }\n  try {\n    return JSON.parse(serializedData);\n  } catch {\n    return undefined;\n  }\n};\n\nconst saveDataToStorage = async (storeIdentifier: string, dataToPersist: LoggedModelsChartsUIConfiguration) => {\n  localStorage.setItem(createLocalStorageKey(storeIdentifier), JSON.stringify(dataToPersist));\n};\n\nexport const useExperimentLoggedModelsChartsUIState = (\n  metricsByDatasets: RunsChartsMetricByDatasetEntry[],\n  storeIdentifier: string,\n) => {\n  const [chartUIState, dispatchChartUIState] = useReducer(chartsUIStateReducer, undefined, chartsUIStateInitializer);\n  const [loading, setLoading] = useState(true);\n\n  // Attempt to load the persisted data when the component mounts\n  useEffect(() => {\n    setLoading(true);\n    loadPersistedDataFromStorage(storeIdentifier).then((data) => {\n      dispatchChartUIState({ type: 'INITIALIZE', initialConfig: data });\n      setLoading(false);\n    });\n  }, [storeIdentifier]);\n\n  // Attempt to update the charts state when the logged models change\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n    dispatchChartUIState({ type: 'METRICS_UPDATED', metricsByDatasets });\n  }, [metricsByDatasets, loading]);\n\n  // Attempt persist the data when the state changes\n  useEffect(() => {\n    if (chartUIState.isDirty) {\n      saveDataToStorage(storeIdentifier, chartUIState);\n    }\n  }, [storeIdentifier, chartUIState]);\n\n  // Create an updater function to pass it to chart controls\n  const updateUIState = useCallback(\n    (stateSetter: RunsChartsUIConfigurationSetter) =>\n      dispatchChartUIState({\n        type: 'UPDATE',\n        stateSetter,\n      }),\n    [],\n  );\n\n  return { chartUIState, updateUIState, loading };\n};\n","import { Empty, Input, SearchIcon, Spinner, useDesignSystemTheme } from '@databricks/design-system';\nimport { noop, uniq } from 'lodash';\nimport { memo, ReactNode, useMemo, useCallback, useState } from 'react';\nimport { LoggedModelProto } from '../../types';\nimport { ExperimentRunsChartsUIConfiguration } from '../experiment-page/models/ExperimentPageUIState';\nimport { RunsChartsRunData } from '../runs-charts/components/RunsCharts.common';\nimport { RunsChartsDraggableCardsGridContextProvider } from '../runs-charts/components/RunsChartsDraggableCardsGridContext';\nimport { RunsChartsFullScreenModal } from '../runs-charts/components/RunsChartsFullScreenModal';\nimport { RunsChartsTooltipBody } from '../runs-charts/components/RunsChartsTooltipBody';\nimport { RunsChartsSectionAccordion } from '../runs-charts/components/sections/RunsChartsSectionAccordion';\nimport { RunsChartsTooltipWrapper } from '../runs-charts/hooks/useRunsChartsTooltip';\nimport {\n  RunsChartsUIConfigurationContextProvider,\n  useConfirmChartCardConfigurationFn,\n  useRemoveRunsChartFn,\n  useUpdateRunsChartsUIConfiguration,\n} from '../runs-charts/hooks/useRunsChartsUIConfiguration';\nimport { RunsChartsCardConfig, RunsChartsMetricByDatasetEntry, RunsChartType } from '../runs-charts/runs-charts.types';\nimport { useExperimentLoggedModelsChartsData } from './hooks/useExperimentLoggedModelsChartsData';\nimport { useExperimentLoggedModelsChartsUIState } from './hooks/useExperimentLoggedModelsChartsUIState';\nimport { useExperimentLoggedModelAllMetricsByDataset } from './hooks/useExperimentLoggedModelAllMetricsByDataset';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useMemoDeep } from '../../../common/hooks/useMemoDeep';\nimport { RunsChartsConfigureModal } from '../runs-charts/components/RunsChartsConfigureModal';\nimport Routes from '../../routes';\n\nconst ExperimentLoggedModelListChartsImpl = memo(\n  ({\n    chartData,\n    uiState,\n    metricKeysByDataset,\n    minWidth,\n  }: {\n    chartData: RunsChartsRunData[];\n    uiState: ExperimentRunsChartsUIConfiguration;\n    metricKeysByDataset: RunsChartsMetricByDatasetEntry[];\n    minWidth: number;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n    const { formatMessage } = useIntl();\n\n    const availableMetricKeys = useMemo(() => uniq(chartData.flatMap((run) => Object.keys(run.metrics))), [chartData]);\n    const availableParamKeys = useMemo(() => uniq(chartData.flatMap((run) => Object.keys(run.params))), [chartData]);\n\n    const updateChartsUIState = useUpdateRunsChartsUIConfiguration();\n\n    const setSearch = useCallback(\n      (search: string) => {\n        updateChartsUIState((state) => ({ ...state, chartsSearchFilter: search }));\n      },\n      [updateChartsUIState],\n    );\n\n    const [configuredCardConfig, setConfiguredCardConfig] = useState<RunsChartsCardConfig | null>(null);\n\n    const addNewChartCard = useCallback(\n      (metricSectionId: string) => (type: RunsChartType) =>\n        setConfiguredCardConfig(RunsChartsCardConfig.getEmptyChartCardByType(type, false, undefined, metricSectionId)),\n      [],\n    );\n\n    const confirmChartCardConfiguration = useConfirmChartCardConfigurationFn();\n    const removeChart = useRemoveRunsChartFn();\n\n    const [fullScreenChart, setFullScreenChart] = useState<\n      | {\n          config: RunsChartsCardConfig;\n          title: string | ReactNode;\n          subtitle: ReactNode;\n        }\n      | undefined\n    >(undefined);\n\n    const fullscreenTooltipContextValue = useMemo(() => ({ runs: chartData }), [chartData]);\n\n    const tooltipContextValue = useMemo(\n      () => ({ runs: chartData, getDataTraceLink: Routes.getExperimentLoggedModelDetailsPageRoute }),\n      [chartData],\n    );\n\n    const emptyState = (\n      <div css={{ marginTop: theme.spacing.lg }}>\n        <Empty\n          description={\n            <FormattedMessage\n              defaultMessage=\"No models found in experiment or all models are hidden. Select at least one model to view charts.\"\n              description=\"Label displayed in logged models chart view when no models are visible or selected\"\n            />\n          }\n        />\n      </div>\n    );\n\n    return (\n      <div\n        css={{\n          backgroundColor: theme.colors.backgroundPrimary,\n          paddingLeft: theme.spacing.md,\n          paddingRight: theme.spacing.md,\n          paddingBottom: theme.spacing.md,\n\n          borderTop: `1px solid ${theme.colors.border}`,\n          borderLeft: `1px solid ${theme.colors.border}`,\n\n          flex: 1,\n          overflow: 'hidden',\n          display: 'flex',\n          minWidth,\n        }}\n      >\n        <div\n          css={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: theme.spacing.sm,\n            paddingTop: theme.spacing.sm,\n            overflow: 'hidden',\n            flex: 1,\n          }}\n        >\n          <Input\n            componentId=\"mlflow.logged_model.list.charts.search\"\n            role=\"searchbox\"\n            prefix={<SearchIcon />}\n            value={uiState.chartsSearchFilter ?? ''}\n            allowClear\n            onChange={({ target }) => setSearch(target.value)}\n            placeholder={formatMessage({\n              defaultMessage: 'Search metric charts',\n              description: 'Placeholder for chart search input on the logged model chart view',\n            })}\n          />\n          <div css={{ overflow: 'auto' }}>\n            <RunsChartsTooltipWrapper contextData={tooltipContextValue} component={RunsChartsTooltipBody}>\n              <RunsChartsDraggableCardsGridContextProvider visibleChartCards={uiState.compareRunCharts}>\n                <RunsChartsSectionAccordion\n                  compareRunSections={uiState.compareRunSections}\n                  compareRunCharts={uiState.compareRunCharts}\n                  reorderCharts={noop}\n                  insertCharts={noop}\n                  chartData={chartData}\n                  startEditChart={setConfiguredCardConfig}\n                  removeChart={removeChart}\n                  addNewChartCard={addNewChartCard}\n                  search={uiState.chartsSearchFilter ?? ''}\n                  groupBy={null}\n                  setFullScreenChart={setFullScreenChart}\n                  autoRefreshEnabled={false}\n                  hideEmptyCharts={false}\n                  globalLineChartConfig={undefined}\n                  supportedChartTypes={[RunsChartType.BAR, RunsChartType.SCATTER]}\n                  noRunsSelectedEmptyState={emptyState}\n                />\n              </RunsChartsDraggableCardsGridContextProvider>\n            </RunsChartsTooltipWrapper>\n            <RunsChartsFullScreenModal\n              fullScreenChart={fullScreenChart}\n              onCancel={() => setFullScreenChart(undefined)}\n              chartData={chartData}\n              groupBy={null}\n              tooltipContextValue={fullscreenTooltipContextValue}\n              tooltipComponent={RunsChartsTooltipBody}\n              autoRefreshEnabled={false}\n              globalLineChartConfig={undefined}\n            />\n            {configuredCardConfig && (\n              <RunsChartsConfigureModal\n                chartRunData={chartData}\n                metricKeyList={availableMetricKeys}\n                metricKeysByDataset={metricKeysByDataset}\n                paramKeyList={availableParamKeys}\n                config={configuredCardConfig}\n                onSubmit={(configuredCardConfig) => {\n                  confirmChartCardConfiguration({ ...configuredCardConfig, displayName: undefined });\n                  setConfiguredCardConfig(null);\n                }}\n                onCancel={() => setConfiguredCardConfig(null)}\n                groupBy={null}\n                supportedChartTypes={[RunsChartType.BAR, RunsChartType.SCATTER]}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nexport const ExperimentLoggedModelListCharts = memo(\n  ({\n    loggedModels,\n    experimentId,\n    minWidth,\n  }: {\n    loggedModels: LoggedModelProto[];\n    experimentId: string;\n    minWidth: number;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n\n    // Perform deep comparison on the logged models to avoid re-rendering the charts when the logged models change.\n    // Deep comparison should still be cheaper than rerendering all charts.\n    const cachedLoggedModels = useMemoDeep(() => loggedModels, [loggedModels]);\n\n    const metricsByDataset = useExperimentLoggedModelAllMetricsByDataset(cachedLoggedModels);\n\n    const {\n      chartUIState,\n      updateUIState,\n      loading: loadingState,\n    } = useExperimentLoggedModelsChartsUIState(metricsByDataset, experimentId);\n    const chartData = useExperimentLoggedModelsChartsData(cachedLoggedModels);\n\n    if (loadingState) {\n      return (\n        <div\n          css={{\n            backgroundColor: theme.colors.backgroundPrimary,\n            paddingTop: theme.spacing.lg,\n            borderTop: `1px solid ${theme.colors.border}`,\n            borderLeft: `1px solid ${theme.colors.border}`,\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            display: 'flex',\n          }}\n        >\n          <Spinner />\n        </div>\n      );\n    }\n    return (\n      <RunsChartsUIConfigurationContextProvider updateChartsUIState={updateUIState}>\n        <ExperimentLoggedModelListChartsImpl\n          chartData={chartData}\n          uiState={chartUIState}\n          metricKeysByDataset={metricsByDataset}\n          minWidth={minWidth}\n        />\n      </RunsChartsUIConfigurationContextProvider>\n    );\n  },\n);\n","import { isEqual } from 'lodash';\nimport { useRef } from 'react';\n\n/**\n * Utility hook that memoizes value based on deep comparison.\n * Dedicated to a few limited use cases where deep comparison is still cheaper than resulting re-renders.\n */\nexport const useMemoDeep = <T>(factory: () => T, deps: unknown[]): T => {\n  const ref = useRef<{ deps: unknown[]; value: T }>();\n\n  if (!ref.current || !isEqual(deps, ref.current.deps)) {\n    ref.current = { deps, value: factory() };\n  }\n\n  return ref.current.value;\n};\n","import { orderBy } from 'lodash';\nimport type { LoggedModelProto } from '../../../types';\nimport { useMemo } from 'react';\nimport type { RunsChartsMetricByDatasetEntry } from '../../runs-charts/runs-charts.types';\nimport { getMetricByDatasetChartDataKey } from './useExperimentLoggedModelsChartsData';\n\nexport const useExperimentLoggedModelAllMetricsByDataset = (loggedModels: LoggedModelProto[]) =>\n  useMemo(() => {\n    const metricsByDataset: RunsChartsMetricByDatasetEntry[] = [];\n    loggedModels.forEach((model) => {\n      model.data?.metrics?.forEach(({ key: metricKey, dataset_name: datasetName }) => {\n        if (metricKey && !metricsByDataset.find((e) => e.metricKey === metricKey && e.datasetName === datasetName)) {\n          const dataAccessKey = getMetricByDatasetChartDataKey(metricKey, datasetName);\n          metricsByDataset.push({ metricKey, datasetName, dataAccessKey });\n        }\n      });\n    });\n    return orderBy(metricsByDataset, ({ datasetName }) => !datasetName);\n  }, [loggedModels]);\n","import { Alert, Spacer, useDesignSystemTheme } from '@databricks/design-system';\nimport invariant from 'invariant';\nimport { useParams } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\nimport { ExperimentLoggedModelPageWrapper } from './ExperimentLoggedModelPageWrapper';\n\nimport { isLoggedModelsFilteringAndSortingEnabled } from '../../../common/utils/FeatureUtils';\nimport { useEffect, useState } from 'react';\nimport { ExperimentLoggedModelListPageTable } from '../../components/experiment-logged-models/ExperimentLoggedModelListPageTable';\nimport { useSearchLoggedModelsQuery } from '../../hooks/logged-models/useSearchLoggedModelsQuery';\nimport { ExperimentLoggedModelListPageControls } from '../../components/experiment-logged-models/ExperimentLoggedModelListPageControls';\nimport {\n  parseLoggedModelMetricOrderByColumnId,\n  useExperimentLoggedModelListPageTableColumns,\n} from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageTableColumns';\nimport { ExperimentLoggedModelOpenDatasetDetailsContextProvider } from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelOpenDatasetDetails';\nimport { useLoggedModelsListPageState } from '../../components/experiment-logged-models/hooks/useLoggedModelsListPagePageState';\nimport { useRelatedRunsDataForLoggedModels } from '../../hooks/logged-models/useRelatedRunsDataForLoggedModels';\nimport {\n  ExperimentLoggedModelListPageMode,\n  useExperimentLoggedModelListPageMode,\n} from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageMode';\nimport { ExperimentViewRunsTableResizer } from '../../components/experiment-page/components/runs/ExperimentViewRunsTableResizer';\nimport { ExperimentLoggedModelListCharts } from '../../components/experiment-logged-models/ExperimentLoggedModelListCharts';\nimport { ExperimentLoggedModelListPageRowVisibilityContextProvider } from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageRowVisibility';\nimport { RunsChartsSetHighlightContextProvider } from '../../components/runs-charts/hooks/useRunsChartTraceHighlight';\nimport { BadRequestError } from '@databricks/web-shared/errors';\nimport { useResizableMaxWidth } from '@mlflow/mlflow/src/shared/web-shared/hooks/useResizableMaxWidth';\n\nconst INITIAL_RUN_COLUMN_SIZE = 295;\nconst CHARTS_MIN_WIDTH = 350;\n\nconst ExperimentLoggedModelListPageImpl = () => {\n  const { experimentId } = useParams();\n  const { theme } = useDesignSystemTheme();\n  const sortingAndFilteringEnabled = isLoggedModelsFilteringAndSortingEnabled();\n\n  const {\n    state: {\n      orderByColumn,\n      orderByAsc,\n      columnVisibility,\n      rowVisibilityMap,\n      rowVisibilityMode,\n      selectedFilterDatasets,\n      groupBy,\n    },\n    searchQuery,\n    isFilteringActive,\n    setOrderBy,\n    setColumnVisibility,\n    setRowVisibilityMode,\n    toggleRowVisibility,\n    updateSearchQuery,\n    toggleDataset,\n    clearSelectedDatasets,\n    setGroupBy,\n  } = useLoggedModelsListPageState();\n\n  invariant(experimentId, 'Experiment ID must be defined');\n\n  const { viewMode, setViewMode } = useExperimentLoggedModelListPageMode();\n\n  // Translate currently sorting column to the format accepted by the API query.\n  // If the column is a metric, we need to parse and pass the dataset name and digest if found.\n  const getOrderByRequestData = () => {\n    if (!orderByColumn) {\n      return { orderByField: undefined };\n    }\n    const parsedMetricOrderByColumn = parseLoggedModelMetricOrderByColumnId(orderByColumn);\n    if (parsedMetricOrderByColumn.datasetDigest && parsedMetricOrderByColumn.datasetName) {\n      return {\n        orderByField: `metrics.${parsedMetricOrderByColumn.metricKey}`,\n        orderByDatasetName: parsedMetricOrderByColumn.datasetName,\n        orderByDatasetDigest: parsedMetricOrderByColumn.datasetDigest,\n      };\n    }\n    return { orderByField: orderByColumn };\n  };\n\n  const {\n    data: loggedModels,\n    isFetching: isFetchingLoggedModels,\n    isLoading: isLoadingLoggedModels,\n    error: loggedModelsError,\n    nextPageToken,\n    loadMoreResults,\n  } = useSearchLoggedModelsQuery({\n    experimentIds: [experimentId],\n    orderByAsc,\n    searchQuery,\n    selectedFilterDatasets,\n    ...getOrderByRequestData(),\n  });\n\n  // Find and extract 400 error from the logged models error\n  const badRequestError = loggedModelsError instanceof BadRequestError ? loggedModelsError : undefined;\n\n  const { data: relatedRunsData } = useRelatedRunsDataForLoggedModels({ loggedModels });\n\n  const { columnDefs, compactColumnDefs } = useExperimentLoggedModelListPageTableColumns({\n    loggedModels,\n    columnVisibility,\n    isLoading: isLoadingLoggedModels,\n    orderByColumn,\n    orderByAsc,\n    enableSortingByMetrics: sortingAndFilteringEnabled,\n  });\n\n  const [tableAreaWidth, setTableAreaWidth] = useState<number>(INITIAL_RUN_COLUMN_SIZE);\n  const [tableHidden, setTableHidden] = useState(false);\n\n  const isCompactTableMode = viewMode !== ExperimentLoggedModelListPageMode.TABLE;\n\n  const tableElement =\n    isCompactTableMode && tableHidden ? (\n      <div css={{ width: theme.spacing.md }} />\n    ) : (\n      <ExperimentLoggedModelListPageTable\n        columnDefs={isCompactTableMode ? compactColumnDefs : columnDefs}\n        loggedModels={loggedModels ?? []}\n        isLoading={isLoadingLoggedModels}\n        isLoadingMore={isFetchingLoggedModels}\n        badRequestError={badRequestError}\n        moreResultsAvailable={Boolean(nextPageToken)}\n        onLoadMore={loadMoreResults}\n        onOrderByChange={setOrderBy}\n        orderByAsc={orderByAsc}\n        orderByColumn={orderByColumn}\n        columnVisibility={columnVisibility}\n        relatedRunsData={relatedRunsData}\n        isFilteringActive={isFilteringActive}\n        groupModelsBy={groupBy}\n      />\n    );\n\n  const { resizableMaxWidth, ref } = useResizableMaxWidth(CHARTS_MIN_WIDTH);\n\n  return (\n    <ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n      <ExperimentLoggedModelListPageRowVisibilityContextProvider\n        visibilityMap={rowVisibilityMap}\n        visibilityMode={rowVisibilityMode}\n        setRowVisibilityMode={setRowVisibilityMode}\n        toggleRowVisibility={toggleRowVisibility}\n      >\n        <ExperimentLoggedModelListPageControls\n          columnDefs={columnDefs}\n          columnVisibility={columnVisibility}\n          onChangeOrderBy={setOrderBy}\n          onUpdateColumns={setColumnVisibility}\n          orderByColumn={orderByColumn}\n          orderByAsc={orderByAsc}\n          viewMode={viewMode}\n          setViewMode={setViewMode}\n          searchQuery={searchQuery}\n          onChangeSearchQuery={updateSearchQuery}\n          loggedModelsData={loggedModels ?? []}\n          sortingAndFilteringEnabled={sortingAndFilteringEnabled}\n          selectedFilterDatasets={selectedFilterDatasets}\n          onToggleDataset={toggleDataset}\n          onClearSelectedDatasets={clearSelectedDatasets}\n          groupBy={groupBy}\n          onChangeGroupBy={setGroupBy}\n        />\n        <Spacer size=\"sm\" shrinks={false} />\n        {/* Display error message, but not if it's 400 - in that case, the error message is displayed in the table */}\n        {loggedModelsError?.message && !badRequestError && (\n          <>\n            <Alert\n              componentId=\"mlflow.logged_models.list.error\"\n              message={loggedModelsError.message}\n              type=\"error\"\n              closable={false}\n            />\n            <Spacer size=\"sm\" shrinks={false} />\n          </>\n        )}\n        {isCompactTableMode ? (\n          <RunsChartsSetHighlightContextProvider>\n            <div ref={ref} css={{ display: 'flex', flex: 1, overflow: 'hidden', position: 'relative' }}>\n              <ExperimentViewRunsTableResizer\n                onResize={setTableAreaWidth}\n                runListHidden={tableHidden}\n                width={tableAreaWidth}\n                onHiddenChange={setTableHidden}\n                maxWidth={resizableMaxWidth}\n              >\n                {tableElement}\n              </ExperimentViewRunsTableResizer>\n              {viewMode === ExperimentLoggedModelListPageMode.CHART && (\n                <ExperimentLoggedModelListCharts\n                  loggedModels={loggedModels ?? []}\n                  experimentId={experimentId}\n                  minWidth={CHARTS_MIN_WIDTH}\n                />\n              )}\n            </div>\n          </RunsChartsSetHighlightContextProvider>\n        ) : (\n          tableElement\n        )}\n      </ExperimentLoggedModelListPageRowVisibilityContextProvider>\n    </ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n  );\n};\n\nconst ExperimentLoggedModelListPage = () => (\n  <ExperimentLoggedModelPageWrapper>\n    <ExperimentLoggedModelListPageImpl />\n  </ExperimentLoggedModelPageWrapper>\n);\n\nexport default ExperimentLoggedModelListPage;\n","import { Button, ChevronLeftIcon, ChevronRightIcon, useDesignSystemTheme } from '@databricks/design-system';\nimport React, { useState } from 'react';\nimport { ResizableBox } from 'react-resizable';\nimport { useUpdateExperimentViewUIState } from '../../contexts/ExperimentPageUIStateContext';\nimport { Global } from '@emotion/react';\n\nconst RESIZE_BAR_WIDTH = 3;\n\n/**\n * A component wrapping experiment runs table and providing a resizer\n * to adjust its width when displayed in a split view.\n */\nexport const ExperimentViewRunsTableResizer = ({\n  runListHidden,\n  width,\n  onResize,\n  children,\n  onHiddenChange,\n  maxWidth,\n}: React.PropsWithChildren<{\n  runListHidden: boolean;\n  width: number;\n  onResize: React.Dispatch<React.SetStateAction<number>>;\n  onHiddenChange?: (isHidden: boolean) => void;\n  maxWidth: number | undefined;\n}>) => {\n  const updateUIState = useUpdateExperimentViewUIState();\n  const [dragging, setDragging] = useState(false);\n\n  return (\n    <>\n      <ResizableBox\n        css={{ display: 'flex', position: 'relative' }}\n        style={{ flex: `0 0 ${runListHidden ? 0 : width}px` }}\n        width={width}\n        axis=\"x\"\n        resizeHandles={['e']}\n        minConstraints={[250, 0]}\n        maxConstraints={maxWidth === undefined ? undefined : [maxWidth, 0]}\n        handle={\n          <ExperimentViewRunsTableResizerHandle\n            runListHidden={runListHidden}\n            updateRunListHidden={(value) => {\n              if (onHiddenChange) {\n                onHiddenChange(value);\n                return;\n              }\n              updateUIState((state) => ({ ...state, runListHidden: value }));\n            }}\n          />\n        }\n        onResize={(event, { size }) => {\n          if (runListHidden) {\n            return;\n          }\n          onResize(size.width);\n        }}\n        onResizeStart={() => !runListHidden && setDragging(true)}\n        onResizeStop={() => setDragging(false)}\n      >\n        {children}\n      </ResizableBox>\n      {dragging && (\n        <Global\n          styles={{\n            'body, :host': {\n              userSelect: 'none',\n            },\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport const ExperimentViewRunsTableResizerHandle = React.forwardRef<\n  HTMLDivElement,\n  {\n    updateRunListHidden: (newValue: boolean) => void;\n    runListHidden: boolean;\n  }\n>(({ updateRunListHidden, runListHidden, ...props }, ref) => {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div\n      ref={ref}\n      {...props}\n      css={{\n        transition: 'opacity 0.2s',\n        width: 0,\n        overflow: 'visible',\n        height: '100%',\n        position: 'relative',\n        zIndex: 10,\n        display: 'flex',\n        opacity: runListHidden ? 1 : 0,\n        '&:hover': {\n          opacity: 1,\n          '.bar': { opacity: 1 },\n          '.button': {\n            border: `2px solid ${theme.colors.actionDefaultBorderHover}`,\n          },\n        },\n      }}\n    >\n      <div\n        css={{\n          position: 'absolute',\n          // For the resizing area, use the icon size which is\n          // the same as \"collapse\" button\n          left: -theme.general.iconSize / 2,\n          width: theme.general.iconSize,\n          cursor: runListHidden ? undefined : 'ew-resize',\n          height: '100%',\n          top: 0,\n          bottom: 0,\n        }}\n      >\n        <div\n          className=\"button\"\n          css={{\n            top: '50%',\n            transition: 'border-color 0.2s',\n            position: 'absolute',\n            width: theme.general.iconSize,\n            height: theme.general.iconSize,\n            backgroundColor: theme.colors.backgroundPrimary,\n            borderRadius: theme.general.iconSize,\n            overflow: 'hidden',\n            border: `1px solid ${theme.colors.border}`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 11,\n          }}\n        >\n          <Button\n            componentId=\"mlflow.experiment_page.table_resizer.collapse\"\n            onClick={() => updateRunListHidden(!runListHidden)}\n            icon={runListHidden ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n            size=\"small\"\n          />\n        </div>\n      </div>\n      <div\n        className=\"bar\"\n        css={{\n          position: 'absolute',\n          opacity: 0,\n          left: -RESIZE_BAR_WIDTH / 2,\n          width: RESIZE_BAR_WIDTH,\n          height: '100%',\n          top: 0,\n          bottom: 0,\n          backgroundColor: theme.colors.actionPrimaryBackgroundDefault,\n        }}\n      />\n    </div>\n  );\n});\n","import React from 'react';\nimport { shouldEnableMinMaxMetricsOnExperimentPage } from '../../common/utils/FeatureUtils';\nimport { MLFLOW_INTERNAL_PREFIX } from '../../common/utils/TagUtils';\n\nexport type EntitySearchAutoCompleteOption = {\n  label?: string | React.ReactNode;\n  value: string;\n};\n\nexport type EntitySearchAutoCompleteOptionGroup = {\n  label: string;\n  options: EntitySearchAutoCompleteOption[];\n};\n\nexport type EntitySearchAutoCompleteEntity = {\n  name: string;\n  startIndex: number;\n  endIndex: number;\n};\n\ntype EntitySearchAutoCompleteClause = {\n  clause: string;\n  startIndex: number;\n};\n\nexport type EntitySearchAutoCompleteEntityNameGroup = {\n  metricNames: string[];\n  paramNames: string[];\n  tagNames: string[];\n};\n\n/**\n * Given an input string, returns a list of Clause objects\n * containing the clauses in the input and the indices of their\n * starting positions in the overall string.\n */\nconst getClausesAndStartIndex = (str: string) => {\n  const re = /and[\\s]+/gi;\n  const results: EntitySearchAutoCompleteClause[] = [];\n  let match, position;\n  while (((position = re.lastIndex), (match = re.exec(str)))) {\n    results.push({ clause: str.substring(position, match.index), startIndex: position });\n  }\n  results.push({ clause: str.substring(position), startIndex: position });\n  return results;\n};\n\n/**\n * Filters out internal tag names and wrap names that include control characters in backticks.\n */\nexport const cleanEntitySearchTagNames = (tagNames: string[]) =>\n  tagNames\n    .filter((tag: string) => !tag.startsWith(MLFLOW_INTERNAL_PREFIX))\n    .map((tag: string) => {\n      if (tag.includes('\"') || tag.includes(' ') || tag.includes('.')) {\n        return `\\`${tag}\\``;\n      } else if (tag.includes('`')) {\n        return `\"${tag}\"`;\n      } else return tag;\n    });\n\nexport const getEntitySearchOptionsFromEntityNames = (\n  entityNames: EntitySearchAutoCompleteEntityNameGroup,\n  attributeOptions: EntitySearchAutoCompleteOption[],\n): EntitySearchAutoCompleteOptionGroup[] => [\n  {\n    label: 'Metrics',\n    options: entityNames.metricNames.map((m) => ({ value: `metrics.${m}` })),\n  },\n  {\n    label: 'Parameters',\n    options: entityNames.paramNames.map((p) => ({ value: `params.${p}` })),\n  },\n  {\n    label: 'Tags',\n    options: entityNames.tagNames.map((t) => ({ value: `tags.${t}` })),\n  },\n  {\n    label: 'Attributes',\n    options: attributeOptions,\n  },\n];\n\n// Bolds a specified segment of `wholeText`.\nconst boldedText = (wholeText: string, shouldBeBold: string) => {\n  const textArray = wholeText.split(RegExp(shouldBeBold.replace('.', '\\\\.'), 'ig'));\n  const match = wholeText.match(RegExp(shouldBeBold.replace('.', '\\\\.'), 'ig'));\n\n  return (\n    // Autocomplete sets font weight to 600 on full match resulting in double bolding.\n    // Override this here\n    <span css={{ fontWeight: 'normal' }} data-testid={wholeText}>\n      {textArray.map((item, index) => (\n        <React.Fragment key={index}>\n          {item}\n          {index !== textArray.length - 1 && match && <b>{match[index]}</b>}\n        </React.Fragment>\n      ))}\n    </span>\n  );\n};\n\n/**\n * Given an input string, returns a list of Entity objects\n * containing the search entities in the input and their\n * start and end indices in the whole string.\n */\nexport const getEntitySearchEntitiesAndIndices = (str: string) => {\n  const re = />|<|>=|<=|=|!=|like|ilike/gi;\n  const clauses = getClausesAndStartIndex(str);\n  const results: EntitySearchAutoCompleteEntity[] = [];\n  clauses.forEach((clauseObj) => {\n    const clauseText = clauseObj.clause;\n    const entity = clauseText.split(re)[0];\n    const { startIndex } = clauseObj;\n    results.push({\n      name: entity,\n      startIndex: 0 + startIndex,\n      endIndex: entity.length + startIndex,\n    });\n  });\n  return results;\n};\n\nexport const getFilteredOptionsFromEntityName = (\n  baseOptions: EntitySearchAutoCompleteOptionGroup[],\n  entityBeingEdited: EntitySearchAutoCompleteEntity,\n  suggestionLimits: Record<string, number>,\n): EntitySearchAutoCompleteOptionGroup[] => {\n  return baseOptions\n    .map((group) => {\n      const newOptions = group.options\n        .filter((option) => option.value.toLowerCase().includes(entityBeingEdited.name.toLowerCase().trim()))\n        .map((match) => ({\n          value: match.value,\n          label: boldedText(match.value, entityBeingEdited.name.trim()),\n        }));\n      const limitForGroup = suggestionLimits[group.label];\n      const ellipsized = [\n        ...newOptions.slice(0, limitForGroup),\n        ...(newOptions.length > limitForGroup ? [{ label: '...', value: `..._${group.label}` }] : []),\n      ];\n      return {\n        label: group.label,\n        options: ellipsized,\n      };\n    })\n    .filter((group) => group.options.length > 0);\n};\n","import type { LoggedModelProto, RunEntity } from '../../types';\nimport { useEffect, useMemo } from 'react';\nimport { compact, sortBy, uniq } from 'lodash';\nimport { QueryFunctionContext, useQueries } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../sdk/MlflowService';\nimport { useArrayMemo } from '../../../common/hooks/useArrayMemo';\n\ntype UseRegisteredModelRelatedRunNamesQueryKey = ['USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS', { runUuid: string }];\n\nconst getQueryKey = (runUuid: string): UseRegisteredModelRelatedRunNamesQueryKey => [\n  'USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS',\n  { runUuid },\n];\n\nconst queryFn = async ({\n  queryKey: [, { runUuid }],\n}: QueryFunctionContext<UseRegisteredModelRelatedRunNamesQueryKey>): Promise<RunEntity | null> => {\n  try {\n    const data = await MlflowService.getRun({ run_id: runUuid });\n    return data?.run;\n  } catch (e) {\n    return null;\n  }\n};\n\n/**\n * Hook used to fetch necessary run data based on metadata found in logged models\n */\nexport const useRelatedRunsDataForLoggedModels = ({ loggedModels = [] }: { loggedModels?: LoggedModelProto[] }) => {\n  const runUuids = useMemo(() => {\n    // Extract all run ids found in metrics and source run ids\n    const allMetricRunUuids = compact(\n      loggedModels?.flatMap((loggedModel) => loggedModel?.data?.metrics?.map((metric) => metric.run_id)),\n    );\n    const allSourceRunUuids = compact(loggedModels?.map((loggedModel) => loggedModel?.info?.source_run_id));\n    const distinctRunUuids = sortBy(uniq([...allMetricRunUuids, ...allSourceRunUuids]));\n\n    return distinctRunUuids;\n  }, [loggedModels]);\n\n  const queryResults = useQueries({\n    queries: runUuids.map((runUuid) => ({\n      queryKey: getQueryKey(runUuid),\n      queryFn,\n      cacheTime: Infinity,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false,\n      retry: false,\n    })),\n  });\n\n  const loading = queryResults.some(({ isLoading }) => isLoading);\n  const error = queryResults.find(({ error }) => error)?.error as Error | undefined;\n\n  const memoizedQueryResults = useArrayMemo(queryResults.map(({ data }) => data));\n\n  const data = useMemo(\n    () => memoizedQueryResults.map((data) => data).filter(Boolean) as RunEntity[],\n    [memoizedQueryResults],\n  );\n\n  return {\n    data,\n    loading,\n    error,\n  };\n};\n","import { useRef } from 'react';\n\n/**\n * A custom hook that memoizes an array based on the reference of its elements, not the array itself.\n */\nexport function useArrayMemo<T>(array: T[]) {\n  // This holds reference to previous value\n  const ref = useRef<T[]>();\n  // Check if each element of the old and new array match\n  const areArraysConsideredTheSame =\n    ref.current && array.length === ref.current.length\n      ? array.every((element, i) => {\n          return element === ref.current?.[i];\n        })\n      : // Initially there's no old array defined/stored, so set to false\n        false;\n\n  if (!areArraysConsideredTheSame) {\n    ref.current = array;\n  }\n\n  return areArraysConsideredTheSame && ref.current ? ref.current : array;\n}\n"],"names":["_ref","name","styles","PageFallback","error","_error$message","_jsx","PageWrapper","css","children","Empty","title","FormattedMessage","id","defaultMessage","description","message","image","DangerIcon","ExperimentLoggedModelPageWrapper","resetKey","ErrorBoundary","FallbackComponent","resetKeys","UserActionErrorHandler","TOOLTIP_COOKIE_KEY","_ref2","EntitySearchAutoComplete","baseOptions","searchFilter","requestError","onSearchFilterChange","onClear","tooltipContent","placeholder","useQuickFilter","defaultActiveFirstOption","className","theme","getPrefixedClassName","useDesignSystemTheme","dropdownRef","useRef","intl","useIntl","text","setText","useState","autocompleteEnabled","setAutocompleteEnabled","undefined","focused","setFocused","lastSetBySelection","setLastSetBySelection","suggestionLimits","setSuggestionLimits","Metrics","Parameters","Tags","currentEntitiesRef","entityBeingEdited","setEntityBeingEdited","useEffect","previousEntities","current","newEntities","getEntitySearchEntitiesAndIndices","currentEntitiesNames","map","e","previousEntitiesNames","isEqual","length","i","trim","filteredOptions","useMemo","getFilteredOptionsFromEntityName","onSelect","useCallback","value","option","startsWith","groupName","split","prevSuggestionLimits","prefix","substring","startIndex","suffix","endIndex","localStorageInstance","useExperimentViewLocalStore","showTooltipOnError","setShowTooltipOnError","currentTimeSecs","Math","floor","Date","now","storedItem","getItem","parseInt","tooltipIcon","React","quickRegexpFilter","detectSqlSyntaxInSearchQuery","createQuickRegexpSearchFilter","_tooltipIcon$current","setItem","click","noMatches","flatMap","o","options","open","triggerSearch","_dropdownRef$current","activeItemClass","dropdownContainsActiveItem","Boolean","querySelector","key","preventDefault","_css","display","gap","spacing","sm","width","responsive","mediaQueries","xs","AutoComplete","dropdownMatchSelectWidth","defaultOpen","dropdownRender","menu","ref","Input","componentId","SearchIcon","svg","general","iconFontSize","height","color","colors","textSecondary","onKeyDown","onClick","onFocus","onBlur","onChange","target","_jsxs","Button","type","CloseIcon","Tooltip","content","values","filterSample","delayDuration","InfoFillIcon","formatMessage","actionPrimaryBackgroundDefault","LegacyTooltip","placement","dangerouslySetAntdProps","overlayInnerStyle","trigger","size","marginLeft","marginRight","icon","InfoSmallIcon","useResizableMaxWidth","minWidth","containerWidth","setContainerWidth","updateWidth","clientWidth","useLayoutEffect","window","addEventListener","removeEventListener","resizableMaxWidth","node","storeIdentifier","LocalStorageUtils","getStoreForComponent","ExperimentLoggedModelListPageMode","VIEW_MODE_QUERY_PARAM","VALID_FILTER_ATTRIBUTES","ExperimentLoggedModelListPageAutoComplete","searchQuery","onChangeSearchQuery","loggedModelsData","entityNames","loggedModels","metricNames","Set","paramNames","tagNames","loggedModel","_loggedModel$data","_loggedModel$data$met","_loggedModel$data2","_loggedModel$data2$pa","_loggedModel$info","_loggedModel$info$tag","data","metrics","forEach","metric","add","params","param","info","tags","tag","Array","from","filter","isUserFacingTag","getEntityNamesFromLoggedModelsData","validAttributeOptions","attribute","getEntitySearchOptionsFromEntityNames","whereBold","getDatasetHash","dataset","JSON","stringify","dataset_name","dataset_digest","ExperimentLoggedModelListPageDatasetDropdown","selectedFilterDatasets","onToggleDataset","onClearSelectedDatasets","cachedDatasets","Map","allDatasets","model","_model$data","datasetHash","has","set","hash","serializedSelectedDatasets","DialogCombobox","label","stayOpenOnSelection","DialogComboboxCustomButtonTriggerWrapper","endIcon","ChevronDownIcon","TableIcon","_Fragment","DialogComboboxCountBadge","XCircleFillIcon","role","stopPropagation","textPlaceholder","fontSize","typography","fontSizeSm","actionTertiaryTextHover","DialogComboboxContent","DialogComboboxOptionList","serializedDataset","DialogComboboxOptionListCheckboxItem","checked","includes","getSortableColumnLabel","colId","descriptor","ExperimentLoggedModelListPageKnownColumns","CreationTime","defineMessage","parsedColumn","parseLoggedModelMetricOrderByColumnId","metricKey","ExperimentLoggedModelListPageOrderBySelector","orderByColumn","orderByAsc","onChangeOrderBy","columnDefs","setFilter","groupedOrderByOptions","lowerCaseFilter","toLowerCase","sortableColumnGroups","groupId","headerName","col","_col$groupId","LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX","_col$children","some","group","push","DropdownMenu","Root","modal","Trigger","asChild","SortAscendingIcon","SortDescendingIcon","sortBy","Content","padding","lg","autoFocus","allowClear","ToggleIconButton","pressed","ArrowDownIcon","ArrowUpIcon","Group","Label","columnHeaderName","CheckboxItem","ItemIndicator","GroupByLabels","LoggedModelsTableGroupByMode","RUNS","ExperimentLoggedModelListPageGroupBySelector","groupBy","onChangeGroupBy","currentSelectedLabel","ListBorderIcon","currentModeSelected","ExperimentLoggedModelListPageControls","sortingAndFilteringEnabled","onUpdateColumns","columnVisibility","viewMode","setViewMode","flexWrap","SegmentedControlGroup","coerceToEnum","TABLE","SegmentedControlButton","ListIcon","visuallyHidden","ChartLineIcon","ExperimentLoggedModelListPageColumnSelector","disabled","CHART","shouldEnableLoggedModelsGrouping","getMetricByDatasetChartDataKey","datasetName","createLocalStorageKey","version","chartsUIStateInitializer","compareRunCharts","compareRunSections","autoRefreshEnabled","isAccordionReordered","chartsSearchFilter","globalLineChartConfig","isDirty","chartsUIStateReducer","state","action","stateSetter","metricsByDatasets","dataAccessKey","deleted","RunsChartType","BAR","uuid","metricSectionId","isGenerated","displayName","uniq","isReordered","isEmpty","getExperimentLoggedModelsPageChartSetup","reconcileChartsAndSections","currentState","newCharts","_newCharts$compareRun","_newCharts$compareRun2","newChartsToAdd","newChart","_currentState$compare","find","chart","newSectionsToAdd","newSection","_currentState$compare2","section","initialConfig","useExperimentLoggedModelsChartsUIState","chartUIState","dispatchChartUIState","useReducer","loading","setLoading","async","serializedData","localStorage","parse","loadPersistedDataFromStorage","then","dataToPersist","saveDataToStorage","updateUIState","ExperimentLoggedModelListChartsImpl","memo","chartData","uiState","metricKeysByDataset","_uiState$chartsSearch","_uiState$chartsSearch2","availableMetricKeys","run","Object","keys","availableParamKeys","updateChartsUIState","useUpdateRunsChartsUIConfiguration","setSearch","search","configuredCardConfig","setConfiguredCardConfig","addNewChartCard","RunsChartsCardConfig","getEmptyChartCardByType","confirmChartCardConfiguration","useConfirmChartCardConfigurationFn","removeChart","useRemoveRunsChartFn","fullScreenChart","setFullScreenChart","fullscreenTooltipContextValue","runs","tooltipContextValue","getDataTraceLink","Routes","getExperimentLoggedModelDetailsPageRoute","emptyState","marginTop","backgroundColor","backgroundPrimary","paddingLeft","md","paddingRight","paddingBottom","borderTop","border","borderLeft","flex","overflow","flexDirection","paddingTop","RunsChartsTooltipWrapper","contextData","component","RunsChartsTooltipBody","RunsChartsDraggableCardsGridContextProvider","visibleChartCards","RunsChartsSectionAccordion","reorderCharts","noop","insertCharts","startEditChart","hideEmptyCharts","supportedChartTypes","SCATTER","noRunsSelectedEmptyState","RunsChartsFullScreenModal","onCancel","tooltipComponent","RunsChartsConfigureModal","chartRunData","metricKeyList","paramKeyList","config","onSubmit","ExperimentLoggedModelListCharts","experimentId","cachedLoggedModels","useMemoDeep","factory","deps","metricsByDataset","_model$data$metrics","orderBy","useExperimentLoggedModelAllMetricsByDataset","loadingState","isRowHidden","useExperimentLoggedModelListPageRowVisibilityContext","compact","index","_model$info","_model$info$name","_model$info2","_model$info3","_model$data$params$ma","_model$data2","_model$data2$params","model_id","images","keyBy","timestamp","step","dataKey","hidden","getStableColorForRun","useExperimentLoggedModelsChartsData","justifyContent","alignItems","Spinner","RunsChartsUIConfigurationContextProvider","ExperimentLoggedModelListPageImpl","useParams","isLoggedModelsFilteringAndSortingEnabled","rowVisibilityMap","rowVisibilityMode","isFilteringActive","setOrderBy","setColumnVisibility","setRowVisibilityMode","toggleRowVisibility","updateSearchQuery","toggleDataset","clearSelectedDatasets","setGroupBy","useLoggedModelsListPageState","invariant","useExperimentLoggedModelListPageMode","setParams","useSearchParams","get","mode","isFetching","isFetchingLoggedModels","isLoading","isLoadingLoggedModels","loggedModelsError","nextPageToken","loadMoreResults","useSearchLoggedModelsQuery","experimentIds","getOrderByRequestData","orderByField","parsedMetricOrderByColumn","datasetDigest","orderByDatasetName","orderByDatasetDigest","badRequestError","BadRequestError","relatedRunsData","useRelatedRunsDataForLoggedModels","compactColumnDefs","useExperimentLoggedModelListPageTableColumns","enableSortingByMetrics","tableAreaWidth","setTableAreaWidth","tableHidden","setTableHidden","isCompactTableMode","tableElement","ExperimentLoggedModelListPageTable","isLoadingMore","moreResultsAvailable","onLoadMore","onOrderByChange","groupModelsBy","ExperimentLoggedModelOpenDatasetDetailsContextProvider","ExperimentLoggedModelListPageRowVisibilityContextProvider","visibilityMap","visibilityMode","Spacer","shrinks","Alert","closable","RunsChartsSetHighlightContextProvider","ExperimentViewRunsTableResizer","onResize","runListHidden","onHiddenChange","maxWidth","ExperimentLoggedModelListPage","useUpdateExperimentViewUIState","dragging","setDragging","ResizableBox","style","axis","resizeHandles","minConstraints","maxConstraints","handle","ExperimentViewRunsTableResizerHandle","updateRunListHidden","event","onResizeStart","onResizeStop","Global","props","transition","position","zIndex","opacity","actionDefaultBorderHover","left","iconSize","cursor","top","bottom","borderRadius","ChevronRightIcon","ChevronLeftIcon","cleanEntitySearchTagNames","MLFLOW_INTERNAL_PREFIX","attributeOptions","m","p","t","boldedText","wholeText","shouldBeBold","textArray","RegExp","replace","match","item","str","re","clauses","results","lastIndex","exec","clause","getClausesAndStartIndex","clauseObj","entity","newOptions","limitForGroup","ellipsized","slice","getQueryKey","runUuid","queryFn","queryKey","MlflowService","getRun","run_id","_queryResults$find","runUuids","allMetricRunUuids","allSourceRunUuids","source_run_id","queryResults","useQueries","queries","cacheTime","Infinity","staleTime","refetchOnWindowFocus","retry","memoizedQueryResults","array","areArraysConsideredTheSame","every","element","_ref$current","useArrayMemo"],"ignoreList":[],"sourceRoot":""}