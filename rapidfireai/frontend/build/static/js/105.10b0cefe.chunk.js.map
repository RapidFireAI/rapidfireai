{"version":3,"file":"static/js/105.10b0cefe.chunk.js","mappings":"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","sources":["../node_modules/react-mde/lib/js/util/ClassNames.js","../node_modules/react-mde/lib/js/commands/default-commands/defaults.js","../node_modules/react-mde/lib/js/icons/SvgIcon.js","../node_modules/react-mde/lib/js/util/Math.js","../node_modules/react-mde/lib/js/components/Toolbar.js","../node_modules/react-mde/lib/js/commands/default-commands/imageCommand.js","../node_modules/react-mde/lib/js/components/Preview.js","../node_modules/react-mde/lib/js/commands/command-utils.js","../node_modules/react-mde/lib/js/util/InsertTextAtPosition.js","../node_modules/react-mde/lib/js/index.js","../node_modules/react-mde/lib/js/commands/default-commands/strikeThroughCommand.js","../node_modules/react-mde/lib/js/components/ToolbarButton.js","../node_modules/react-mde/lib/js/components/ReactMde.js","../node_modules/react-mde/lib/js/commands/default-commands/quoteCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/save-image-command.js","../node_modules/react-mde/lib/js/commands/default-commands/listCommands.js","../node_modules/react-mde/lib/js/commands/default-commands/headerCommand.js","../node_modules/react-mde/lib/js/util/MarkdownUtil.js","../node_modules/react-mde/lib/js/commands/command-orchestrator.js","../node_modules/react-mde/lib/js/icons/index.js","../node_modules/react-mde/lib/js/util/TextAreaCaretPosition.js","../node_modules/react-mde/lib/js/util/files.js","../node_modules/react-mde/lib/js/commands/default-commands/italicCommand.js","../node_modules/react-mde/lib/js/l18n/react-mde.en.js","../node_modules/react-mde/lib/js/components/index.js","../node_modules/react-mde/lib/js/commands/default-commands/linkCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/codeCommand.js","../node_modules/react-mde/lib/js/components/TextArea.js","../node_modules/react-mde/lib/js/commands/default-commands/boldCommand.js","../node_modules/react-mde/lib/js/components/SuggestionsDropdown.js","../node_modules/react-mde/lib/js/icons/MdeFontAwesomeIcon.js","../node_modules/react-mde/lib/js/components/ToolbarButtonGroup.js"],"sourcesContent":["\"use strict\";\n/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.classNames = void 0;\nfunction isString(classValue) {\n    return typeof classValue === \"string\";\n}\nfunction isNonEmptyArray(classValue) {\n    return Array.isArray(classValue) && classValue.length > 0;\n}\nfunction isClassDictionary(classValue) {\n    return typeof classValue === \"object\";\n}\nfunction classNames() {\n    var classValues = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classValues[_i] = arguments[_i];\n    }\n    var classes = [];\n    for (var i = 0; i < classValues.length; i++) {\n        var classValue = classValues[i];\n        if (!classValue)\n            continue;\n        if (isString(classValue)) {\n            classes.push(classValue);\n        }\n        else if (isNonEmptyArray(classValue)) {\n            var inner = classNames.apply(null, classValue);\n            if (inner) {\n                classes.push(inner);\n            }\n        }\n        else if (isClassDictionary(classValue)) {\n            for (var key in classValue) {\n                if (classValue.hasOwnProperty(key) && classValue[key]) {\n                    classes.push(key);\n                }\n            }\n        }\n    }\n    return classes.join(\" \");\n}\nexports.classNames = classNames;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultSaveImageCommandName = exports.getDefaultCommandMap = exports.getDefaultToolbarCommands = void 0;\nvar headerCommand_1 = require(\"./headerCommand\");\nvar boldCommand_1 = require(\"./boldCommand\");\nvar italicCommand_1 = require(\"./italicCommand\");\nvar strikeThroughCommand_1 = require(\"./strikeThroughCommand\");\nvar linkCommand_1 = require(\"./linkCommand\");\nvar quoteCommand_1 = require(\"./quoteCommand\");\nvar codeCommand_1 = require(\"./codeCommand\");\nvar listCommands_1 = require(\"./listCommands\");\nvar imageCommand_1 = require(\"./imageCommand\");\nvar save_image_command_1 = require(\"./save-image-command\");\nfunction getDefaultToolbarCommands() {\n    return [\n        [\"header\", \"bold\", \"italic\", \"strikethrough\"],\n        [\"link\", \"quote\", \"code\", \"image\"],\n        [\"unordered-list\", \"ordered-list\", \"checked-list\"]\n    ];\n}\nexports.getDefaultToolbarCommands = getDefaultToolbarCommands;\nfunction getDefaultCommandMap() {\n    return {\n        header: headerCommand_1.headerCommand,\n        bold: boldCommand_1.boldCommand,\n        italic: italicCommand_1.italicCommand,\n        strikethrough: strikeThroughCommand_1.strikeThroughCommand,\n        link: linkCommand_1.linkCommand,\n        quote: quoteCommand_1.quoteCommand,\n        code: codeCommand_1.codeCommand,\n        image: imageCommand_1.imageCommand,\n        \"unordered-list\": listCommands_1.unorderedListCommand,\n        \"ordered-list\": listCommands_1.orderedListCommand,\n        \"checked-list\": listCommands_1.checkedListCommand,\n        \"save-image\": save_image_command_1.saveImageCommand\n    };\n}\nexports.getDefaultCommandMap = getDefaultCommandMap;\nfunction getDefaultSaveImageCommandName() {\n    return \"save-image\";\n}\nexports.getDefaultSaveImageCommandName = getDefaultSaveImageCommandName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SvgIcon = void 0;\nvar React = require(\"react\");\nvar checkedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"tasks\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z\" })));\nvar orderedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"list-ol\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" })));\nvar unorderedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"list-ul\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" })));\nvar imageIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"image\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z\" })));\nvar codeIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"code\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 640 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z\" })));\nvar quoteIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"quote-right\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z\" })));\nvar linkIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"link\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" })));\nvar strikeThroughIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"strikethrough\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" })));\nvar italicIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"italic\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 320 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" })));\nvar headerIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"heading\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" })));\nvar boldIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"bold\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 384 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" })));\nvar SvgIcon = function (_a) {\n    var icon = _a.icon;\n    switch (icon) {\n        case \"header\":\n            return headerIcon;\n        case \"bold\":\n            return boldIcon;\n        case \"italic\":\n            return italicIcon;\n        case \"strikethrough\":\n            return strikeThroughIcon;\n        case \"link\":\n            return linkIcon;\n        case \"quote\":\n            return quoteIcon;\n        case \"code\":\n            return codeIcon;\n        case \"image\":\n            return imageIcon;\n        case \"unordered-list\":\n            return unorderedListIcon;\n        case \"ordered-list\":\n            return orderedListIcon;\n        case \"checked-list\":\n            return checkedListIcon;\n        default:\n            return null;\n    }\n};\nexports.SvgIcon = SvgIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mod = void 0;\n/**\n * Calculates modulus, like %, except that it works with negative numbers\n */\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nexports.mod = mod;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Toolbar = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar ToolbarButtonGroup_1 = require(\"./ToolbarButtonGroup\");\nvar ToolbarButton_1 = require(\"./ToolbarButton\");\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleTabChange = function (tab) {\n            var onTabChange = _this.props.onTabChange;\n            onTabChange(tab);\n        };\n        return _this;\n    }\n    Toolbar.prototype.render = function () {\n        var _this = this;\n        var l18n = this.props.l18n;\n        var _a = this.props, classes = _a.classes, children = _a.children, buttons = _a.buttons, onCommand = _a.onCommand, readOnly = _a.readOnly, disablePreview = _a.disablePreview, writeButtonProps = _a.writeButtonProps, previewButtonProps = _a.previewButtonProps, buttonProps = _a.buttonProps;\n        if ((!buttons || buttons.length === 0) && !children) {\n            return null;\n        }\n        var writePreviewTabs = (React.createElement(\"div\", { className: \"mde-tabs\" },\n            React.createElement(\"button\", __assign({ type: \"button\", className: ClassNames_1.classNames({ selected: this.props.tab === \"write\" }), onClick: function () { return _this.handleTabChange(\"write\"); } }, writeButtonProps), l18n.write),\n            React.createElement(\"button\", __assign({ type: \"button\", className: ClassNames_1.classNames({ selected: this.props.tab === \"preview\" }), onClick: function () { return _this.handleTabChange(\"preview\"); } }, previewButtonProps), l18n.preview)));\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"mde-header\", classes) },\n            !disablePreview && writePreviewTabs,\n            buttons.map(function (commandGroup, i) { return (React.createElement(ToolbarButtonGroup_1.ToolbarButtonGroup, { key: i, hidden: _this.props.tab === \"preview\" }, commandGroup.map(function (c, j) {\n                return (React.createElement(ToolbarButton_1.ToolbarButton, { key: j, name: c.commandName, buttonContent: c.buttonContent, buttonProps: __assign(__assign({}, (buttonProps || {})), c.buttonProps), onClick: function () { return onCommand(c.commandName); }, readOnly: readOnly, buttonComponentClass: c.buttonComponentClass }));\n            }))); })));\n    };\n    return Toolbar;\n}(React.Component));\nexports.Toolbar = Toolbar;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.imageCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.imageCommand = {\n    buttonProps: { \"aria-label\": \"Add image\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Replaces the current selection with the whole word selected\n        var state1 = textApi.setSelectionRange(MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        }));\n        // Replaces the current selection with the image\n        var imageTemplate = state1.selectedText || \"https://example.com/your-image.png\";\n        textApi.replaceSelection(\"![](\" + imageTemplate + \")\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state1.selection.start + 4,\n            end: state1.selection.start + 4 + imageTemplate.length\n        });\n    }\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Preview = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar Preview = /** @class */ (function (_super) {\n    __extends(Preview, _super);\n    function Preview(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            loading: true\n        };\n        return _this;\n    }\n    Preview.prototype.componentDidMount = function () {\n        this.generatePreview();\n    };\n    Preview.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.props.markdown !== prevProps.markdown) {\n            this.generatePreview();\n        }\n    };\n    Preview.prototype.generatePreview = function () {\n        var _this = this;\n        var _a = this.props, markdown = _a.markdown, generateMarkdownPreview = _a.generateMarkdownPreview;\n        generateMarkdownPreview(markdown).then(function (preview) {\n            _this.setState({\n                preview: preview,\n                loading: false\n            });\n        });\n    };\n    Preview.prototype.render = function () {\n        var _a = this.props, classes = _a.classes, minHeight = _a.minHeight, loadingPreview = _a.loadingPreview, refObject = _a.refObject, heightUnits = _a.heightUnits;\n        var _b = this.state, preview = _b.preview, loading = _b.loading;\n        var finalHtml = loading ? loadingPreview : preview;\n        var content;\n        if (typeof finalHtml === \"string\") {\n            content = (React.createElement(\"div\", { className: \"mde-preview-content\", dangerouslySetInnerHTML: { __html: finalHtml || \"<p>&nbsp;</p>\" }, ref: refObject }));\n        }\n        else {\n            content = React.createElement(\"div\", { className: \"mde-preview-content\" }, finalHtml);\n        }\n        var minHeightVal = minHeight && heightUnits ? minHeight + 10 + heightUnits : minHeight + 10;\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"mde-preview\", classes, { loading: loading }), style: { minHeight: minHeightVal }, \"data-testid\": \"mde-preview\" }, content));\n    };\n    return Preview;\n}(React.Component));\nexports.Preview = Preview;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractKeyActivatedCommands = void 0;\n/**\n * Returns a flat array of commands that can be activated by the keyboard.\n * When keydowns happen, these commands 'handleKeyCommand' will be executed, in this order,\n * and the first that returns true will be executed.\n */\nfunction extractKeyActivatedCommands(commandMap) {\n    var result = [];\n    for (var command in commandMap) {\n        if (commandMap.hasOwnProperty(command)) {\n            if (commandMap[command].handleKeyCommand) {\n                result.push(command);\n            }\n        }\n    }\n    return result;\n}\nexports.extractKeyActivatedCommands = extractKeyActivatedCommands;\n","\"use strict\";\n/*!\n * The MIT License\n   Copyright (c) 2018 Dmitriy Kubyshkin\n   Copied from https://github.com/grassator/insert-text-at-cursor\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.insertText = void 0;\n/**\n * Inserts the given text at the cursor. If the element contains a selection, the selection\n * will be replaced by the text.\n */\nfunction insertText(input, text) {\n    // Most of the used APIs only work with the field selected\n    input.focus();\n    // IE 8-10\n    if (document.selection) {\n        var ieRange = document.selection.createRange();\n        ieRange.text = text;\n        // Move cursor after the inserted text\n        ieRange.collapse(false /* to the end */);\n        ieRange.select();\n        return;\n    }\n    // Webkit + Edge\n    var isSuccess = document.execCommand(\"insertText\", false, text);\n    if (!isSuccess) {\n        var start = input.selectionStart;\n        var end = input.selectionEnd;\n        // Firefox (non-standard method)\n        if (typeof input.setRangeText === \"function\") {\n            input.setRangeText(text);\n        }\n        else {\n            if (canManipulateViaTextNodes(input)) {\n                var textNode = document.createTextNode(text);\n                var node = input.firstChild;\n                // If textarea is empty, just insert the text\n                if (!node) {\n                    input.appendChild(textNode);\n                }\n                else {\n                    // Otherwise we need to find a nodes for start and end\n                    var offset = 0;\n                    var startNode = null;\n                    var endNode = null;\n                    // To make a change we just need a Range, not a Selection\n                    var range = document.createRange();\n                    while (node && (startNode === null || endNode === null)) {\n                        var nodeLength = node.nodeValue.length;\n                        // if start of the selection falls into current node\n                        if (start >= offset && start <= offset + nodeLength) {\n                            range.setStart((startNode = node), start - offset);\n                        }\n                        // if end of the selection falls into current node\n                        if (end >= offset && end <= offset + nodeLength) {\n                            range.setEnd((endNode = node), end - offset);\n                        }\n                        offset += nodeLength;\n                        node = node.nextSibling;\n                    }\n                    // If there is some text selected, remove it as we should replace it\n                    if (start !== end) {\n                        range.deleteContents();\n                    }\n                    // Finally insert a new node. The browser will automatically\n                    // split start and end nodes into two if necessary\n                    range.insertNode(textNode);\n                }\n            }\n            else {\n                // For the text input the only way is to replace the whole value :(\n                var value = input.value;\n                input.value = value.slice(0, start) + text + value.slice(end);\n            }\n        }\n        // Correct the cursor position to be at the end of the insertion\n        input.setSelectionRange(start + text.length, start + text.length);\n        // Notify any possible listeners of the change\n        var e = document.createEvent(\"UIEvent\");\n        e.initEvent(\"input\", true, false);\n        input.dispatchEvent(e);\n    }\n}\nexports.insertText = insertText;\nfunction canManipulateViaTextNodes(input) {\n    if (input.nodeName !== \"TEXTAREA\") {\n        return false;\n    }\n    var browserSupportsTextareaTextNodes;\n    if (typeof browserSupportsTextareaTextNodes === \"undefined\") {\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = \"1\";\n        browserSupportsTextareaTextNodes = !!textarea.firstChild;\n    }\n    return browserSupportsTextareaTextNodes;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultToolbarCommands = exports.getDefaultCommandMap = exports.MdeFontAwesomeIcon = exports.SvgIcon = exports.MarkdownUtil = exports.ToolbarButtonGroup = exports.Toolbar = exports.Preview = exports.SuggestionsDropdown = exports.TextArea = void 0;\nvar MarkdownUtil = require(\"./util/MarkdownUtil\");\nexports.MarkdownUtil = MarkdownUtil;\nvar components_1 = require(\"./components\");\nObject.defineProperty(exports, \"TextArea\", { enumerable: true, get: function () { return components_1.TextArea; } });\nObject.defineProperty(exports, \"SuggestionsDropdown\", { enumerable: true, get: function () { return components_1.SuggestionsDropdown; } });\nObject.defineProperty(exports, \"Preview\", { enumerable: true, get: function () { return components_1.Preview; } });\nObject.defineProperty(exports, \"Toolbar\", { enumerable: true, get: function () { return components_1.Toolbar; } });\nObject.defineProperty(exports, \"ToolbarButtonGroup\", { enumerable: true, get: function () { return components_1.ToolbarButtonGroup; } });\nvar icons_1 = require(\"./icons\");\nObject.defineProperty(exports, \"SvgIcon\", { enumerable: true, get: function () { return icons_1.SvgIcon; } });\nObject.defineProperty(exports, \"MdeFontAwesomeIcon\", { enumerable: true, get: function () { return icons_1.MdeFontAwesomeIcon; } });\nvar defaults_1 = require(\"./commands/default-commands/defaults\");\nObject.defineProperty(exports, \"getDefaultCommandMap\", { enumerable: true, get: function () { return defaults_1.getDefaultCommandMap; } });\nObject.defineProperty(exports, \"getDefaultToolbarCommands\", { enumerable: true, get: function () { return defaults_1.getDefaultToolbarCommands; } });\nexports.default = components_1.ReactMde;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.strikeThroughCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.strikeThroughCommand = {\n    buttonProps: { \"aria-label\": \"Add strikethrough text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the strikethrough mark up\n        var state2 = textApi.replaceSelection(\"~~\" + state1.selectedText + \"~~\");\n        // Adjust the selection to not contain the ~~\n        textApi.setSelectionRange({\n            start: state2.selection.end - 2 - state1.selectedText.length,\n            end: state2.selection.end - 2\n        });\n    }\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolbarButton = void 0;\nvar React = require(\"react\");\nvar defaultButtonProps = {\n    tabIndex: -1\n};\nvar ToolbarButton = function (props) {\n    var buttonComponentClass = props.buttonComponentClass, buttonContent = props.buttonContent, buttonProps = props.buttonProps, onClick = props.onClick, readOnly = props.readOnly, name = props.name;\n    var finalButtonProps = __assign(__assign({}, defaultButtonProps), (buttonProps || {}));\n    var finalButtonComponent = buttonComponentClass || \"button\";\n    return (React.createElement(\"li\", { className: \"mde-header-item\" }, React.createElement(finalButtonComponent, __assign(__assign({ \"data-name\": name }, finalButtonProps), {\n        onClick: onClick,\n        disabled: readOnly,\n        type: \"button\"\n    }), buttonContent)));\n};\nexports.ToolbarButton = ToolbarButton;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReactMde = void 0;\nvar React = require(\"react\");\nvar _1 = require(\".\");\nvar defaults_1 = require(\"../commands/default-commands/defaults\");\nvar react_mde_en_1 = require(\"../l18n/react-mde.en\");\nvar icons_1 = require(\"../icons\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar command_orchestrator_1 = require(\"../commands/command-orchestrator\");\nvar pasteOptionDefaults = {\n    accept: \"image/*\",\n    multiple: false\n};\nvar ReactMde = /** @class */ (function (_super) {\n    __extends(ReactMde, _super);\n    function ReactMde(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.handleTextChange = function (value) {\n            var onChange = _this.props.onChange;\n            onChange(value);\n        };\n        _this.handlePaste = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executePasteCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleDrop = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executeDropCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleImageSelection = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executeSelectImageCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleTabChange = function (newTab) {\n            var onTabChange = _this.props.onTabChange;\n            onTabChange(newTab);\n        };\n        _this.handleCommand = function (commandName) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.commandOrchestrator.executeCommand(commandName)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.finalRefs = __assign({}, (props.refs || {}));\n        if (!_this.finalRefs.textarea) {\n            _this.finalRefs.textarea = React.createRef();\n        }\n        if (!_this.finalRefs.preview) {\n            _this.finalRefs.preview = React.createRef();\n        }\n        _this.commandOrchestrator = new command_orchestrator_1.CommandOrchestrator(_this.props.commands, _this.finalRefs.textarea, _this.props.l18n, _this.props.paste\n            ? __assign(__assign({}, pasteOptionDefaults), _this.props.paste) : undefined);\n        var minEditorHeight = Math.min(props.maxEditorHeight, props.minEditorHeight);\n        _this.state = {\n            editorHeight: (_a = props.initialEditorHeight) !== null && _a !== void 0 ? _a : minEditorHeight\n        };\n        return _this;\n    }\n    ReactMde.prototype.render = function () {\n        var _this = this;\n        var _a, _b;\n        var _c = this.props, getIcon = _c.getIcon, toolbarCommands = _c.toolbarCommands, classes = _c.classes, loadingPreview = _c.loadingPreview, readOnly = _c.readOnly, disablePreview = _c.disablePreview, value = _c.value, l18n = _c.l18n, minPreviewHeight = _c.minPreviewHeight, heightUnits = _c.heightUnits, childProps = _c.childProps, selectedTab = _c.selectedTab, generateMarkdownPreview = _c.generateMarkdownPreview, loadSuggestions = _c.loadSuggestions, suggestionTriggerCharacters = _c.suggestionTriggerCharacters, textAreaComponent = _c.textAreaComponent;\n        var finalChildProps = childProps || {};\n        var toolbarButtons = toolbarCommands.map(function (group) {\n            return group.map(function (commandName) {\n                var command = _this.commandOrchestrator.getCommand(commandName);\n                return {\n                    commandName: commandName,\n                    buttonContent: command.icon\n                        ? command.icon(getIcon)\n                        : getIcon(commandName),\n                    buttonProps: command.buttonProps,\n                    buttonComponentClass: command.buttonComponentClass\n                };\n            });\n        });\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"react-mde\", \"react-mde-tabbed-layout\", classes === null || classes === void 0 ? void 0 : classes.reactMde) },\n            React.createElement(_1.Toolbar, { classes: classes === null || classes === void 0 ? void 0 : classes.toolbar, buttons: toolbarButtons, onCommand: this.handleCommand, onTabChange: this.handleTabChange, tab: selectedTab, readOnly: readOnly, disablePreview: disablePreview, l18n: l18n, buttonProps: finalChildProps.commandButtons, writeButtonProps: finalChildProps.writeButton, previewButtonProps: finalChildProps.previewButton }),\n            React.createElement(\"div\", { className: ClassNames_1.classNames({ invisible: selectedTab !== \"write\" }) },\n                React.createElement(_1.TextArea, { classes: classes === null || classes === void 0 ? void 0 : classes.textArea, suggestionsDropdownClasses: classes === null || classes === void 0 ? void 0 : classes.suggestionsDropdown, suggestionsAutoplace: this.props.suggestionsAutoplace, refObject: this.finalRefs.textarea, onChange: this.handleTextChange, onPaste: this.handlePaste, onDrop: this.handleDrop, readOnly: readOnly, textAreaComponent: textAreaComponent, textAreaProps: childProps && childProps.textArea, height: this.state.editorHeight, heightUnits: this.props.heightUnits, value: value, suggestionTriggerCharacters: suggestionTriggerCharacters, loadSuggestions: loadSuggestions, onPossibleKeyCommand: this.commandOrchestrator.handlePossibleKeyCommand }),\n                this.props.paste && (React.createElement(\"label\", { className: ClassNames_1.classNames(\"image-tip\") },\n                    React.createElement(\"input\", { className: ClassNames_1.classNames(\"image-input\"), type: \"file\", accept: (_a = this.props.paste.accept) !== null && _a !== void 0 ? _a : pasteOptionDefaults.accept, multiple: (_b = this.props.paste.multiple) !== null && _b !== void 0 ? _b : pasteOptionDefaults.multiple, onChange: this.handleImageSelection }),\n                    React.createElement(\"span\", null, l18n.pasteDropSelect)))),\n            selectedTab !== \"write\" && (React.createElement(_1.Preview, { classes: classes === null || classes === void 0 ? void 0 : classes.preview, refObject: this.finalRefs.preview, loadingPreview: loadingPreview, minHeight: minPreviewHeight, heightUnits: heightUnits, generateMarkdownPreview: generateMarkdownPreview, markdown: value }))));\n    };\n    ReactMde.defaultProps = {\n        commands: defaults_1.getDefaultCommandMap(),\n        toolbarCommands: defaults_1.getDefaultToolbarCommands(),\n        getIcon: function (name) { return React.createElement(icons_1.SvgIcon, { icon: name }); },\n        readOnly: false,\n        l18n: react_mde_en_1.enL18n,\n        minEditorHeight: 200,\n        maxEditorHeight: 500,\n        minPreviewHeight: 200,\n        heightUnits: \"px\",\n        selectedTab: \"write\",\n        disablePreview: false,\n        suggestionTriggerCharacters: [\"@\"],\n        suggestionsAutoplace: false\n    };\n    return ReactMde;\n}(React.Component));\nexports.ReactMde = ReactMde;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.quoteCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.quoteCommand = {\n    buttonProps: { \"aria-label\": \"Insert a quote\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n        var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n        var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n        var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n        // Replaces the current selection with the quote mark up\n        textApi.replaceSelection(breaksBefore + \"> \" + state1.selectedText + breaksAfter);\n        var selectionStart = state1.selection.start + breaksBeforeCount + 2;\n        var selectionEnd = selectionStart + state1.selectedText.length;\n        textApi.setSelectionRange({\n            start: selectionStart,\n            end: selectionEnd\n        });\n    }\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.saveImageCommand = void 0;\nvar files_1 = require(\"../../util/files\");\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nfunction dataTransferToArray(items) {\n    var result = [];\n    for (var index in items) {\n        var item = items[index];\n        if (item.kind === \"file\") {\n            result.push(item.getAsFile());\n        }\n    }\n    return result;\n}\nfunction fileListToArray(list) {\n    var result = [];\n    for (var i = 0; i < list.length; i++) {\n        result.push(list[0]);\n    }\n    return result;\n}\nfunction filterItems(items, _a) {\n    var multiple = _a.multiple, accept = _a.accept;\n    var filteredItems = items;\n    if (!multiple) {\n        filteredItems = filteredItems.slice(0, 1);\n    }\n    if (accept) {\n        //https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\n        var acceptedTypes = accept.split(\",\");\n        var fileExtensions_1 = new Set(acceptedTypes.filter(function (t) { return /^\\.\\w+/.test(t); }).map(function (t) { return t.split(\".\")[1]; }));\n        var mimeTypes_1 = new Set(acceptedTypes.filter(function (t) { return /^[-\\w.]+\\/[-\\w.]+$/.test(t); }));\n        var anyTypes_1 = new Set(acceptedTypes\n            .filter(function (t) { return /(audio|video|image)\\/\\*/.test(t); })\n            .map(function (t) { return t.split(\"/\")[0]; }));\n        filteredItems = filteredItems.filter(function (f) {\n            return fileExtensions_1.has(f.name.split(\".\")[1]) ||\n                mimeTypes_1.has(f.type) ||\n                anyTypes_1.has(f.type.split(\"/\")[0]);\n        });\n    }\n    return filteredItems;\n}\nexports.saveImageCommand = {\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi, context = _a.context, l18n = _a.l18n;\n        return __awaiter(this, void 0, void 0, function () {\n            var pasteContext, event, _b, saveImage, multiple, accept, items, filteredItems, _c, _d, _i, index, initialState_1, breaksBeforeCount, breaksBefore, placeHolder, blob, blobContents, savingImage, imageUrl, newState, uploadingText, realImageMarkdown, selectionDelta;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!context) {\n                            throw new Error(\"wrong context\");\n                        }\n                        pasteContext = context;\n                        event = pasteContext.event, _b = pasteContext.pasteOptions, saveImage = _b.saveImage, multiple = _b.multiple, accept = _b.accept;\n                        items = isPasteEvent(context)\n                            ? dataTransferToArray(event.clipboardData.items)\n                            : isDragEvent(context)\n                                ? dataTransferToArray(event.dataTransfer.items)\n                                : fileListToArray(event.target.files);\n                        filteredItems = filterItems(items, { multiple: multiple, accept: accept });\n                        _c = [];\n                        for (_d in filteredItems)\n                            _c.push(_d);\n                        _i = 0;\n                        _e.label = 1;\n                    case 1:\n                        if (!(_i < _c.length)) return [3 /*break*/, 5];\n                        index = _c[_i];\n                        initialState_1 = textApi.getState();\n                        breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(initialState_1.text, initialState_1.selection.start);\n                        breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n                        placeHolder = breaksBefore + \"![\" + l18n.uploadingImage + \"]()\";\n                        textApi.replaceSelection(placeHolder);\n                        blob = items[index];\n                        return [4 /*yield*/, files_1.readFileAsync(blob)];\n                    case 2:\n                        blobContents = _e.sent();\n                        savingImage = saveImage(blobContents, blob);\n                        return [4 /*yield*/, savingImage.next()];\n                    case 3:\n                        imageUrl = (_e.sent()).value;\n                        newState = textApi.getState();\n                        uploadingText = newState.text.substr(initialState_1.selection.start, placeHolder.length);\n                        if (uploadingText === placeHolder) {\n                            // In this case, the user did not touch the placeholder. Good user\n                            // we will replace it with the real one that came from the server\n                            textApi.setSelectionRange({\n                                start: initialState_1.selection.start,\n                                end: initialState_1.selection.start + placeHolder.length\n                            });\n                            realImageMarkdown = imageUrl\n                                ? breaksBefore + \"![image](\" + imageUrl + \")\"\n                                : \"\";\n                            selectionDelta = realImageMarkdown.length - placeHolder.length;\n                            textApi.replaceSelection(realImageMarkdown);\n                            textApi.setSelectionRange({\n                                start: newState.selection.start + selectionDelta,\n                                end: newState.selection.end + selectionDelta\n                            });\n                        }\n                        _e.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    }\n};\nfunction isPasteEvent(context) {\n    return (context.event\n        .clipboardData !== undefined);\n}\nfunction isDragEvent(context) {\n    return (context.event.dataTransfer !==\n        undefined);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkedListCommand = exports.orderedListCommand = exports.unorderedListCommand = exports.makeList = exports.insertBeforeEachLine = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\n/**\n * Inserts insertionString before each line\n */\nfunction insertBeforeEachLine(selectedText, insertBefore) {\n    var lines = selectedText.split(/\\n/);\n    var insertionLength = 0;\n    var modifiedText = lines\n        .map(function (item, index) {\n        if (typeof insertBefore === \"string\") {\n            insertionLength += insertBefore.length;\n            return insertBefore + item;\n        }\n        else if (typeof insertBefore === \"function\") {\n            var insertionResult = insertBefore(item, index);\n            insertionLength += insertionResult.length;\n            return insertBefore(item, index) + item;\n        }\n        throw Error(\"insertion is expected to be either a string or a function\");\n    })\n        .join(\"\\n\");\n    return { modifiedText: modifiedText, insertionLength: insertionLength };\n}\nexports.insertBeforeEachLine = insertBeforeEachLine;\nvar makeList = function (state0, api, insertBefore) {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    var newSelectionRange = MarkdownUtil_1.selectWord({\n        text: state0.text,\n        selection: state0.selection\n    });\n    var state1 = api.setSelectionRange(newSelectionRange);\n    var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n    var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n    var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n    var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n    var modifiedText = insertBeforeEachLine(state1.selectedText, insertBefore);\n    api.replaceSelection(\"\" + breaksBefore + modifiedText.modifiedText + breaksAfter);\n    // Specifically when the text has only one line, we can exclude the \"- \", for example, from the selection\n    var oneLinerOffset = state1.selectedText.indexOf(\"\\n\") === -1 ? modifiedText.insertionLength : 0;\n    var selectionStart = state1.selection.start + breaksBeforeCount + oneLinerOffset;\n    var selectionEnd = selectionStart + modifiedText.modifiedText.length - oneLinerOffset;\n    // Adjust the selection to not contain the **\n    api.setSelectionRange({\n        start: selectionStart,\n        end: selectionEnd\n    });\n};\nexports.makeList = makeList;\nexports.unorderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add unordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, \"- \");\n    }\n};\nexports.orderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add ordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return index + 1 + \". \"; });\n    }\n};\nexports.checkedListCommand = {\n    buttonProps: { \"aria-label\": \"Add checked list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return \"- [ ] \"; });\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.headerCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nfunction setHeader(initialState, api, prefix) {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    var newSelectionRange = MarkdownUtil_1.selectWord({\n        text: initialState.text,\n        selection: initialState.selection\n    });\n    var state1 = api.setSelectionRange(newSelectionRange);\n    // Add the prefix to the selection\n    var state2 = api.replaceSelection(\"\" + prefix + state1.selectedText);\n    // Adjust the selection to not contain the prefix\n    api.setSelectionRange({\n        start: state2.selection.end - state1.selectedText.length,\n        end: state2.selection.end\n    });\n}\nexports.headerCommand = {\n    buttonProps: { \"aria-label\": \"Add header\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        setHeader(initialState, textApi, \"### \");\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBreaksNeededForEmptyLineAfter = exports.getBreaksNeededForEmptyLineBefore = exports.selectWord = exports.getSurroundingWord = void 0;\nfunction getSurroundingWord(text, position) {\n    if (!text)\n        throw Error(\"Argument 'text' should be truthy\");\n    var isWordDelimiter = function (c) { return c === \" \" || c.charCodeAt(0) === 10; };\n    // leftIndex is initialized to 0 because if selection is 0, it won't even enter the iteration\n    var start = 0;\n    // rightIndex is initialized to text.length because if selection is equal to text.length it won't even enter the interation\n    var end = text.length;\n    // iterate to the left\n    for (var i = position; i - 1 > -1; i--) {\n        if (isWordDelimiter(text[i - 1])) {\n            start = i;\n            break;\n        }\n    }\n    // iterate to the right\n    for (var i = position; i < text.length; i++) {\n        if (isWordDelimiter(text[i])) {\n            end = i;\n            break;\n        }\n    }\n    return { start: start, end: end };\n}\nexports.getSurroundingWord = getSurroundingWord;\n/**\n * If the cursor is inside a word and (selection.start === selection.end)\n * returns a new Selection where the whole word is selected\n * @param text\n * @param selection\n */\nfunction selectWord(_a) {\n    var text = _a.text, selection = _a.selection;\n    if (text && text.length && selection.start === selection.end) {\n        // the user is pointing to a word\n        return getSurroundingWord(text, selection.start);\n    }\n    return selection;\n}\nexports.selectWord = selectWord;\n/**\n *  Gets the number of line-breaks that would have to be inserted before the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the previous text\n */\nfunction getBreaksNeededForEmptyLineBefore(text, startPosition) {\n    if (text === void 0) { text = \"\"; }\n    if (startPosition === 0)\n        return 0;\n    // rules:\n    // - If we're in the first line, no breaks are needed\n    // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n    //      may need to insert 0, 1 or 2 breaks\n    var neededBreaks = 2;\n    var isInFirstLine = true;\n    for (var i = startPosition - 1; i >= 0 && neededBreaks >= 0; i--) {\n        switch (text.charCodeAt(i)) {\n            case 32: // blank space\n                continue;\n            case 10: // line break\n                neededBreaks--;\n                isInFirstLine = false;\n                break;\n            default:\n                return neededBreaks;\n        }\n    }\n    return isInFirstLine ? 0 : neededBreaks;\n}\nexports.getBreaksNeededForEmptyLineBefore = getBreaksNeededForEmptyLineBefore;\n/**\n *  Gets the number of line-breaks that would have to be inserted after the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the next text\n */\nfunction getBreaksNeededForEmptyLineAfter(text, startPosition) {\n    if (text === void 0) { text = \"\"; }\n    if (startPosition === text.length - 1)\n        return 0;\n    // rules:\n    // - If we're in the first line, no breaks are needed\n    // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n    //      may need to insert 0, 1 or 2 breaks\n    var neededBreaks = 2;\n    var isInLastLine = true;\n    for (var i = startPosition; i < text.length && neededBreaks >= 0; i++) {\n        switch (text.charCodeAt(i)) {\n            case 32:\n                continue;\n            case 10: {\n                neededBreaks--;\n                isInLastLine = false;\n                break;\n            }\n            default:\n                return neededBreaks;\n        }\n    }\n    return isInLastLine ? 0 : neededBreaks;\n}\nexports.getBreaksNeededForEmptyLineAfter = getBreaksNeededForEmptyLineAfter;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandOrchestrator = exports.getStateFromTextArea = exports.TextAreaTextApi = void 0;\nvar __1 = require(\"..\");\nvar InsertTextAtPosition_1 = require(\"../util/InsertTextAtPosition\");\nvar command_utils_1 = require(\"./command-utils\");\nvar defaults_1 = require(\"./default-commands/defaults\");\nvar TextAreaTextApi = /** @class */ (function () {\n    function TextAreaTextApi(textAreaRef) {\n        this.textAreaRef = textAreaRef;\n    }\n    TextAreaTextApi.prototype.replaceSelection = function (text) {\n        var textArea = this.textAreaRef.current;\n        InsertTextAtPosition_1.insertText(textArea, text);\n        return getStateFromTextArea(textArea);\n    };\n    TextAreaTextApi.prototype.setSelectionRange = function (selection) {\n        var textArea = this.textAreaRef.current;\n        textArea.focus();\n        textArea.selectionStart = selection.start;\n        textArea.selectionEnd = selection.end;\n        return getStateFromTextArea(textArea);\n    };\n    TextAreaTextApi.prototype.getState = function () {\n        var textArea = this.textAreaRef.current;\n        return getStateFromTextArea(textArea);\n    };\n    return TextAreaTextApi;\n}());\nexports.TextAreaTextApi = TextAreaTextApi;\nfunction getStateFromTextArea(textArea) {\n    return {\n        selection: {\n            start: textArea.selectionStart,\n            end: textArea.selectionEnd\n        },\n        text: textArea.value,\n        selectedText: textArea.value.slice(textArea.selectionStart, textArea.selectionEnd)\n    };\n}\nexports.getStateFromTextArea = getStateFromTextArea;\nvar CommandOrchestrator = /** @class */ (function () {\n    function CommandOrchestrator(customCommands, textArea, l18n, pasteOptions) {\n        var _this = this;\n        this.getCommand = function (name) {\n            var command = _this.commandMap[name];\n            if (!command) {\n                throw new Error(\"Cannot execute command. Command not found: \" + name);\n            }\n            return command;\n        };\n        /**\n         * Tries to find a command the wants to handle the keyboard event.\n         * If a command is found, it is executed and the function returns\n         */\n        this.handlePossibleKeyCommand = function (e) {\n            for (var _i = 0, _a = _this.keyActivatedCommands; _i < _a.length; _i++) {\n                var commandName = _a[_i];\n                if (_this.getCommand(commandName).handleKeyCommand(e)) {\n                    _this.executeCommand(commandName).then(function (r) { });\n                    return true;\n                }\n            }\n            return false;\n        };\n        if (pasteOptions && !pasteOptions.saveImage) {\n            throw new Error(\"paste options are incomplete. saveImage are required \");\n        }\n        this.commandMap = __assign(__assign({}, __1.getDefaultCommandMap()), (customCommands || {}));\n        this.pasteOptions = pasteOptions;\n        this.keyActivatedCommands = command_utils_1.extractKeyActivatedCommands(customCommands);\n        this.textAreaRef = textArea;\n        this.textApi = new TextAreaTextApi(textArea);\n        this.l18n = l18n;\n    }\n    CommandOrchestrator.prototype.executeCommand = function (commandName, context) {\n        return __awaiter(this, void 0, void 0, function () {\n            var command, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.isExecuting) {\n                            // The simplest thing to do is to ignore commands while\n                            // there is already a command executing. The alternative would be to queue commands\n                            // but there is no guarantee that the state after one command executes will still be compatible\n                            // with the next one. In fact, it is likely not to be.\n                            return [2 /*return*/];\n                        }\n                        this.isExecuting = true;\n                        command = this.commandMap[commandName];\n                        result = command.execute({\n                            initialState: getStateFromTextArea(this.textAreaRef.current),\n                            textApi: this.textApi,\n                            l18n: this.l18n,\n                            context: context\n                        });\n                        return [4 /*yield*/, result];\n                    case 1:\n                        _a.sent();\n                        this.isExecuting = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Executes the paste command\n     */\n    CommandOrchestrator.prototype.executePasteCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            pasteOptions: this.pasteOptions,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Executes the drop command\n     */\n    CommandOrchestrator.prototype.executeDropCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            pasteOptions: this.pasteOptions,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Executes the \"select image\" command\n     */\n    CommandOrchestrator.prototype.executeSelectImageCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            pasteOptions: this.pasteOptions,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Returns a command by name\n     * @param name\n     */\n    CommandOrchestrator.prototype.getCommandByName = function (name) {\n        return this.commandMap[name];\n    };\n    return CommandOrchestrator;\n}());\nexports.CommandOrchestrator = CommandOrchestrator;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./MdeFontAwesomeIcon\"), exports);\n__exportStar(require(\"./SvgIcon\"), exports);\n","\"use strict\";\n/* jshint browser: true */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCaretCoordinates = void 0;\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n    \"direction\",\n    \"boxSizing\",\n    \"width\",\n    \"height\",\n    \"overflowX\",\n    \"overflowY\",\n    \"borderTopWidth\",\n    \"borderRightWidth\",\n    \"borderBottomWidth\",\n    \"borderLeftWidth\",\n    \"borderStyle\",\n    \"paddingTop\",\n    \"paddingRight\",\n    \"paddingBottom\",\n    \"paddingLeft\",\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n    \"fontStyle\",\n    \"fontVariant\",\n    \"fontWeight\",\n    \"fontStretch\",\n    \"fontSize\",\n    \"fontSizeAdjust\",\n    \"lineHeight\",\n    \"fontFamily\",\n    \"textAlign\",\n    \"textTransform\",\n    \"textIndent\",\n    \"textDecoration\",\n    \"letterSpacing\",\n    \"wordSpacing\",\n    \"tabSize\",\n    \"MozTabSize\"\n];\nvar isBrowser = typeof window !== \"undefined\";\nvar isFirefox = isBrowser && window.mozInnerScreenX != null;\nfunction getCaretCoordinates(element, append) {\n    if (!isBrowser) {\n        throw new Error(\"getCaretCoordinates should only be called in a browser\");\n    }\n    // The mirror div will replicate the textarea's style\n    var div = document.createElement(\"div\");\n    div.id = \"input-textarea-caret-position-mirror-div\";\n    document.body.appendChild(div);\n    var style = div.style;\n    var computed = window.getComputedStyle\n        ? window.getComputedStyle(element)\n        : element.currentStyle; // currentStyle for IE < 9\n    // Default textarea styles\n    style.whiteSpace = \"pre-wrap\";\n    style.wordWrap = \"break-word\"; // only for textarea-s\n    // Position off-screen\n    style.position = \"absolute\"; // required to return coordinates properly\n    style.visibility = \"hidden\"; // not 'display: none' because we want rendering\n    // Transfer the element's properties to the div\n    properties.forEach(function (prop) {\n        style[prop] = computed[prop];\n    });\n    if (isFirefox) {\n        // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n        if (element.scrollHeight > parseInt(computed.height))\n            style.overflowY = \"scroll\";\n    }\n    else {\n        style.overflow = \"hidden\"; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n    }\n    div.textContent = element.value.substring(0, element.selectionStart);\n    if (append) {\n        div.textContent += append;\n    }\n    var span = document.createElement(\"span\");\n    // Wrapping must be replicated *exactly*, including when a long word gets\n    // onto the next line, with whitespace at the end of the line before (#7).\n    // The  *only* reliable way to do that is to copy the *entire* rest of the\n    // textarea's content into the <span> created at the caret position.\n    // For inputs, just '.' would be enough, but no need to bother.\n    span.textContent = element.value.substring(element.selectionEnd) || \".\"; // || because a completely empty faux span doesn't render at all\n    div.appendChild(span);\n    var coordinates = {\n        top: span.offsetTop + parseInt(computed[\"borderTopWidth\"]),\n        left: span.offsetLeft + parseInt(computed[\"borderLeftWidth\"]),\n        lineHeight: parseInt(computed[\"lineHeight\"])\n    };\n    document.body.removeChild(div);\n    return coordinates;\n}\nexports.getCaretCoordinates = getCaretCoordinates;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readFileAsync = void 0;\n/**\n * Reads a file and returns an ArrayBuffer\n * @param file\n */\nfunction readFileAsync(file) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        if (typeof reader.result === \"string\") {\n                            throw new Error(\"reader.result is expected to be an ArrayBuffer\");\n                        }\n                        resolve(reader.result);\n                    };\n                    reader.onerror = reject;\n                    reader.readAsArrayBuffer(file);\n                })];\n        });\n    });\n}\nexports.readFileAsync = readFileAsync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.italicCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.italicCommand = {\n    buttonProps: { \"aria-label\": \"Add italic text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the italic mark up\n        var state2 = textApi.replaceSelection(\"*\" + state1.selectedText + \"*\");\n        // Adjust the selection to not contain the *\n        textApi.setSelectionRange({\n            start: state2.selection.end - 1 - state1.selectedText.length,\n            end: state2.selection.end - 1\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"i\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enL18n = void 0;\nexports.enL18n = {\n    write: \"Write\",\n    preview: \"Preview\",\n    uploadingImage: \"Uploading image...\",\n    pasteDropSelect: \"Attach files by dragging & dropping, selecting or pasting them.\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ToolbarButtonGroup\"), exports);\n__exportStar(require(\"./ToolbarButton\"), exports);\n__exportStar(require(\"../icons/MdeFontAwesomeIcon\"), exports);\n__exportStar(require(\"./Preview\"), exports);\n__exportStar(require(\"./TextArea\"), exports);\n__exportStar(require(\"./Toolbar\"), exports);\n__exportStar(require(\"./ReactMde\"), exports);\n__exportStar(require(\"./SuggestionsDropdown\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.linkCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.linkCommand = {\n    buttonProps: { \"aria-label\": \"Add a link\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the bold mark up\n        var state2 = textApi.replaceSelection(\"[\" + state1.selectedText + \"](url)\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state2.selection.end - 6 - state1.selectedText.length,\n            end: state2.selection.end - 6\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"k\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.codeCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.codeCommand = {\n    buttonProps: { \"aria-label\": \"Insert code\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // when there's no breaking line\n        if (state1.selectedText.indexOf(\"\\n\") === -1) {\n            textApi.replaceSelection(\"`\" + state1.selectedText + \"`\");\n            // Adjust the selection to not contain the **\n            var selectionStart_1 = state1.selection.start + 1;\n            var selectionEnd_1 = selectionStart_1 + state1.selectedText.length;\n            textApi.setSelectionRange({\n                start: selectionStart_1,\n                end: selectionEnd_1\n            });\n            return;\n        }\n        var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n        var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n        var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n        var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n        textApi.replaceSelection(breaksBefore + \"```\\n\" + state1.selectedText + \"\\n```\" + breaksAfter);\n        var selectionStart = state1.selection.start + breaksBeforeCount + 4;\n        var selectionEnd = selectionStart + state1.selectedText.length;\n        textApi.setSelectionRange({\n            start: selectionStart,\n            end: selectionEnd\n        });\n    }\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextArea = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar TextAreaCaretPosition_1 = require(\"../util/TextAreaCaretPosition\");\nvar InsertTextAtPosition_1 = require(\"../util/InsertTextAtPosition\");\nvar Math_1 = require(\"../util/Math\");\nvar SuggestionsDropdown_1 = require(\"./SuggestionsDropdown\");\nvar TextArea = /** @class */ (function (_super) {\n    __extends(TextArea, _super);\n    function TextArea(props) {\n        var _this = _super.call(this, props) || this;\n        _this.currentLoadSuggestionsPromise = Promise.resolve(undefined);\n        /**\n         * suggestionsPromiseIndex exists as a means to cancel what happens when the suggestions promise finishes loading.\n         *\n         * When the user is searching for suggestions, there is a promise that, when resolved, causes a re-render.\n         * However, in case there is another promise to be resolved after the current one, it does not make sense to re-render\n         * only to re-render again after the next one is complete.\n         *\n         * When there is a promise loading and the user cancels the suggestion, you don't want the status to go back to \"active\"\n         * when the promise resolves.\n         *\n         * suggestionsPromiseIndex increments every time the mentions query\n         */\n        _this.suggestionsPromiseIndex = 0;\n        _this.getTextArea = function () {\n            return _this.props.refObject.current;\n        };\n        _this.handleOnChange = function (event) {\n            var onChange = _this.props.onChange;\n            onChange(event.target.value);\n        };\n        _this.handleBlur = function () {\n            var mention = _this.state.mention;\n            if (mention) {\n                _this.setState({ mention: { status: \"inactive\", suggestions: [] } });\n            }\n        };\n        _this.startLoadingSuggestions = function (text) {\n            var promiseIndex = ++_this.suggestionsPromiseIndex;\n            var loadSuggestions = _this.props.loadSuggestions;\n            _this.currentLoadSuggestionsPromise = _this.currentLoadSuggestionsPromise\n                .then(function () { return loadSuggestions(text, _this.state.mention.triggeredBy); })\n                .then(function (suggestions) {\n                if (_this.state.mention.status === \"inactive\") {\n                    // This means this promise resolved too late when the status has already been set to inactice\n                    return;\n                }\n                else if (_this.suggestionsPromiseIndex === promiseIndex) {\n                    if (!suggestions || !suggestions.length) {\n                        _this.setState({\n                            mention: {\n                                status: \"inactive\",\n                                suggestions: []\n                            }\n                        });\n                    }\n                    else {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"active\", suggestions: suggestions, focusIndex: 0 })\n                        });\n                    }\n                    _this.suggestionsPromiseIndex = 0;\n                }\n                return Promise.resolve();\n            });\n        };\n        _this.loadEmptySuggestion = function (target, key) {\n            var caret = TextAreaCaretPosition_1.getCaretCoordinates(target, key);\n            _this.startLoadingSuggestions(\"\");\n            _this.setState({\n                mention: {\n                    status: \"loading\",\n                    startPosition: target.selectionStart + 1,\n                    caret: caret,\n                    suggestions: [],\n                    triggeredBy: key\n                }\n            });\n        };\n        _this.handleSuggestionSelected = function (index) {\n            var mention = _this.state.mention;\n            _this.getTextArea().selectionStart = mention.startPosition - 1;\n            var textForInsert = _this.props.value.substr(_this.getTextArea().selectionStart, _this.getTextArea().selectionEnd - _this.getTextArea().selectionStart);\n            InsertTextAtPosition_1.insertText(_this.getTextArea(), mention.suggestions[index].value + \" \");\n            _this.setState({\n                mention: {\n                    status: \"inactive\",\n                    suggestions: []\n                }\n            });\n        };\n        _this.handleKeyDown = function (event) {\n            if (_this.props.onPossibleKeyCommand) {\n                var handled = _this.props.onPossibleKeyCommand(event);\n                if (handled) {\n                    event.preventDefault();\n                    // If the keydown resulted in a command being executed, we will just close the suggestions if they are open.\n                    // Resetting suggestionsPromiseIndex will cause any promise that is yet to be resolved to have no effect\n                    // when they finish loading.\n                    // TODO: The code below is duplicate, we need to clean this up\n                    _this.suggestionsPromiseIndex = 0;\n                    _this.setState({\n                        mention: {\n                            status: \"inactive\",\n                            suggestions: []\n                        }\n                    });\n                    return;\n                }\n            }\n            if (!_this.suggestionsEnabled()) {\n                return;\n            }\n            var key = event.key, shiftKey = event.shiftKey, currentTarget = event.currentTarget;\n            var selectionStart = currentTarget.selectionStart;\n            var mention = _this.state.mention;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \"Escape\" ||\n                        (key === \"Backspace\" &&\n                            selectionStart <= _this.state.mention.startPosition)) {\n                        // resetting suggestionsPromiseIndex will cause any promise that is yet to be resolved to have no effect\n                        // when they finish loading.\n                        _this.suggestionsPromiseIndex = 0;\n                        _this.setState({\n                            mention: {\n                                status: \"inactive\",\n                                suggestions: []\n                            }\n                        });\n                    }\n                    else if (mention.status === \"active\" &&\n                        (key === \"ArrowUp\" || key === \"ArrowDown\") &&\n                        !shiftKey) {\n                        event.preventDefault();\n                        var focusDelta = key === \"ArrowUp\" ? -1 : 1;\n                        _this.setState({\n                            mention: __assign(__assign({}, mention), { focusIndex: Math_1.mod(mention.focusIndex + focusDelta, mention.suggestions.length) })\n                        });\n                    }\n                    else if (key === \"Enter\" &&\n                        mention.status === \"active\" &&\n                        mention.suggestions.length) {\n                        event.preventDefault();\n                        _this.handleSuggestionSelected(mention.focusIndex);\n                    }\n                    break;\n                default:\n                // Ignore\n            }\n        };\n        _this.handleKeyUp = function (event) {\n            var key = event.key;\n            var mention = _this.state.mention;\n            var _a = _this.props, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, value = _a.value;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \"Backspace\") {\n                        var searchText = value.substr(mention.startPosition, _this.getTextArea().selectionStart - mention.startPosition);\n                        _this.startLoadingSuggestions(searchText);\n                        if (mention.status !== \"loading\") {\n                            _this.setState({\n                                mention: __assign(__assign({}, _this.state.mention), { status: \"loading\" })\n                            });\n                        }\n                    }\n                    break;\n                case \"inactive\":\n                    if (key === \"Backspace\") {\n                        var prevChar = value.charAt(_this.getTextArea().selectionStart - 1);\n                        var isAtMention = suggestionTriggerCharacters.includes(value.charAt(_this.getTextArea().selectionStart - 1));\n                        if (isAtMention) {\n                            _this.loadEmptySuggestion(event.currentTarget, prevChar);\n                        }\n                    }\n                    break;\n                default:\n                // Ignore\n            }\n        };\n        _this.handleKeyPress = function (event) {\n            var _a = _this.props, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, value = _a.value;\n            var mention = _this.state.mention;\n            var key = event.key;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \" \") {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"inactive\" })\n                        });\n                        return;\n                    }\n                    var searchText = value.substr(mention.startPosition, _this.getTextArea().selectionStart - mention.startPosition) + key;\n                    // In this case, the mentions box was open but the user typed something else\n                    _this.startLoadingSuggestions(searchText);\n                    if (mention.status !== \"loading\") {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"loading\" })\n                        });\n                    }\n                    break;\n                case \"inactive\":\n                    if (suggestionTriggerCharacters.indexOf(event.key) === -1 ||\n                        !/\\s|\\(|\\[|^.{0}$/.test(value.charAt(_this.getTextArea().selectionStart - 1))) {\n                        return;\n                    }\n                    _this.loadEmptySuggestion(event.currentTarget, event.key);\n                    break;\n            }\n        };\n        _this.state = { mention: { status: \"inactive\", suggestions: [] } };\n        return _this;\n    }\n    TextArea.prototype.suggestionsEnabled = function () {\n        return (this.props.suggestionTriggerCharacters &&\n            this.props.suggestionTriggerCharacters.length &&\n            this.props.loadSuggestions);\n    };\n    TextArea.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, classes = _a.classes, readOnly = _a.readOnly, textAreaProps = _a.textAreaProps, height = _a.height, heightUnits = _a.heightUnits, value = _a.value, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, loadSuggestions = _a.loadSuggestions, suggestionsDropdownClasses = _a.suggestionsDropdownClasses, textAreaComponent = _a.textAreaComponent, onPaste = _a.onPaste, onDrop = _a.onDrop;\n        var suggestionsEnabled = suggestionTriggerCharacters &&\n            suggestionTriggerCharacters.length &&\n            loadSuggestions;\n        var mention = this.state.mention;\n        var TextAreaComponent = (textAreaComponent ||\n            \"textarea\");\n        var heightVal = height && heightUnits ? height + heightUnits : height;\n        return (React.createElement(\"div\", { className: \"mde-textarea-wrapper\" },\n            React.createElement(TextAreaComponent, __assign({ className: ClassNames_1.classNames(\"mde-text\", classes), style: { height: heightVal }, ref: this.props.refObject, readOnly: readOnly, value: value, \"data-testid\": \"text-area\" }, textAreaProps, { onChange: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onChange) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    _this.handleOnChange(event);\n                }, onBlur: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onBlur) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    if (suggestionsEnabled) {\n                        _this.handleBlur();\n                    }\n                }, onKeyDown: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    _this.handleKeyDown(event);\n                }, onKeyUp: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyUp) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    if (suggestionsEnabled) {\n                        _this.handleKeyUp(event);\n                    }\n                }, onKeyPress: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyPress) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    if (suggestionsEnabled) {\n                        _this.handleKeyPress(event);\n                    }\n                }, onPaste: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onPaste) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    onPaste(event);\n                }, onDragOver: function (event) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }, onDrop: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onDrop) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    onDrop(event);\n                    event.preventDefault();\n                } })),\n            mention.status === \"active\" && mention.suggestions.length && (React.createElement(SuggestionsDropdown_1.SuggestionsDropdown, { classes: suggestionsDropdownClasses, caret: mention.caret, suggestions: mention.suggestions, onSuggestionSelected: this.handleSuggestionSelected, suggestionsAutoplace: this.props.suggestionsAutoplace, focusIndex: mention.focusIndex, textAreaRef: this.props.refObject }))));\n    };\n    return TextArea;\n}(React.Component));\nexports.TextArea = TextArea;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boldCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.boldCommand = {\n    buttonProps: { \"aria-label\": \"Add bold text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the bold mark up\n        var state2 = textApi.replaceSelection(\"**\" + state1.selectedText + \"**\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state2.selection.end - 2 - state1.selectedText.length,\n            end: state2.selection.end - 2\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"b\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SuggestionsDropdown = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar SuggestionsDropdown = function (_a) {\n    var classes = _a.classes, suggestions = _a.suggestions, caret = _a.caret, onSuggestionSelected = _a.onSuggestionSelected, suggestionsAutoplace = _a.suggestionsAutoplace, focusIndex = _a.focusIndex, textAreaRef = _a.textAreaRef;\n    var handleSuggestionClick = function (event) {\n        event.preventDefault();\n        var index = parseInt(event.currentTarget.attributes[\"data-index\"].value);\n        onSuggestionSelected(index);\n    };\n    var handleMouseDown = function (event) { return event.preventDefault(); };\n    var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n    var vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n    var left = caret.left - textAreaRef.current.scrollLeft;\n    var top = caret.top - textAreaRef.current.scrollTop;\n    var style = {};\n    if (suggestionsAutoplace &&\n        top + textAreaRef.current.getBoundingClientRect().top > vh / 2)\n        style.bottom = textAreaRef.current.offsetHeight - top;\n    else\n        style.top = top;\n    if (suggestionsAutoplace &&\n        left + textAreaRef.current.getBoundingClientRect().left > vw / 2)\n        style.right = textAreaRef.current.offsetWidth - left;\n    else\n        style.left = left;\n    return (React.createElement(\"ul\", { className: ClassNames_1.classNames(\"mde-suggestions\", classes), style: style }, suggestions.map(function (s, i) { return (React.createElement(\"li\", { onClick: handleSuggestionClick, onMouseDown: handleMouseDown, key: i, \"aria-selected\": focusIndex === i ? \"true\" : \"false\", \"data-index\": \"\" + i }, s.preview)); })));\n};\nexports.SuggestionsDropdown = SuggestionsDropdown;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdeFontAwesomeIcon = void 0;\nvar React = require(\"react\");\nvar MdeFontAwesomeIcon = function (_a) {\n    var icon = _a.icon;\n    var transformedIcon = icon;\n    switch (icon) {\n        case \"header\":\n            transformedIcon = \"heading\";\n            break;\n        case \"quote\":\n            transformedIcon = \"quote-right\";\n            break;\n        case \"unordered-list\":\n            transformedIcon = \"tasks\";\n            break;\n        case \"ordered-list\":\n            transformedIcon = \"list-ol\";\n            break;\n        case \"checked-list\":\n            transformedIcon = \"tasks\";\n            break;\n        default:\n            transformedIcon = icon;\n    }\n    return React.createElement(\"i\", { className: \"fas fa-\" + transformedIcon, \"aria-hidden\": \"true\" });\n};\nexports.MdeFontAwesomeIcon = MdeFontAwesomeIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolbarButtonGroup = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar ToolbarButtonGroup = function (props) {\n    return (React.createElement(\"ul\", { className: ClassNames_1.classNames(\"mde-header-group\", { hidden: props.hidden }) }, props.children));\n};\nexports.ToolbarButtonGroup = ToolbarButtonGroup;\n"],"names":["isString","classValue","isNonEmptyArray","Array","isArray","length","isClassDictionary","Object","defineProperty","exports","value","classNames","classValues","_i","arguments","classes","i","push","inner","apply","key","hasOwnProperty","join","getDefaultSaveImageCommandName","getDefaultCommandMap","getDefaultToolbarCommands","headerCommand_1","require","boldCommand_1","italicCommand_1","strikeThroughCommand_1","linkCommand_1","quoteCommand_1","codeCommand_1","listCommands_1","imageCommand_1","save_image_command_1","header","headerCommand","bold","boldCommand","italic","italicCommand","strikethrough","strikeThroughCommand","link","linkCommand","quote","quoteCommand","code","codeCommand","image","imageCommand","unorderedListCommand","orderedListCommand","checkedListCommand","saveImageCommand","SvgIcon","React","checkedListIcon","createElement","className","role","xmlns","viewBox","fill","d","orderedListIcon","unorderedListIcon","imageIcon","codeIcon","quoteIcon","linkIcon","strikeThroughIcon","italicIcon","headerIcon","boldIcon","_a","icon","mod","n","m","__extends","this","extendStatics","b","setPrototypeOf","__proto__","p","prototype","call","TypeError","String","__","constructor","create","__assign","assign","t","s","Toolbar","ClassNames_1","ToolbarButtonGroup_1","ToolbarButton_1","_super","_this","handleTabChange","tab","onTabChange","props","render","l18n","children","buttons","onCommand","readOnly","disablePreview","writeButtonProps","previewButtonProps","buttonProps","writePreviewTabs","type","selected","onClick","write","preview","map","commandGroup","ToolbarButtonGroup","hidden","c","j","ToolbarButton","name","commandName","buttonContent","buttonComponentClass","Component","MarkdownUtil_1","execute","initialState","textApi","state1","setSelectionRange","selectWord","text","selection","imageTemplate","selectedText","replaceSelection","start","end","Preview","state","loading","componentDidMount","generatePreview","componentDidUpdate","prevProps","prevState","markdown","generateMarkdownPreview","then","setState","content","minHeight","loadingPreview","refObject","heightUnits","_b","finalHtml","dangerouslySetInnerHTML","__html","ref","minHeightVal","style","extractKeyActivatedCommands","commandMap","result","command","handleKeyCommand","insertText","input","focus","document","ieRange","createRange","collapse","select","execCommand","selectionStart","selectionEnd","setRangeText","nodeName","browserSupportsTextareaTextNodes","textarea","firstChild","canManipulateViaTextNodes","textNode","createTextNode","node","offset","startNode","endNode","range","nodeLength","nodeValue","setStart","setEnd","nextSibling","deleteContents","insertNode","appendChild","slice","e","createEvent","initEvent","dispatchEvent","MdeFontAwesomeIcon","MarkdownUtil","SuggestionsDropdown","TextArea","components_1","enumerable","get","icons_1","defaults_1","ReactMde","newSelectionRange","state2","defaultButtonProps","tabIndex","finalButtonProps","finalButtonComponent","disabled","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","_1","react_mde_en_1","command_orchestrator_1","pasteOptionDefaults","accept","multiple","handleTextChange","onChange","handlePaste","event","paste","saveImage","commandOrchestrator","executePasteCommand","handleDrop","executeDropCommand","handleImageSelection","executeSelectImageCommand","newTab","handleCommand","executeCommand","finalRefs","refs","createRef","CommandOrchestrator","commands","undefined","minEditorHeight","Math","min","maxEditorHeight","editorHeight","initialEditorHeight","_c","getIcon","toolbarCommands","minPreviewHeight","childProps","selectedTab","loadSuggestions","suggestionTriggerCharacters","textAreaComponent","finalChildProps","toolbarButtons","group","getCommand","reactMde","toolbar","commandButtons","writeButton","previewButton","invisible","textArea","suggestionsDropdownClasses","suggestionsDropdown","suggestionsAutoplace","onPaste","onDrop","textAreaProps","height","onPossibleKeyCommand","handlePossibleKeyCommand","pasteDropSelect","defaultProps","enL18n","breaksBeforeCount","getBreaksNeededForEmptyLineBefore","breaksBefore","breaksAfterCount","getBreaksNeededForEmptyLineAfter","breaksAfter","files_1","dataTransferToArray","items","index","item","kind","getAsFile","context","pasteContext","filteredItems","_d","initialState_1","placeHolder","blob","blobContents","imageUrl","newState","realImageMarkdown","selectionDelta","_e","Error","pasteOptions","clipboardData","isPasteEvent","dataTransfer","isDragEvent","list","fileListToArray","target","files","acceptedTypes","split","fileExtensions_1","Set","filter","test","mimeTypes_1","anyTypes_1","has","filterItems","getState","uploadingImage","readFileAsync","substr","makeList","insertBeforeEachLine","insertBefore","lines","insertionLength","modifiedText","insertionResult","state0","api","oneLinerOffset","indexOf","prefix","setHeader","getSurroundingWord","position","isWordDelimiter","charCodeAt","startPosition","neededBreaks","isInFirstLine","isInLastLine","getStateFromTextArea","TextAreaTextApi","__1","InsertTextAtPosition_1","command_utils_1","textAreaRef","current","customCommands","keyActivatedCommands","r","isExecuting","getCommandByName","__createBinding","o","k","k2","__exportStar","getCaretCoordinates","properties","isBrowser","window","isFirefox","mozInnerScreenX","element","append","div","id","computed","getComputedStyle","currentStyle","whiteSpace","wordWrap","visibility","forEach","prop","scrollHeight","parseInt","overflowY","overflow","textContent","substring","span","coordinates","top","offsetTop","left","offsetLeft","lineHeight","removeChild","file","reader","FileReader","onload","onerror","readAsArrayBuffer","ctrlKey","metaKey","selectionStart_1","selectionEnd_1","TextAreaCaretPosition_1","Math_1","SuggestionsDropdown_1","currentLoadSuggestionsPromise","suggestionsPromiseIndex","getTextArea","handleOnChange","handleBlur","mention","status","suggestions","startLoadingSuggestions","promiseIndex","triggeredBy","focusIndex","loadEmptySuggestion","caret","handleSuggestionSelected","handleKeyDown","preventDefault","suggestionsEnabled","shiftKey","currentTarget","focusDelta","handleKeyUp","searchText","prevChar","charAt","includes","handleKeyPress","TextAreaComponent","heightVal","onBlur","onKeyDown","onKeyUp","onKeyPress","onDragOver","stopPropagation","onSuggestionSelected","handleSuggestionClick","attributes","handleMouseDown","vw","max","documentElement","clientWidth","innerWidth","vh","clientHeight","innerHeight","scrollLeft","scrollTop","getBoundingClientRect","bottom","offsetHeight","right","offsetWidth","onMouseDown","transformedIcon"],"ignoreList":[],"sourceRoot":""}