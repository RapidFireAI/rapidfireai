"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[1e3],{73580:function(e){e.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc",description:["Determines how boxes at the same location coordinate","are displayed on the graph.","If *group*, the boxes are plotted next to one another","centered around the shared location.","If *overlay*, the boxes are plotted over one another,","you might need to set *opacity* to see them multiple boxes.","Has no effect on traces that have *width* set."].join(" ")},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")}}},76763:function(e,t,a){var i=a(62282),o=a(47401),r=a(73580);function n(e,t,a,o,r){for(var n=r+"Layout",l=!1,s=0;s<a.length;s++){var c=a[s];if(i.traceIs(c,n)){l=!0;break}}l&&(o(r+"mode"),o(r+"gap"),o(r+"groupgap"))}e.exports={supplyLayoutDefaults:function(e,t,a){n(0,0,a,(function(a,i){return o.coerce(e,t,r,a,i)}),"box")},_supply:n}},11755:function(e,t,a){var i=a(62258),o=a(47401),r=a(41707),n=5,l=.01;function s(e,t,a,r){var n,l,s="h"===a.orientation,c=t.val,d=t.pos,h=!!d.rangebreaks,p=r.bPos,f=r.wdPos||0,u=r.bPosPxOffset||0,y=a.whiskerwidth||0,x=a.notched||!1,m=x?1-2*a.notchwidth:1;Array.isArray(r.bdPos)?(n=r.bdPos[0],l=r.bdPos[1]):(n=r.bdPos,l=r.bdPos);var v=e.selectAll("path.box").data("violin"!==a.type||a.box.visible?o.identity:[]);v.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),v.exit().remove(),v.each((function(e){if(e.empty)return"M0,0Z";var t=d.c2l(e.pos+p,!0),r=d.l2p(t-n)+u,v=d.l2p(t+l)+u,g=h?(r+v)/2:d.l2p(t)+u,b=a.whiskerwidth,T=h?r*b+(1-b)*g:d.l2p(t-f)+u,w=h?v*b+(1-b)*g:d.l2p(t+f)+u,k=d.l2p(t-n*m)+u,M=d.l2p(t+l*m)+u,_=c.c2p(e.q1,!0),S=c.c2p(e.q3,!0),j=o.constrain(c.c2p(e.med,!0),Math.min(_,S)+1,Math.max(_,S)-1),L=void 0===e.lf||!1===a.boxpoints,A=c.c2p(L?e.min:e.lf,!0),z=c.c2p(L?e.max:e.uf,!0),O=c.c2p(e.ln,!0),I=c.c2p(e.un,!0);s?i.select(this).attr("d","M"+j+","+k+"V"+M+"M"+_+","+r+"V"+v+(x?"H"+O+"L"+j+","+M+"L"+I+","+v:"")+"H"+S+"V"+r+(x?"H"+I+"L"+j+","+k+"L"+O+","+r:"")+"ZM"+_+","+g+"H"+A+"M"+S+","+g+"H"+z+(0===y?"":"M"+A+","+T+"V"+w+"M"+z+","+T+"V"+w)):i.select(this).attr("d","M"+k+","+j+"H"+M+"M"+r+","+_+"H"+v+(x?"V"+O+"L"+M+","+j+"L"+v+","+I:"")+"V"+S+"H"+r+(x?"V"+I+"L"+k+","+j+"L"+r+","+O:"")+"ZM"+g+","+_+"V"+A+"M"+g+","+S+"V"+z+(0===y?"":"M"+T+","+A+"H"+w+"M"+T+","+z+"H"+w))}))}function c(e,t,a,i){var s=t.x,c=t.y,d=i.bdPos,h=i.bPos,p=a.boxpoints||a.points;o.seedPseudoRandom();var f=e.selectAll("g.points").data(p?function(e){return e.forEach((function(e){e.t=i,e.trace=a})),e}:[]);f.enter().append("g").attr("class","points"),f.exit().remove();var u=f.selectAll("path").data((function(e){var t,i,r=e.pts2,s=Math.max((e.max-e.min)/10,e.q3-e.q1),c=1e-9*s,f=s*l,u=[],y=0;if(a.jitter){if(0===s)for(y=1,u=new Array(r.length),t=0;t<r.length;t++)u[t]=1;else for(t=0;t<r.length;t++){var x=Math.max(0,t-n),m=r[x].v,v=Math.min(r.length-1,t+n),g=r[v].v;"all"!==p&&(r[t].v<e.lf?g=Math.min(g,e.lf):m=Math.max(m,e.uf));var b=Math.sqrt(f*(v-x)/(g-m+c))||0;b=o.constrain(Math.abs(b),0,1),u.push(b),y=Math.max(b,y)}i=2*a.jitter/(y||1)}for(t=0;t<r.length;t++){var T=r[t],w=T.v,k=a.jitter?i*u[t]*(o.pseudoRandom()-.5):0,M=e.pos+h+d*(a.pointpos+k);"h"===a.orientation?(T.y=M,T.x=w):(T.x=M,T.y=w),"suspectedoutliers"===p&&w<e.uo&&w>e.lo&&(T.so=!0)}return r}));u.enter().append("path").classed("point",!0),u.exit().remove(),u.call(r.translatePoints,s,c)}function d(e,t,a,r){var n,l,s=t.val,c=t.pos,d=!!c.rangebreaks,h=r.bPos,p=r.bPosPxOffset||0,f=a.boxmean||(a.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],l=r.bdPos[1]):(n=r.bdPos,l=r.bdPos);var u=e.selectAll("path.mean").data("box"===a.type&&a.boxmean||"violin"===a.type&&a.box.visible&&a.meanline.visible?o.identity:[]);u.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),u.exit().remove(),u.each((function(e){var t=c.c2l(e.pos+h,!0),o=c.l2p(t-n)+p,r=c.l2p(t+l)+p,u=d?(o+r)/2:c.l2p(t)+p,y=s.c2p(e.mean,!0),x=s.c2p(e.mean-e.sd,!0),m=s.c2p(e.mean+e.sd,!0);"h"===a.orientation?i.select(this).attr("d","M"+y+","+o+"V"+r+("sd"===f?"m0,0L"+x+","+u+"L"+y+","+o+"L"+m+","+u+"Z":"")):i.select(this).attr("d","M"+o+","+y+"H"+r+("sd"===f?"m0,0L"+u+","+x+"L"+o+","+y+"L"+u+","+m+"Z":""))}))}e.exports={plot:function(e,t,a,r){var n=t.xaxis,l=t.yaxis;o.makeTraceGroups(r,a,"trace boxes").each((function(e){var t,a,o=i.select(this),r=e[0],h=r.t,p=r.trace;(h.wdPos=h.bdPos*p.whiskerwidth,!0!==p.visible||h.empty)?o.remove():("h"===p.orientation?(t=l,a=n):(t=n,a=l),s(o,{pos:t,val:a},p,h),c(o,{x:n,y:l},p,h),d(o,{pos:t,val:a},p,h))}))},plotBoxAndWhiskers:s,plotPoints:c,plotBoxMean:d}},10168:function(e){e.exports=function(e,t){var a,i,o=e.cd,r=e.xaxis,n=e.yaxis,l=[];if(!1===t)for(a=0;a<o.length;a++)for(i=0;i<(o[a].pts||[]).length;i++)o[a].pts[i].selected=0;else for(a=0;a<o.length;a++)for(i=0;i<(o[a].pts||[]).length;i++){var s=o[a].pts[i],c=r.c2p(s.x),d=n.c2p(s.y);t.contains([c,d],null,s.i,e)?(l.push({pointNumber:s.i,x:r.c2d(s.x),y:n.c2d(s.y)}),s.selected=1):s.selected=0}return l}},49563:function(e,t,a){var i=a(62258),o=a(31454),r=a(41707);e.exports={style:function(e,t,a){var n=a||i.select(e).selectAll("g.trace.boxes");n.style("opacity",(function(e){return e[0].trace.opacity})),n.each((function(t){var a=i.select(this),n=t[0].trace,l=n.line.width;function s(e,t,a,i){e.style("stroke-width",t+"px").call(o.stroke,a).call(o.fill,i)}var c=a.selectAll("path.box");if("candlestick"===n.type)c.each((function(e){if(!e.empty){var t=i.select(this),a=n[e.dir];s(t,a.line.width,a.line.color,a.fillcolor),t.style("opacity",n.selectedpoints&&!e.selected?.3:1)}}));else{s(c,l,n.line.color,n.fillcolor),a.selectAll("path.mean").style({"stroke-width":l,"stroke-dasharray":2*l+"px,"+l+"px"}).call(o.stroke,n.line.color);var d=a.selectAll("path.point");r.pointStyle(d,n,e)}}))},styleOnSelect:function(e,t,a){var i=t[0].trace,o=a.selectAll("path.point");i.selectedpoints?r.selectedPointStyle(o,i):r.pointStyle(o,i,e)}}},20975:function(e,t,a){var i=a(47401).extendFlat,o=a(20184).axisHoverFormat,r=a(24610),n=a(69089);function l(e){return{line:{color:i({},n.line.color,{dflt:e}),width:n.line.width,editType:"style"},fillcolor:n.fillcolor,editType:"style"}}e.exports={xperiod:r.xperiod,xperiod0:r.xperiod0,xperiodalignment:r.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:r.x,open:r.open,high:r.high,low:r.low,close:r.close,line:{width:i({},n.line.width,{description:[n.line.width.description,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")}),editType:"style"},increasing:l(r.increasing.line.color.dflt),decreasing:l(r.decreasing.line.color.dflt),text:r.text,hovertext:r.hovertext,whiskerwidth:i({},n.whiskerwidth,{dflt:0}),hoverlabel:r.hoverlabel}},16623:function(e,t,a){var i=a(47401),o=a(37762),r=a(48128),n=a(23582).calcCommon;function l(e,t,a,i){return{min:a,q1:Math.min(e,i),med:i,q3:Math.max(e,i),max:t}}e.exports=function(e,t){var a=e._fullLayout,s=o.getFromId(e,t.xaxis),c=o.getFromId(e,t.yaxis),d=s.makeCalcdata(t,"x"),h=r(t,s,"x",d).vals,p=n(e,t,d,h,c,l);return p.length?(i.extendFlat(p[0].t,{num:a._numBoxes,dPos:i.distinctVals(h).minDiff/2,posLetter:"x",valLetter:"y"}),a._numBoxes++,p):[{t:{empty:!0}}]}},58408:function(e,t,a){var i=a(47401),o=a(31454),r=a(76510),n=a(75781),l=a(20975);function s(e,t,a,i){var r=a(i+".line.color");a(i+".line.width",t.line.width),a(i+".fillcolor",o.addOpacity(r,.5))}e.exports=function(e,t,a,o){function c(a,o){return i.coerce(e,t,l,a,o)}r(e,t,c,o)?(n(e,t,o,c,{x:!0}),c("xhoverformat"),c("yhoverformat"),c("line.width"),s(e,t,c,"increasing"),s(e,t,c,"decreasing"),c("text"),c("hovertext"),c("whiskerwidth"),o._requestRangeslider[t.xaxis]=!0):t.visible=!1}},73764:function(e,t,a){e.exports={moduleType:"trace",name:"candlestick",basePlotModule:a(66807),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{description:["The candlestick is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The boxes represent the spread between the `open` and `close` values and","the lines represent the spread between the `low` and `high` values","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing candles are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:a(20975),layoutAttributes:a(73580),supplyLayoutDefaults:a(76763).supplyLayoutDefaults,crossTraceCalc:a(32854).crossTraceCalc,supplyDefaults:a(58408),calc:a(16623),plot:a(11755).plot,layerName:"boxlayer",style:a(49563).style,hoverPoints:a(66797).hoverPoints,selectPoints:a(35695)}},29952:function(e,t,a){var i=a(73926),o=a(92704);e.exports=function(e,t,a,r,n){r("a")||(r("da"),r("a0")),r("b")||(r("db"),r("b0")),function(e,t,a,r){["aaxis","baxis"].forEach((function(n){var l=n.charAt(0),s=e[n]||{},c=o.newContainer(t,n),d={tickfont:"x",id:l+"axis",letter:l,font:t.font,name:n,data:e[l],calendar:t.calendar,dfltColor:r,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a};i(s,c,d),c._categories=c._categories||[],e[n]||"-"===s.type||(e[n]={type:s.type})}))}(e,t,a,n)}},54284:function(e,t,a){var i=a(47401).isArrayOrTypedArray;function o(e,t){if(!i(e)||t>=10)return null;for(var a=1/0,r=-1/0,n=e.length,l=0;l<n;l++){var s=e[l];if(i(s)){var c=o(s,t+1);c&&(a=Math.min(c[0],a),r=Math.max(c[1],r))}else a=Math.min(s,a),r=Math.max(s,r)}return[a,r]}e.exports=function(e){return o(e,0)}},74545:function(e,t,a){var i=a(5153),o=a(15393),r=a(62405),n=i({editType:"calc",description:"The default font used for axis & tick labels on this carpet"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=r.defaultLine,e.exports={carpet:{valType:"string",editType:"calc",description:["An identifier for this carpet, so that `scattercarpet` and","`contourcarpet` traces can specify a carpet plot on which","they lie"].join(" ")},x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["A two dimensional array of x coordinates at each carpet point.","If omitted, the plot is a cheater plot and the xaxis is hidden","by default."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"A two dimensional array of y coordinates at each carpet point."},a:{valType:"data_array",editType:"calc",description:["An array containing values of the first parameter value"].join(" ")},a0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `a`.","Builds a linear space of a coordinates.","Use with `da`","where `a0` is the starting coordinate and `da` the step."].join(" ")},da:{valType:"number",dflt:1,editType:"calc",description:["Sets the a coordinate step.","See `a0` for more info."].join(" ")},b:{valType:"data_array",editType:"calc",description:"A two dimensional array of y coordinates at each carpet point."},b0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `b`.","Builds a linear space of a coordinates.","Use with `db`","where `b0` is the starting coordinate and `db` the step."].join(" ")},db:{valType:"number",dflt:1,editType:"calc",description:["Sets the b coordinate step.","See `b0` for more info."].join(" ")},cheaterslope:{valType:"number",dflt:1,editType:"calc",description:["The shift applied to each successive row of data in creating a cheater plot.","Only used if `x` is been omitted."].join(" ")},aaxis:o,baxis:o,font:n,color:{valType:"color",dflt:r.defaultLine,editType:"plot",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},transforms:void 0}},19623:function(e,t,a){var i=a(47401).isArrayOrTypedArray;e.exports=function(e,t,a,o){var r,n,l,s,c,d,h,p,f,u,y,x,m,v=i(a)?"a":"b",g=("a"===v?e.aaxis:e.baxis).smoothing,b="a"===v?e.a2i:e.b2j,T="a"===v?a:o,w="a"===v?o:a,k="a"===v?t.a.length:t.b.length,M="a"===v?t.b.length:t.a.length,_=Math.floor("a"===v?e.b2j(w):e.a2i(w)),S="a"===v?function(t){return e.evalxy([],t,_)}:function(t){return e.evalxy([],_,t)};g&&(l=Math.max(0,Math.min(M-2,_)),s=_-l,n="a"===v?function(t,a){return e.dxydi([],t,l,a,s)}:function(t,a){return e.dxydj([],l,t,s,a)});var j=b(T[0]),L=b(T[1]),A=j<L?1:-1,z=1e-8*(L-j),O=A>0?Math.floor:Math.ceil,I=A>0?Math.ceil:Math.floor,P=A>0?Math.min:Math.max,D=A>0?Math.max:Math.min,F=O(j+z),N=I(L-z),C=[[h=S(j)]];for(r=F;r*A<N*A;r+=A)c=[],y=D(j,r),m=(x=P(L,r+A))-y,d=Math.max(0,Math.min(k-2,Math.floor(.5*(y+x)))),p=S(x),g&&(f=n(d,y-d),u=n(d,x-d),c.push([h[0]+f[0]/3*m,h[1]+f[1]/3*m]),c.push([p[0]-u[0]/3*m,p[1]-u[1]/3*m])),c.push(p),C.push(c),h=p;return C}},15393:function(e,t,a){var i=a(5153),o=a(62405),r=a(33333),n=a(20184).descriptionWithDates,l=a(17342).overrideAll;e.exports={color:{valType:"color",editType:"calc",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc",description:["Sets the title of this axis.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:i({editType:"calc",description:["Sets this axis' title font.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),offset:{valType:"number",dflt:10,editType:"calc",description:["An additional amount by which to offset the title from the tick","labels, given in pixels.","Note that this used to be set","by the now deprecated `titleoffset` attribute."].join(" ")},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:r.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tickvals:{valType:"data_array",editType:"calc",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"calc",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc",description:["Determines whether axis labels are drawn on the low side,","the high side, both, or neither side of the axis."].join(" ")},tickfont:i({editType:"calc",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"calc",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"calc",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"calc",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"calc",description:["Hide SI prefix for 10^n if |n| is below this number"].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"calc",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"calc",description:n("tick label")},tickformatstops:l(r.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},labelpadding:{valType:"integer",dflt:10,editType:"calc",description:"Extra padding between label and the axis"},labelprefix:{valType:"string",editType:"calc",description:"Sets a axis label prefix."},labelsuffix:{valType:"string",dflt:"",editType:"calc",description:"Sets a axis label suffix."},showline:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:o.defaultLine,editType:"calc",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the axis line."},gridcolor:{valType:"color",editType:"calc",description:"Sets the axis line color."},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc",description:"Sets the number of minor grid ticks per major grid tick"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc",description:"Sets the width (in px) of the grid lines."},minorgridcolor:{valType:"color",dflt:o.lightLine,editType:"calc",description:"Sets the color of the grid lines."},startline:{valType:"boolean",editType:"calc",description:["Determines whether or not a line is drawn at along the starting value","of this axis.","If *true*, the start line is drawn on top of the grid lines."].join(" ")},startlinecolor:{valType:"color",editType:"calc",description:"Sets the line color of the start line."},startlinewidth:{valType:"number",dflt:1,editType:"calc",description:"Sets the width (in px) of the start line."},endline:{valType:"boolean",editType:"calc",description:["Determines whether or not a line is drawn at along the final value","of this axis.","If *true*, the end line is drawn on top of the grid lines."].join(" ")},endlinewidth:{valType:"number",dflt:1,editType:"calc",description:"Sets the width (in px) of the end line."},endlinecolor:{valType:"color",editType:"calc",description:"Sets the line color of the end line."},tick0:{valType:"number",min:0,dflt:0,editType:"calc",description:"The starting index of grid lines along the axis"},dtick:{valType:"number",min:0,dflt:1,editType:"calc",description:"The stride between grid lines along the axis"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc",description:"The starting index of grid lines along the axis"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc",description:"The stride between grid lines along the axis"},_deprecated:{title:{valType:"string",editType:"calc",description:["Deprecated in favor of `title.text`.","Note that value of `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:i({editType:"calc",description:"Deprecated in favor of `title.font`."}),titleoffset:{valType:"number",dflt:10,editType:"calc",description:"Deprecated in favor of `title.offset`."}},editType:"calc"}},73926:function(e,t,a){var i=a(74545),o=a(31454).addOpacity,r=a(62282),n=a(47401),l=a(37801),s=a(51860),c=a(91289),d=a(58947),h=a(60210);e.exports=function(e,t,a){var p=a.letter,f=a.font||{},u=i[p+"axis"];function y(a,i){return n.coerce(e,t,u,a,i)}function x(a,i){return n.coerce2(e,t,u,a,i)}a.name&&(t._name=a.name,t._id=a.name),y("autotypenumbers",a.autotypenumbersDflt);var m=y("type");("-"===m&&(a.data&&function(e,t){if("-"!==e.type)return;var a=e._id.charAt(0),i=e[a+"calendar"];e.type=h(t,i,{autotypenumbers:e.autotypenumbers})}(t,a.data),"-"===t.type?t.type="linear":m=e.type=t.type),y("smoothing"),y("cheatertype"),y("showticklabels"),y("labelprefix",p+" = "),y("labelsuffix"),y("showtickprefix"),y("showticksuffix"),y("separatethousands"),y("tickformat"),y("exponentformat"),y("minexponent"),y("showexponent"),y("categoryorder"),y("tickmode"),y("tickvals"),y("ticktext"),y("tick0"),y("dtick"),"array"===t.tickmode&&(y("arraytick0"),y("arraydtick")),y("labelpadding"),t._hovertitle=p,"date"===m)&&r.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",a.calendar);d(t,a.fullLayout),t.c2p=n.identity;var v=y("color",a.dfltColor),g=v===e.color?v:f.color;y("title.text")&&(n.coerceFont(y,"title.font",{family:f.family,size:n.bigFont(f.size),color:g}),y("title.offset")),y("tickangle"),y("autorange",!t.isValidRange(e.range))&&y("rangemode"),y("range"),t.cleanRange(),y("fixedrange"),l(e,t,y,m),s(e,t,y,m,a),c(e,t,y,{data:a.data,dataAttr:p});var b=x("gridcolor",o(v,.3)),T=x("gridwidth"),w=y("showgrid");w||(delete t.gridcolor,delete t.gridwidth);var k=x("startlinecolor",v),M=x("startlinewidth",T);y("startline",t.showgrid||!!k||!!M)||(delete t.startlinecolor,delete t.startlinewidth);var _=x("endlinecolor",v),S=x("endlinewidth",T);return y("endline",t.showgrid||!!_||!!S)||(delete t.endlinecolor,delete t.endlinewidth),w?(y("minorgridcount"),y("minorgridwidth",T),y("minorgridcolor",o(b,.06)),t.minorgridcount||(delete t.minorgridwidth,delete t.minorgridcolor)):(delete t.gridcolor,delete t.gridWidth),"none"===t.showticklabels&&(delete t.tickfont,delete t.tickangle,delete t.showexponent,delete t.exponentformat,delete t.minexponent,delete t.tickformat,delete t.showticksuffix,delete t.showtickprefix),t.showticksuffix||delete t.ticksuffix,t.showtickprefix||delete t.tickprefix,y("tickmode"),t}},6965:function(e,t,a){var i=a(37762),o=a(47401).isArray1D,r=a(56331),n=a(54284),l=a(19777),s=a(8947),c=a(40061),d=a(21605),h=a(47263),p=a(48877),f=a(81210);e.exports=function(e,t){var a=i.getFromId(e,t.xaxis),u=i.getFromId(e,t.yaxis),y=t.aaxis,x=t.baxis,m=t.x,v=t.y,g=[];m&&o(m)&&g.push("x"),v&&o(v)&&g.push("y"),g.length&&p(t,y,x,"a","b",g);var b=t._a=t._a||t.a,T=t._b=t._b||t.b;m=t._x||t.x,v=t._y||t.y;var w={};if(t._cheater){var k="index"===y.cheatertype?b.length:b,M="index"===x.cheatertype?T.length:T;m=r(k,M,t.cheaterslope)}t._x=m=d(m),t._y=v=d(v),h(m,b,T),h(v,b,T),f(t),t.setScale();var _=n(m),S=n(v),j=.5*(_[1]-_[0]),L=.5*(_[1]+_[0]),A=.5*(S[1]-S[0]),z=.5*(S[1]+S[0]),O=1.3;return _=[L-j*O,L+j*O],S=[z-A*O,z+A*O],t._extremes[a._id]=i.findExtremes(a,_,{padded:!0}),t._extremes[u._id]=i.findExtremes(u,S,{padded:!0}),l(t,"a","b"),l(t,"b","a"),s(t,y),s(t,x),w.clipsegments=c(t._xctrl,t._yctrl,y,x),w.x=m,w.y=v,w.a=b,w.b=T,[w]}},40061:function(e){e.exports=function(e,t,a,i){var o,r,n,l=[],s=!!a.smoothing,c=!!i.smoothing,d=e[0].length-1,h=e.length-1;for(o=0,r=[],n=[];o<=d;o++)r[o]=e[0][o],n[o]=t[0][o];for(l.push({x:r,y:n,bicubic:s}),o=0,r=[],n=[];o<=h;o++)r[o]=e[o][d],n[o]=t[o][d];for(l.push({x:r,y:n,bicubic:c}),o=d,r=[],n=[];o>=0;o--)r[d-o]=e[h][o],n[d-o]=t[h][o];for(l.push({x:r,y:n,bicubic:s}),o=h,r=[],n=[];o>=0;o--)r[h-o]=e[o][0],n[h-o]=t[o][0];return l.push({x:r,y:n,bicubic:c}),l}},19777:function(e,t,a){var i=a(37762),o=a(87241).extendFlat;e.exports=function(e,t,a){var r,n,l,s,c,d,h,p,f,u,y,x,m,v,g=e["_"+t],b=e[t+"axis"],T=b._gridlines=[],w=b._minorgridlines=[],k=b._boundarylines=[],M=e["_"+a],_=e[a+"axis"];"array"===b.tickmode&&(b.tickvals=g.slice());var S=e._xctrl,j=e._yctrl,L=S[0].length,A=S.length,z=e._a.length,O=e._b.length;i.prepTicks(b),"array"===b.tickmode&&delete b.tickvals;var I=b.smoothing?3:1;function P(i){var o,r,n,l,s,c,d,h,f,u,y,x,m=[],v=[],g={};if("b"===t)for(r=e.b2j(i),n=Math.floor(Math.max(0,Math.min(O-2,r))),l=r-n,g.length=O,g.crossLength=z,g.xy=function(t){return e.evalxy([],t,r)},g.dxy=function(t,a){return e.dxydi([],t,n,a,l)},o=0;o<z;o++)c=Math.min(z-2,o),d=o-c,h=e.evalxy([],o,r),_.smoothing&&o>0&&(f=e.dxydi([],o-1,n,0,l),m.push(s[0]+f[0]/3),v.push(s[1]+f[1]/3),u=e.dxydi([],o-1,n,1,l),m.push(h[0]-u[0]/3),v.push(h[1]-u[1]/3)),m.push(h[0]),v.push(h[1]),s=h;else for(o=e.a2i(i),c=Math.floor(Math.max(0,Math.min(z-2,o))),d=o-c,g.length=z,g.crossLength=O,g.xy=function(t){return e.evalxy([],o,t)},g.dxy=function(t,a){return e.dxydj([],c,t,d,a)},r=0;r<O;r++)n=Math.min(O-2,r),l=r-n,h=e.evalxy([],o,r),_.smoothing&&r>0&&(y=e.dxydj([],c,r-1,d,0),m.push(s[0]+y[0]/3),v.push(s[1]+y[1]/3),x=e.dxydj([],c,r-1,d,1),m.push(h[0]-x[0]/3),v.push(h[1]-x[1]/3)),m.push(h[0]),v.push(h[1]),s=h;return g.axisLetter=t,g.axis=b,g.crossAxis=_,g.value=i,g.constvar=a,g.index=p,g.x=m,g.y=v,g.smoothing=_.smoothing,g}function D(i){var o,r,n,l,s,c=[],d=[],h={};if(h.length=g.length,h.crossLength=M.length,"b"===t)for(n=Math.max(0,Math.min(O-2,i)),s=Math.min(1,Math.max(0,i-n)),h.xy=function(t){return e.evalxy([],t,i)},h.dxy=function(t,a){return e.dxydi([],t,n,a,s)},o=0;o<L;o++)c[o]=S[i*I][o],d[o]=j[i*I][o];else for(r=Math.max(0,Math.min(z-2,i)),l=Math.min(1,Math.max(0,i-r)),h.xy=function(t){return e.evalxy([],i,t)},h.dxy=function(t,a){return e.dxydj([],r,t,l,a)},o=0;o<A;o++)c[o]=S[o][i*I],d[o]=j[o][i*I];return h.axisLetter=t,h.axis=b,h.crossAxis=_,h.value=g[i],h.constvar=a,h.index=i,h.x=c,h.y=d,h.smoothing=_.smoothing,h}if("array"===b.tickmode){for(s=5e-15,d=(c=[Math.floor((g.length-1-b.arraytick0)/b.arraydtick*(1+s)),Math.ceil(-b.arraytick0/b.arraydtick/(1+s))].sort((function(e,t){return e-t})))[0]-1,h=c[1]+1,p=d;p<h;p++)(n=b.arraytick0+b.arraydtick*p)<0||n>g.length-1||T.push(o(D(n),{color:b.gridcolor,width:b.gridwidth}));for(p=d;p<h;p++)if(l=b.arraytick0+b.arraydtick*p,y=Math.min(l+b.arraydtick,g.length-1),!(l<0||l>g.length-1)&&!(y<0||y>g.length-1))for(x=g[l],m=g[y],r=0;r<b.minorgridcount;r++)(v=y-l)<=0||(u=x+(m-x)*(r+1)/(b.minorgridcount+1)*(b.arraydtick/v))<g[0]||u>g[g.length-1]||w.push(o(P(u),{color:b.minorgridcolor,width:b.minorgridwidth}));b.startline&&k.push(o(D(0),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&k.push(o(D(g.length-1),{color:b.endlinecolor,width:b.endlinewidth}))}else{for(s=5e-15,d=(c=[Math.floor((g[g.length-1]-b.tick0)/b.dtick*(1+s)),Math.ceil((g[0]-b.tick0)/b.dtick/(1+s))].sort((function(e,t){return e-t})))[0],h=c[1],p=d;p<=h;p++)f=b.tick0+b.dtick*p,T.push(o(P(f),{color:b.gridcolor,width:b.gridwidth}));for(p=d-1;p<h+1;p++)for(f=b.tick0+b.dtick*p,r=0;r<b.minorgridcount;r++)(u=f+b.dtick*(r+1)/(b.minorgridcount+1))<g[0]||u>g[g.length-1]||w.push(o(P(u),{color:b.minorgridcolor,width:b.minorgridwidth}));b.startline&&k.push(o(P(g[0]),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&k.push(o(P(g[g.length-1]),{color:b.endlinecolor,width:b.endlinewidth}))}}},8947:function(e,t,a){var i=a(37762),o=a(87241).extendFlat;e.exports=function(e,t){var a,r,n,l=t._labels=[],s=t._gridlines;for(a=0;a<s.length;a++)n=s[a],-1!==["start","both"].indexOf(t.showticklabels)&&(r=i.tickText(t,n.value),o(r,{prefix:undefined,suffix:undefined,endAnchor:!0,xy:n.xy(0),dxy:n.dxy(0,0),axis:n.axis,length:n.crossAxis.length,font:n.axis.tickfont,isFirst:0===a,isLast:a===s.length-1}),l.push(r)),-1!==["end","both"].indexOf(t.showticklabels)&&(r=i.tickText(t,n.value),o(r,{endAnchor:!1,xy:n.xy(n.crossLength-1),dxy:n.dxy(n.crossLength-2,1),axis:n.axis,length:n.crossAxis.length,font:n.axis.tickfont,isFirst:0===a,isLast:a===s.length-1}),l.push(r))}},77381:function(e){e.exports=function(e,t,a,i){var o=e[0]-t[0],r=e[1]-t[1],n=a[0]-t[0],l=a[1]-t[1],s=Math.pow(o*o+r*r,.25),c=Math.pow(n*n+l*l,.25),d=(c*c*o-s*s*n)*i,h=(c*c*r-s*s*l)*i,p=c*(s+c)*3,f=s*(s+c)*3;return[[t[0]+(p&&d/p),t[1]+(p&&h/p)],[t[0]-(f&&d/f),t[1]-(f&&h/f)]]}},56331:function(e,t,a){var i=a(47401).isArrayOrTypedArray;e.exports=function(e,t,a){var o,r,n,l,s,c,d=[],h=i(e)?e.length:e,p=i(t)?t.length:t,f=i(e)?e:null,u=i(t)?t:null;f&&(n=(f.length-1)/(f[f.length-1]-f[0])/(h-1)),u&&(l=(u.length-1)/(u[u.length-1]-u[0])/(p-1));var y=1/0,x=-1/0;for(r=0;r<p;r++)for(d[r]=[],s=u?(u[r]-u[0])*l:r/(p-1),o=0;o<h;o++)c=(f?(f[o]-f[0])*n:o/(h-1))-s*a,y=Math.min(c,y),x=Math.max(c,x),d[r][o]=c;var m=1/(x-y),v=-y*m;for(r=0;r<p;r++)for(o=0;o<h;o++)d[r][o]=m*d[r][o]+v;return d}},36035:function(e,t,a){var i=a(77381),o=a(47401).ensureArray;function r(e,t,a){var i=-.5*a[0]+1.5*t[0],o=-.5*a[1]+1.5*t[1];return[(2*i+e[0])/3,(2*o+e[1])/3]}e.exports=function(e,t,a,n,l,s){var c,d,h,p,f,u,y,x,m,v,g=a[0].length,b=a.length,T=l?3*g-2:g,w=s?3*b-2:b;for(e=o(e,w),t=o(t,w),h=0;h<w;h++)e[h]=o(e[h],T),t[h]=o(t[h],T);for(d=0,p=0;d<b;d++,p+=s?3:1)for(f=e[p],u=t[p],y=a[d],x=n[d],c=0,h=0;c<g;c++,h+=l?3:1)f[h]=y[c],u[h]=x[c];if(l)for(d=0,p=0;d<b;d++,p+=s?3:1){for(c=1,h=3;c<g-1;c++,h+=3)m=i([a[d][c-1],n[d][c-1]],[a[d][c],n[d][c]],[a[d][c+1],n[d][c+1]],l),e[p][h-1]=m[0][0],t[p][h-1]=m[0][1],e[p][h+1]=m[1][0],t[p][h+1]=m[1][1];v=r([e[p][0],t[p][0]],[e[p][2],t[p][2]],[e[p][3],t[p][3]]),e[p][1]=v[0],t[p][1]=v[1],v=r([e[p][T-1],t[p][T-1]],[e[p][T-3],t[p][T-3]],[e[p][T-4],t[p][T-4]]),e[p][T-2]=v[0],t[p][T-2]=v[1]}if(s)for(h=0;h<T;h++){for(p=3;p<w-3;p+=3)m=i([e[p-3][h],t[p-3][h]],[e[p][h],t[p][h]],[e[p+3][h],t[p+3][h]],s),e[p-1][h]=m[0][0],t[p-1][h]=m[0][1],e[p+1][h]=m[1][0],t[p+1][h]=m[1][1];v=r([e[0][h],t[0][h]],[e[2][h],t[2][h]],[e[3][h],t[3][h]]),e[1][h]=v[0],t[1][h]=v[1],v=r([e[w-1][h],t[w-1][h]],[e[w-3][h],t[w-3][h]],[e[w-4][h],t[w-4][h]]),e[w-2][h]=v[0],t[w-2][h]=v[1]}if(l&&s)for(p=1;p<w;p+=(p+1)%3===0?2:1){for(h=3;h<T-3;h+=3)m=i([e[p][h-3],t[p][h-3]],[e[p][h],t[p][h]],[e[p][h+3],t[p][h+3]],l),e[p][h-1]=.5*(e[p][h-1]+m[0][0]),t[p][h-1]=.5*(t[p][h-1]+m[0][1]),e[p][h+1]=.5*(e[p][h+1]+m[1][0]),t[p][h+1]=.5*(t[p][h+1]+m[1][1]);v=r([e[p][0],t[p][0]],[e[p][2],t[p][2]],[e[p][3],t[p][3]]),e[p][1]=.5*(e[p][1]+v[0]),t[p][1]=.5*(t[p][1]+v[1]),v=r([e[p][T-1],t[p][T-1]],[e[p][T-3],t[p][T-3]],[e[p][T-4],t[p][T-4]]),e[p][T-2]=.5*(e[p][T-2]+v[0]),t[p][T-2]=.5*(t[p][T-2]+v[1])}return[e,t]}},62515:function(e){e.exports={RELATIVE_CULL_TOLERANCE:1e-6}},6424:function(e){e.exports=function(e,t,a){return t&&a?function(t,a,i,o,r){var n,l,s,c,d,h;t||(t=[]),a*=3,i*=3;var p=o*o,f=1-o,u=f*f,y=f*o*2,x=-3*u,m=3*(u-y),v=3*(y-p),g=3*p,b=r*r,T=b*r,w=1-r,k=w*w,M=k*w;for(h=0;h<e.length;h++)n=x*(d=e[h])[i][a]+m*d[i][a+1]+v*d[i][a+2]+g*d[i][a+3],l=x*d[i+1][a]+m*d[i+1][a+1]+v*d[i+1][a+2]+g*d[i+1][a+3],s=x*d[i+2][a]+m*d[i+2][a+1]+v*d[i+2][a+2]+g*d[i+2][a+3],c=x*d[i+3][a]+m*d[i+3][a+1]+v*d[i+3][a+2]+g*d[i+3][a+3],t[h]=M*n+3*(k*r*l+w*b*s)+T*c;return t}:t?function(t,a,i,o,r){var n,l,s,c;t||(t=[]),a*=3;var d=o*o,h=1-o,p=h*h,f=h*o*2,u=-3*p,y=3*(p-f),x=3*(f-d),m=3*d,v=1-r;for(s=0;s<e.length;s++)n=u*(c=e[s])[i][a]+y*c[i][a+1]+x*c[i][a+2]+m*c[i][a+3],l=u*c[i+1][a]+y*c[i+1][a+1]+x*c[i+1][a+2]+m*c[i+1][a+3],t[s]=v*n+r*l;return t}:a?function(t,a,i,o,r){var n,l,s,c,d,h;t||(t=[]),i*=3;var p=r*r,f=p*r,u=1-r,y=u*u,x=y*u;for(d=0;d<e.length;d++)n=(h=e[d])[i][a+1]-h[i][a],l=h[i+1][a+1]-h[i+1][a],s=h[i+2][a+1]-h[i+2][a],c=h[i+3][a+1]-h[i+3][a],t[d]=x*n+3*(y*r*l+u*p*s)+f*c;return t}:function(t,a,i,o,r){var n,l,s,c;t||(t=[]);var d=1-r;for(s=0;s<e.length;s++)n=(c=e[s])[i][a+1]-c[i][a],l=c[i+1][a+1]-c[i+1][a],t[s]=d*n+r*l;return t}}},38303:function(e){e.exports=function(e,t,a){return t&&a?function(t,a,i,o,r){var n,l,s,c,d,h;t||(t=[]),a*=3,i*=3;var p=o*o,f=p*o,u=1-o,y=u*u,x=y*u,m=r*r,v=1-r,g=v*v,b=v*r*2,T=-3*g,w=3*(g-b),k=3*(b-m),M=3*m;for(h=0;h<e.length;h++)n=T*(d=e[h])[i][a]+w*d[i+1][a]+k*d[i+2][a]+M*d[i+3][a],l=T*d[i][a+1]+w*d[i+1][a+1]+k*d[i+2][a+1]+M*d[i+3][a+1],s=T*d[i][a+2]+w*d[i+1][a+2]+k*d[i+2][a+2]+M*d[i+3][a+2],c=T*d[i][a+3]+w*d[i+1][a+3]+k*d[i+2][a+3]+M*d[i+3][a+3],t[h]=x*n+3*(y*o*l+u*p*s)+f*c;return t}:t?function(t,a,i,o,r){var n,l,s,c,d,h;t||(t=[]),a*=3;var p=r*r,f=p*r,u=1-r,y=u*u,x=y*u;for(d=0;d<e.length;d++)n=(h=e[d])[i+1][a]-h[i][a],l=h[i+1][a+1]-h[i][a+1],s=h[i+1][a+2]-h[i][a+2],c=h[i+1][a+3]-h[i][a+3],t[d]=x*n+3*(y*r*l+u*p*s)+f*c;return t}:a?function(t,a,i,o,r){var n,l,s,c;t||(t=[]),i*=3;var d=1-o,h=r*r,p=1-r,f=p*p,u=p*r*2,y=-3*f,x=3*(f-u),m=3*(u-h),v=3*h;for(s=0;s<e.length;s++)n=y*(c=e[s])[i][a]+x*c[i+1][a]+m*c[i+2][a]+v*c[i+3][a],l=y*c[i][a+1]+x*c[i+1][a+1]+m*c[i+2][a+1]+v*c[i+3][a+1],t[s]=d*n+o*l;return t}:function(t,a,i,o,r){var n,l,s,c;t||(t=[]);var d=1-o;for(s=0;s<e.length;s++)n=(c=e[s])[i+1][a]-c[i][a],l=c[i+1][a+1]-c[i][a+1],t[s]=d*n+o*l;return t}}},97556:function(e){e.exports=function(e,t,a,i,o){var r=t-2,n=a-2;return i&&o?function(t,a,i){var o,l,s,c,d,h;t||(t=[]);var p=Math.max(0,Math.min(Math.floor(a),r)),f=Math.max(0,Math.min(Math.floor(i),n)),u=Math.max(0,Math.min(1,a-p)),y=Math.max(0,Math.min(1,i-f));p*=3,f*=3;var x=u*u,m=x*u,v=1-u,g=v*v,b=g*v,T=y*y,w=T*y,k=1-y,M=k*k,_=M*k;for(h=0;h<e.length;h++)o=b*(d=e[h])[f][p]+3*(g*u*d[f][p+1]+v*x*d[f][p+2])+m*d[f][p+3],l=b*d[f+1][p]+3*(g*u*d[f+1][p+1]+v*x*d[f+1][p+2])+m*d[f+1][p+3],s=b*d[f+2][p]+3*(g*u*d[f+2][p+1]+v*x*d[f+2][p+2])+m*d[f+2][p+3],c=b*d[f+3][p]+3*(g*u*d[f+3][p+1]+v*x*d[f+3][p+2])+m*d[f+3][p+3],t[h]=_*o+3*(M*y*l+k*T*s)+w*c;return t}:i?function(t,a,i){t||(t=[]);var o,l,s,c,d,h,p=Math.max(0,Math.min(Math.floor(a),r)),f=Math.max(0,Math.min(Math.floor(i),n)),u=Math.max(0,Math.min(1,a-p)),y=Math.max(0,Math.min(1,i-f));p*=3;var x=u*u,m=x*u,v=1-u,g=v*v,b=g*v,T=1-y;for(d=0;d<e.length;d++)o=T*(h=e[d])[f][p]+y*h[f+1][p],l=T*h[f][p+1]+y*h[f+1][p+1],s=T*h[f][p+2]+y*h[f+1][p+1],c=T*h[f][p+3]+y*h[f+1][p+1],t[d]=b*o+3*(g*u*l+v*x*s)+m*c;return t}:o?function(t,a,i){t||(t=[]);var o,l,s,c,d,h,p=Math.max(0,Math.min(Math.floor(a),r)),f=Math.max(0,Math.min(Math.floor(i),n)),u=Math.max(0,Math.min(1,a-p)),y=Math.max(0,Math.min(1,i-f));f*=3;var x=y*y,m=x*y,v=1-y,g=v*v,b=g*v,T=1-u;for(d=0;d<e.length;d++)o=T*(h=e[d])[f][p]+u*h[f][p+1],l=T*h[f+1][p]+u*h[f+1][p+1],s=T*h[f+2][p]+u*h[f+2][p+1],c=T*h[f+3][p]+u*h[f+3][p+1],t[d]=b*o+3*(g*y*l+v*x*s)+m*c;return t}:function(t,a,i){t||(t=[]);var o,l,s,c,d=Math.max(0,Math.min(Math.floor(a),r)),h=Math.max(0,Math.min(Math.floor(i),n)),p=Math.max(0,Math.min(1,a-d)),f=Math.max(0,Math.min(1,i-h)),u=1-f,y=1-p;for(s=0;s<e.length;s++)o=y*(c=e[s])[h][d]+p*c[h][d+1],l=y*c[h+1][d]+p*c[h+1][d+1],t[s]=u*o+f*l;return t}}},34870:function(e,t,a){var i=a(47401),o=a(41332),r=a(29952),n=a(74545),l=a(62405);e.exports=function(e,t,a,s){function c(a,o){return i.coerce(e,t,n,a,o)}t._clipPathId="clip"+t.uid+"carpet";var d=c("color",l.defaultLine);(i.coerceFont(c,"font"),c("carpet"),r(e,t,s,c,d),t.a&&t.b)?(t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0),o(e,t,c)||(t.visible=!1),t._cheater&&c("cheaterslope")):t.visible=!1}},52098:function(e,t,a){e.exports={attributes:a(74545),supplyDefaults:a(34870),plot:a(1819),calc:a(6965),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:a(66807),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{description:["The data describing carpet axis layout is set in `y` and (optionally)","also `x`. If only `y` is present, `x` the plot is interpreted as a","cheater plot and is filled in using the `y` values.","`x` and `y` may either be 2D arrays matching with each dimension matching","that of `a` and `b`, or they may be 1D arrays with total length equal to","that of `a` and `b`."].join(" ")}}},26683:function(e){e.exports=function(e,t){for(var a,i=e._fullData.length,o=0;o<i;o++){var r=e._fullData[o];if(r.index!==t.index&&("carpet"===r.type&&(a||(a=r),r.carpet===t.carpet)))return r}return a}},17333:function(e){e.exports=function(e,t,a){if(0===e.length)return"";var i,o=[],r=a?3:1;for(i=0;i<e.length;i+=r)o.push(e[i]+","+t[i]),a&&i<e.length-r&&(o.push("C"),o.push([e[i+1]+","+t[i+1],e[i+2]+","+t[i+2]+" "].join(" ")));return o.join(a?"":"L")}},49040:function(e,t,a){var i=a(47401).isArrayOrTypedArray;e.exports=function(e,t,a){var o;for(i(e)?e.length>t.length&&(e=e.slice(0,t.length)):e=[],o=0;o<t.length;o++)e[o]=a(t[o]);return e}},49755:function(e){e.exports=function(e,t,a,i,o,r){var n=o[0]*e.dpdx(t),l=o[1]*e.dpdy(a),s=1,c=1;if(r){var d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),h=Math.sqrt(r[0]*r[0]+r[1]*r[1]),p=(o[0]*r[0]+o[1]*r[1])/d/h;c=Math.max(0,p)}var f=180*Math.atan2(l,n)/Math.PI;return f<-90?(f+=180,s=-s):f>90&&(f-=180,s=-s),{angle:f,flip:s,p:e.c2p(i,t,a),offsetMultplier:c}}},1819:function(e,t,a){var i=a(62258),o=a(41707),r=a(49040),n=a(17333),l=a(49755),s=a(43995),c=a(47401),d=c.strRotate,h=c.strTranslate,p=a(60482);function f(e,t,a,o,l,s){var c="const-"+l+"-lines",d=a.selectAll("."+c).data(s);d.enter().append("path").classed(c,!0).style("vector-effect","non-scaling-stroke"),d.each((function(a){var o=a,l=o.x,s=o.y,c=r([],l,e.c2p),d=r([],s,t.c2p),h="M"+n(c,d,o.smoothing);i.select(this).attr("d",h).style("stroke-width",o.width).style("stroke",o.color).style("fill","none")})),d.exit().remove()}function u(e,t,a,r,n,c,p,f){var u=c.selectAll("text."+f).data(p);u.enter().append("text").classed(f,!0);var y=0,x={};return u.each((function(n,c){var p;if("auto"===n.axis.tickangle)p=l(r,t,a,n.xy,n.dxy);else{var f=(n.axis.tickangle+180)*Math.PI/180;p=l(r,t,a,n.xy,[Math.cos(f),Math.sin(f)])}c||(x={angle:p.angle,flip:p.flip});var u=(n.endAnchor?-1:1)*p.flip,m=i.select(this).attr({"text-anchor":u>0?"start":"end","data-notex":1}).call(o.font,n.font).text(n.text).call(s.convertToTspans,e),v=o.bBox(this);m.attr("transform",h(p.p[0],p.p[1])+d(p.angle)+h(n.axis.labelpadding*u,.3*v.height)),y=Math.max(y,v.width+n.axis.labelpadding)})),u.exit().remove(),x.maxExtent=y,x}e.exports=function(e,t,a,o){var s=t.xaxis,d=t.yaxis,h=e._fullLayout._clips;c.makeTraceGroups(o,a,"trace").each((function(t){var a=i.select(this),o=t[0],p=o.trace,y=p.aaxis,x=p.baxis,v=c.ensureSingle(a,"g","minorlayer"),g=c.ensureSingle(a,"g","majorlayer"),b=c.ensureSingle(a,"g","boundarylayer"),T=c.ensureSingle(a,"g","labellayer");a.style("opacity",p.opacity),f(s,d,g,y,"a",y._gridlines),f(s,d,g,x,"b",x._gridlines),f(s,d,v,y,"a",y._minorgridlines),f(s,d,v,x,"b",x._minorgridlines),f(s,d,b,y,"a-boundary",y._boundarylines),f(s,d,b,x,"b-boundary",x._boundarylines);var w=u(e,s,d,p,o,T,y._labels,"a-label"),k=u(e,s,d,p,o,T,x._labels,"b-label");!function(e,t,a,i,o,r,n,s){var d,h,p,f,u=c.aggNums(Math.min,null,a.a),y=c.aggNums(Math.max,null,a.a),x=c.aggNums(Math.min,null,a.b),v=c.aggNums(Math.max,null,a.b);d=.5*(u+y),h=x,p=a.ab2xy(d,h,!0),f=a.dxyda_rough(d,h),void 0===n.angle&&c.extendFlat(n,l(a,o,r,p,a.dxydb_rough(d,h)));m(e,t,a,i,p,f,a.aaxis,o,r,n,"a-title"),d=u,h=.5*(x+v),p=a.ab2xy(d,h,!0),f=a.dxydb_rough(d,h),void 0===s.angle&&c.extendFlat(s,l(a,o,r,p,a.dxyda_rough(d,h)));m(e,t,a,i,p,f,a.baxis,o,r,s,"b-title")}(e,T,p,o,s,d,w,k),function(e,t,a,i,o){var l,s,d,h,p=a.select("#"+e._clipPathId);p.size()||(p=a.append("clipPath").classed("carpetclip",!0));var f=c.ensureSingle(p,"path","carpetboundary"),u=t.clipsegments,y=[];for(h=0;h<u.length;h++)l=u[h],s=r([],l.x,i.c2p),d=r([],l.y,o.c2p),y.push(n(s,d,l.bicubic));var x="M"+y.join("L")+"Z";p.attr("id",e._clipPathId),f.attr("d",x)}(p,o,h,s,d)}))};var y=p.LINE_SPACING,x=(1-p.MID_SHIFT)/y+1;function m(e,t,a,r,n,c,p,f,u,m,v){var g=[];p.title.text&&g.push(p.title.text);var b=t.selectAll("text."+v).data(g),T=m.maxExtent;b.enter().append("text").classed(v,!0),b.each((function(){var t=l(a,f,u,n,c);-1===["start","both"].indexOf(p.showticklabels)&&(T=0);var r=p.title.font.size;T+=r+p.title.offset;var v=(m.angle+(m.flip<0?180:0)-t.angle+450)%360,g=v>90&&v<270,b=i.select(this);b.text(p.title.text).call(s.convertToTspans,e),g&&(T=(-s.lineCount(b)+x)*y*r-T),b.attr("transform",h(t.p[0],t.p[1])+d(t.angle)+h(0,T)).attr("text-anchor","middle").call(o.font,p.title.font)})),b.exit().remove()}},81210:function(e,t,a){var i=a(62515),o=a(84525).findBin,r=a(36035),n=a(97556),l=a(6424),s=a(38303);e.exports=function(e){var t=e._a,a=e._b,c=t.length,d=a.length,h=e.aaxis,p=e.baxis,f=t[0],u=t[c-1],y=a[0],x=a[d-1],m=t[t.length-1]-t[0],v=a[a.length-1]-a[0],g=m*i.RELATIVE_CULL_TOLERANCE,b=v*i.RELATIVE_CULL_TOLERANCE;f-=g,u+=g,y-=b,x+=b,e.isVisible=function(e,t){return e>f&&e<u&&t>y&&t<x},e.isOccluded=function(e,t){return e<f||e>u||t<y||t>x},e.setScale=function(){var t=e._x,a=e._y,i=r(e._xctrl,e._yctrl,t,a,h.smoothing,p.smoothing);e._xctrl=i[0],e._yctrl=i[1],e.evalxy=n([e._xctrl,e._yctrl],c,d,h.smoothing,p.smoothing),e.dxydi=l([e._xctrl,e._yctrl],h.smoothing,p.smoothing),e.dxydj=s([e._xctrl,e._yctrl],h.smoothing,p.smoothing)},e.i2a=function(e){var a=Math.max(0,Math.floor(e[0]),c-2),i=e[0]-a;return(1-i)*t[a]+i*t[a+1]},e.j2b=function(e){var t=Math.max(0,Math.floor(e[1]),c-2),i=e[1]-t;return(1-i)*a[t]+i*a[t+1]},e.ij2ab=function(t){return[e.i2a(t[0]),e.j2b(t[1])]},e.a2i=function(e){var a=Math.max(0,Math.min(o(e,t),c-2)),i=t[a],r=t[a+1];return Math.max(0,Math.min(c-1,a+(e-i)/(r-i)))},e.b2j=function(e){var t=Math.max(0,Math.min(o(e,a),d-2)),i=a[t],r=a[t+1];return Math.max(0,Math.min(d-1,t+(e-i)/(r-i)))},e.ab2ij=function(t){return[e.a2i(t[0]),e.b2j(t[1])]},e.i2c=function(t,a){return e.evalxy([],t,a)},e.ab2xy=function(i,o,r){if(!r&&(i<t[0]||i>t[c-1]|o<a[0]||o>a[d-1]))return[!1,!1];var n=e.a2i(i),l=e.b2j(o),s=e.evalxy([],n,l);if(r){var h,p,f,u,y=0,x=0,m=[];i<t[0]?(h=0,p=0,y=(i-t[0])/(t[1]-t[0])):i>t[c-1]?(h=c-2,p=1,y=(i-t[c-1])/(t[c-1]-t[c-2])):p=n-(h=Math.max(0,Math.min(c-2,Math.floor(n)))),o<a[0]?(f=0,u=0,x=(o-a[0])/(a[1]-a[0])):o>a[d-1]?(f=d-2,u=1,x=(o-a[d-1])/(a[d-1]-a[d-2])):u=l-(f=Math.max(0,Math.min(d-2,Math.floor(l)))),y&&(e.dxydi(m,h,f,p,u),s[0]+=m[0]*y,s[1]+=m[1]*y),x&&(e.dxydj(m,h,f,p,u),s[0]+=m[0]*x,s[1]+=m[1]*x)}return s},e.c2p=function(e,t,a){return[t.c2p(e[0]),a.c2p(e[1])]},e.p2x=function(e,t,a){return[t.p2c(e[0]),a.p2c(e[1])]},e.dadi=function(e){var a=Math.max(0,Math.min(t.length-2,e));return t[a+1]-t[a]},e.dbdj=function(e){var t=Math.max(0,Math.min(a.length-2,e));return a[t+1]-a[t]},e.dxyda=function(t,a,i,o){var r=e.dxydi(null,t,a,i,o),n=e.dadi(t,i);return[r[0]/n,r[1]/n]},e.dxydb=function(t,a,i,o){var r=e.dxydj(null,t,a,i,o),n=e.dbdj(a,o);return[r[0]/n,r[1]/n]},e.dxyda_rough=function(t,a,i){var o=m*(i||.1),r=e.ab2xy(t+o,a,!0),n=e.ab2xy(t-o,a,!0);return[.5*(r[0]-n[0])/o,.5*(r[1]-n[1])/o]},e.dxydb_rough=function(t,a,i){var o=v*(i||.1),r=e.ab2xy(t,a+o,!0),n=e.ab2xy(t,a-o,!0);return[.5*(r[0]-n[0])/o,.5*(r[1]-n[1])/o]},e.dpdx=function(e){return e._m},e.dpdy=function(e){return e._m}}},47263:function(e,t,a){var i=a(47401);e.exports=function(e,t,a){var o,r,n,l=[],s=[],c=e[0].length,d=e.length;function h(t,a){var i,o=0,r=0;return t>0&&void 0!==(i=e[a][t-1])&&(r++,o+=i),t<c-1&&void 0!==(i=e[a][t+1])&&(r++,o+=i),a>0&&void 0!==(i=e[a-1][t])&&(r++,o+=i),a<d-1&&void 0!==(i=e[a+1][t])&&(r++,o+=i),o/Math.max(1,r)}var p,f,u,y,x,m,v,g,b,T,w,k=0;for(o=0;o<c;o++)for(r=0;r<d;r++)void 0===e[r][o]&&(l.push(o),s.push(r),e[r][o]=h(o,r)),k=Math.max(k,Math.abs(e[r][o]));if(!l.length)return e;var M=0,_=0,S=l.length;do{for(M=0,n=0;n<S;n++){o=l[n],r=s[n];var j,L,A,z,O,I,P=0,D=0;0===o?(A=t[O=Math.min(c-1,2)],z=t[1],j=e[r][O],D+=(L=e[r][1])+(L-j)*(t[0]-z)/(z-A),P++):o===c-1&&(A=t[O=Math.max(0,c-3)],z=t[c-2],j=e[r][O],D+=(L=e[r][c-2])+(L-j)*(t[c-1]-z)/(z-A),P++),(0===o||o===c-1)&&r>0&&r<d-1&&(p=a[r+1]-a[r],D+=((f=a[r]-a[r-1])*e[r+1][o]+p*e[r-1][o])/(f+p),P++),0===r?(A=a[I=Math.min(d-1,2)],z=a[1],j=e[I][o],D+=(L=e[1][o])+(L-j)*(a[0]-z)/(z-A),P++):r===d-1&&(A=a[I=Math.max(0,d-3)],z=a[d-2],j=e[I][o],D+=(L=e[d-2][o])+(L-j)*(a[d-1]-z)/(z-A),P++),(0===r||r===d-1)&&o>0&&o<c-1&&(p=t[o+1]-t[o],D+=((f=t[o]-t[o-1])*e[r][o+1]+p*e[r][o-1])/(f+p),P++),P?D/=P:(u=t[o+1]-t[o],y=t[o]-t[o-1],g=(x=a[r+1]-a[r])*(m=a[r]-a[r-1])*(x+m),D=((v=u*y*(u+y))*(m*e[r+1][o]+x*e[r-1][o])+g*(y*e[r][o+1]+u*e[r][o-1]))/(g*(y+u)+v*(m+x))),M+=(T=(b=D-e[r][o])/k)*T,w=P?0:.85,e[r][o]+=b*(1+w)}M=Math.sqrt(M)}while(_++<100&&M>1e-5);return i.log("Smoother converged to",M,"after",_,"iterations"),e}},41332:function(e,t,a){var i=a(47401).isArray1D;e.exports=function(e,t,a){var o=a("x"),r=o&&o.length,n=a("y"),l=n&&n.length;if(!r&&!l)return!1;if(t._cheater=!o,r&&!i(o)||l&&!i(n))t._length=null;else{var s=r?o.length:1/0;l&&(s=Math.min(s,n.length)),t.a&&t.a.length&&(s=Math.min(s,t.a.length)),t.b&&t.b.length&&(s=Math.min(s,t.b.length)),t._length=s}return!0}},92082:function(e,t,a){var i=a(4216).r,o=a(75805),r=a(97451),n=a(42837),l=a(62405).defaultLine,s=a(87241).extendFlat,c=o.marker.line;e.exports=s({locations:{valType:"data_array",editType:"calc",description:["Sets the coordinates via location IDs or names.","See `locationmode` for more info."].join(" ")},locationmode:o.locationmode,z:{valType:"data_array",editType:"calc",description:"Sets the color values."},geojson:s({},o.geojson,{description:["Sets optional GeoJSON data associated with this trace.","If not given, the features on the base map are used.","It can be set as a valid GeoJSON object or as a URL string.","Note that we only accept GeoJSONs of type *FeatureCollection* or *Feature*","with geometries of type *Polygon* or *MultiPolygon*."].join(" ")}),featureidkey:o.featureidkey,text:s({},o.text,{description:"Sets the text elements associated with each location."}),hovertext:s({},o.hovertext,{description:"Same as `text`."}),marker:{line:{color:s({},c.color,{dflt:l}),width:s({},c.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the locations."},editType:"calc"},selected:{marker:{opacity:o.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:o.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:s({},n.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:i(),showlegend:s({},n.showlegend,{dflt:!1})},r("",{cLetter:"z",editTypeOverride:"calc"}))},86606:function(e,t,a){var i=a(83491),o=a(9405).BADNUM,r=a(92171),n=a(79475),l=a(35533);function s(e){return e&&"string"===typeof e}e.exports=function(e,t){var a,c=t._length,d=new Array(c);a=t.geojson?function(e){return s(e)||i(e)}:s;for(var h=0;h<c;h++){var p=d[h]={},f=t.locations[h],u=t.z[h];a(f)&&i(u)?(p.loc=f,p.z=u):(p.loc=null,p.z=o),p.index=h}return n(d,t),r(e,t,{vals:t.z,containerStr:"",cLetter:"z"}),l(d,t),d}},85605:function(e,t,a){var i=a(47401),o=a(94060),r=a(92082);e.exports=function(e,t,a,n){function l(a,o){return i.coerce(e,t,r,a,o)}var s=l("locations"),c=l("z");if(s&&s.length&&i.isArrayOrTypedArray(c)&&c.length){t._length=Math.min(s.length,c.length);var d,h=l("geojson");("string"===typeof h&&""!==h||i.isPlainObject(h))&&(d="geojson-id"),"geojson-id"===l("locationmode",d)&&l("featureidkey"),l("text"),l("hovertext"),l("hovertemplate"),l("marker.line.width")&&l("marker.line.color"),l("marker.opacity"),o(e,t,n,l,{prefix:"",cLetter:"z"}),i.coerceSelectionMarkerOpacity(t,l)}else t.visible=!1}},84702:function(e){e.exports=function(e,t,a,i,o){e.location=t.location,e.z=t.z;var r=i[o];return r.fIn&&r.fIn.properties&&(e.properties=r.fIn.properties),e.ct=r.ct,e}},36285:function(e,t,a){var i=a(37762),o=a(92082),r=a(47401).fillText;e.exports=function(e,t,a){var n,l,s,c,d=e.cd,h=d[0].trace,p=e.subplot,f=[t,a],u=[t+360,a];for(l=0;l<d.length;l++)if(c=!1,(n=d[l])._polygons){for(s=0;s<n._polygons.length;s++)n._polygons[s].contains(f)&&(c=!c),n._polygons[s].contains(u)&&(c=!c);if(c)break}if(c&&n)return e.x0=e.x1=e.xa.c2p(n.ct),e.y0=e.y1=e.ya.c2p(n.ct),e.index=n.index,e.location=n.loc,e.z=n.z,e.zLabel=i.tickText(p.mockAxis,p.mockAxis.c2l(n.z),"hover").text,e.hovertemplate=n.hovertemplate,function(e,t,a){if(t.hovertemplate)return;var i=a.hi||t.hoverinfo,n=String(a.loc),l="all"===i?o.hoverinfo.flags:i.split("+"),s=-1!==l.indexOf("name"),c=-1!==l.indexOf("location"),d=-1!==l.indexOf("z"),h=-1!==l.indexOf("text"),p=[];!s&&c?e.nameOverride=n:(s&&(e.nameOverride=t.name),c&&p.push(n));d&&p.push(e.zLabel);h&&r(a,t,p);e.extraText=p.join("<br>")}(e,h,n),[e]}},85323:function(e,t,a){e.exports={attributes:a(92082),supplyDefaults:a(85605),colorbar:a(17439),calc:a(86606),calcGeoJSON:a(31372).calcGeoJSON,plot:a(31372).plot,style:a(34078).style,styleOnSelect:a(34078).styleOnSelect,hoverPoints:a(36285),eventData:a(84702),selectPoints:a(24031),moduleType:"trace",name:"choropleth",basePlotModule:a(34024),categories:["geo","noOpacity","showLegend"],meta:{description:["The data that describes the choropleth value-to-color mapping","is set in `z`.","The geographic locations corresponding to each value in `z`","are set in `locations`."].join(" ")}}},31372:function(e,t,a){var i=a(62258),o=a(47401),r=a(40458),n=a(57481).getTopojsonFeatures,l=a(9319).findExtremes,s=a(34078).style;e.exports={calcGeoJSON:function(e,t){for(var a=e[0].trace,i=t[a.geo],o=i._subplot,s=a.locationmode,c=a._length,d="geojson-id"===s?r.extractTraceFeature(e):n(a,o.topojson),h=[],p=[],f=0;f<c;f++){var u=e[f],y="geojson-id"===s?u.fOut:r.locationToFeature(s,u.loc,d);if(y){u.geojson=y,u.ct=y.properties.ct,u._polygons=r.feature2polygons(y);var x=r.computeBbox(y);h.push(x[0],x[2]),p.push(x[1],x[3])}else u.geojson=null}if("geojson"===i.fitbounds&&"geojson-id"===s){var m=r.computeBbox(r.getTraceGeojson(a));h=[m[0],m[2]],p=[m[1],m[3]]}var v={padded:!0};a._extremes.lon=l(i.lonaxis._ax,h,v),a._extremes.lat=l(i.lataxis._ax,p,v)},plot:function(e,t,a){var r=t.layers.backplot.select(".choroplethlayer");o.makeTraceGroups(r,a,"trace choropleth").each((function(t){var a=i.select(this).selectAll("path.choroplethlocation").data(o.identity);a.enter().append("path").classed("choroplethlocation",!0),a.exit().remove(),s(e,t)}))}}},24031:function(e){e.exports=function(e,t){var a,i,o,r,n,l=e.cd,s=e.xaxis,c=e.yaxis,d=[];if(!1===t)for(a=0;a<l.length;a++)l[a].selected=0;else for(a=0;a<l.length;a++)(o=(i=l[a]).ct)&&(r=s.c2p(o),n=c.c2p(o),t.contains([r,n],null,a,e)?(d.push({pointNumber:a,lon:o[0],lat:o[1]}),i.selected=1):i.selected=0);return d}},34078:function(e,t,a){var i=a(62258),o=a(31454),r=a(41707),n=a(47624);function l(e,t){var a=t[0].trace,l=t[0].node3.selectAll(".choroplethlocation"),s=a.marker||{},c=s.line||{},d=n.makeColorScaleFuncFromTrace(a);l.each((function(e){i.select(this).attr("fill",d(e.z)).call(o.stroke,e.mlc||c.color).call(r.dashLine,"",e.mlw||c.width||0).style("opacity",s.opacity)})),r.selectedPointStyle(l,a,e)}e.exports={style:function(e,t){t&&l(e,t)},styleOnSelect:function(e,t){var a=t[0].node3,i=t[0].trace;i.selectedpoints?r.selectedPointStyle(a.selectAll(".choroplethlocation"),i,e):l(e,t)}}},12899:function(e,t,a){var i=a(92082),o=a(97451),r=a(4216).r,n=a(42837),l=a(87241).extendFlat;e.exports=l({locations:{valType:"data_array",editType:"calc",description:["Sets which features found in *geojson* to plot using","their feature `id` field."].join(" ")},z:{valType:"data_array",editType:"calc",description:"Sets the color values."},geojson:{valType:"any",editType:"calc",description:["Sets the GeoJSON data associated with this trace.","It can be set as a valid GeoJSON object or as a URL string.","Note that we only accept GeoJSONs of type *FeatureCollection* or *Feature*","with geometries of type *Polygon* or *MultiPolygon*."].join(" ")},featureidkey:l({},i.featureidkey,{description:["Sets the key in GeoJSON features which is used as id to match the items","included in the `locations` array.","Support nested property, for example *properties.name*."].join(" ")}),below:{valType:"string",editType:"plot",description:["Determines if the choropleth polygons will be inserted","before the layer with the specified ID.","By default, choroplethmapbox traces are placed above the water layers.","If set to '',","the layer will be inserted above every existing layer."].join(" ")},text:i.text,hovertext:i.hovertext,marker:{line:{color:l({},i.marker.line.color,{editType:"plot"}),width:l({},i.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:l({},i.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:l({},i.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:l({},i.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:i.hoverinfo,hovertemplate:r({},{keys:["properties"]}),showlegend:l({},n.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},72599:function(e,t,a){var i=a(83491),o=a(47401),r=a(47624),n=a(41707),l=a(92380).makeBlank,s=a(40458);function c(e){var t,a=e[0].trace,i=a._opts;if(a.selectedpoints){for(var r=n.makeSelectedPointStyleFns(a),l=0;l<e.length;l++){var s=e[l];s.fOut&&(s.fOut.properties.mo2=r.selectedOpacityFn(s))}t={type:"identity",property:"mo2"}}else t=o.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return o.extendFlat(i.fill.paint,{"fill-opacity":t}),o.extendFlat(i.line.paint,{"line-opacity":t}),i}e.exports={convert:function(e){var t=e[0].trace,a=!0===t.visible&&0!==t._length,n={layout:{visibility:"none"},paint:{}},d={layout:{visibility:"none"},paint:{}},h=t._opts={fill:n,line:d,geojson:l()};if(!a)return h;var p=s.extractTraceFeature(e);if(!p)return h;var f,u,y,x=r.makeColorScaleFuncFromTrace(t),m=t.marker,v=m.line||{};o.isArrayOrTypedArray(m.opacity)&&(f=function(e){var t=e.mo;return i(t)?+o.constrain(t,0,1):0}),o.isArrayOrTypedArray(v.color)&&(u=function(e){return e.mlc}),o.isArrayOrTypedArray(v.width)&&(y=function(e){return e.mlw});for(var g=0;g<e.length;g++){var b=e[g],T=b.fOut;if(T){var w=T.properties;w.fc=x(b.z),f&&(w.mo=f(b)),u&&(w.mlc=u(b)),y&&(w.mlw=y(b)),b.ct=w.ct,b._polygons=s.feature2polygons(T)}}var k=f?{type:"identity",property:"mo"}:m.opacity;return o.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":k}),o.extendFlat(d.paint,{"line-color":u?{type:"identity",property:"mlc"}:v.color,"line-width":y?{type:"identity",property:"mlw"}:v.width,"line-opacity":k}),n.layout.visibility="visible",d.layout.visibility="visible",h.geojson={type:"FeatureCollection",features:p},c(e),h},convertOnSelect:c}},8644:function(e,t,a){var i=a(47401),o=a(94060),r=a(12899);e.exports=function(e,t,a,n){function l(a,o){return i.coerce(e,t,r,a,o)}var s=l("locations"),c=l("z"),d=l("geojson");i.isArrayOrTypedArray(s)&&s.length&&i.isArrayOrTypedArray(c)&&c.length&&("string"===typeof d&&""!==d||i.isPlainObject(d))?(l("featureidkey"),t._length=Math.min(s.length,c.length),l("below"),l("text"),l("hovertext"),l("hovertemplate"),l("marker.line.width")&&l("marker.line.color"),l("marker.opacity"),o(e,t,n,l,{prefix:"",cLetter:"z"}),i.coerceSelectionMarkerOpacity(t,l)):t.visible=!1}},26e3:function(e,t,a){e.exports={attributes:a(12899),supplyDefaults:a(8644),colorbar:a(17439),calc:a(86606),plot:a(77),hoverPoints:a(36285),eventData:a(84702),selectPoints:a(24031),styleOnSelect:function(e,t){t&&t[0].trace._glTrace.updateOnSelect(t)},getBelow:function(e,t){for(var a=t.getMapLayers(),i=a.length-2;i>=0;i--){var o=a[i].id;if("string"===typeof o&&0===o.indexOf("water"))for(var r=i+1;r<a.length;r++)if("string"===typeof(o=a[r].id)&&-1===o.indexOf("plotly-"))return o}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:a(25456),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox",description:["GeoJSON features to be filled are set in `geojson`","The data that describes the choropleth value-to-color mapping","is set in `locations` and `z`."].join(" ")}}},77:function(e,t,a){var i=a(72599).convert,o=a(72599).convertOnSelect,r=a(82949).traceLayerPrefix;function n(e,t){this.type="choroplethmapbox",this.subplot=e,this.uid=t,this.sourceId="source-"+t,this.layerList=[["fill",r+t+"-fill"],["line",r+t+"-line"]],this.below=null}var l=n.prototype;l.update=function(e){this._update(i(e))},l.updateOnSelect=function(e){this._update(o(e))},l._update=function(e){var t=this.subplot,a=this.layerList,i=t.belowLookup["trace-"+this.uid];t.map.getSource(this.sourceId).setData(e.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(e,i),this.below=i);for(var o=0;o<a.length;o++){var r=a[o],n=r[0],l=r[1],s=e[n];t.setOptions(l,"setLayoutProperty",s.layout),"visible"===s.layout.visibility&&t.setOptions(l,"setPaintProperty",s.paint)}},l._addLayers=function(e,t){for(var a=this.subplot,i=this.layerList,o=this.sourceId,r=0;r<i.length;r++){var n=i[r],l=n[0],s=e[l];a.addLayer({type:l,id:n[1],source:o,layout:s.layout,paint:s.paint},t)}},l._removeLayers=function(){for(var e=this.subplot.map,t=this.layerList,a=t.length-1;a>=0;a--)e.removeLayer(t[a][1])},l.dispose=function(){var e=this.subplot.map;this._removeLayers(),e.removeSource(this.sourceId)},e.exports=function(e,t){var a=t[0].trace,o=new n(e,a.uid),r=o.sourceId,l=i(t),s=o.below=e.belowLookup["trace-"+a.uid];return e.map.addSource(r,{type:"geojson",data:l.geojson}),o._addLayers(l,s),t[0].trace._glTrace=o,o}},42745:function(e,t,a){var i=a(97451),o=a(20184).axisHoverFormat,r=a(4216).r,n=a(49762),l=a(42837),s=a(87241).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x coordinates of the vector field","and of the displayed cones."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the y coordinates of the vector field","and of the displayed cones."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the z coordinates of the vector field","and of the displayed cones."].join(" ")},u:{valType:"data_array",editType:"calc",description:"Sets the x components of the vector field."},v:{valType:"data_array",editType:"calc",description:"Sets the y components of the vector field."},w:{valType:"data_array",editType:"calc",description:"Sets the z components of the vector field."},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled",description:["Determines whether `sizeref` is set as a *scaled* (i.e unitless) scalar","(normalized by the max u/v/w norm in the vector field) or as","*absolute* value (in the same units as the vector field)."].join(" ")},sizeref:{valType:"number",editType:"calc",min:0,description:["Adjusts the cone size scaling.","The size of the cones is determined by their u/v/w norm multiplied a factor and `sizeref`.",'This factor (computed internally) corresponds to the minimum "time" to travel across',"two successive x/y/z positions at the average velocity of those two successive positions.","All cones in a given trace use the same factor.","With `sizemode` set to *scaled*, `sizeref` is unitless, its default value is *0.5*","With `sizemode` set to *absolute*, `sizeref` has the same units as the u/v/w vector field,","its the default value is half the sample's maximum vector norm."].join(" ")},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm",description:["Sets the cones' anchor with respect to their x/y/z positions.","Note that *cm* denote the cone's center of mass which corresponds to","1/4 from the tail to tip."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the cones.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:r({editType:"calc"},{keys:["norm"]}),uhoverformat:o("u",1),vhoverformat:o("v",1),whoverformat:o("w",1),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),showlegend:s({},l.showlegend,{dflt:!1})};s(c,i("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));["opacity","lightposition","lighting"].forEach((function(e){c[e]=n[e]})),c.hoverinfo=s({},l.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,e.exports=c},98461:function(e,t,a){var i=a(92171);e.exports=function(e,t){for(var a=t.u,o=t.v,r=t.w,n=Math.min(t.x.length,t.y.length,t.z.length,a.length,o.length,r.length),l=-1/0,s=1/0,c=0;c<n;c++){var d=a[c],h=o[c],p=r[c],f=Math.sqrt(d*d+h*h+p*p);l=Math.max(l,f),s=Math.min(s,f)}t._len=n,t._normMax=l,i(e,t,{vals:[s,l],containerStr:"",cLetter:"c"})}},51809:function(e,t,a){var i=a(99716),o=a(99716).createConeMesh,r=a(47401).simpleMap,n=a(63750).parseColorScale,l=a(47624).extractOpts,s=a(35839);function c(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var d=c.prototype;d.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,a=this.data.x[t],i=this.data.y[t],o=this.data.z[t],r=this.data.u[t],n=this.data.v[t],l=this.data.w[t];e.traceCoordinate=[a,i,o,r,n,l,Math.sqrt(r*r+n*n+l*l)];var s=this.data.hovertext||this.data.text;return Array.isArray(s)&&void 0!==s[t]?e.textLabel=s[t]:s&&(e.textLabel=s),!0}};var h={xaxis:0,yaxis:1,zaxis:2},p={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(e,t){var a=e.fullSceneLayout,o=e.dataScale,c={};function d(e,t){var i=a[t],n=o[h[t]];return r(e,(function(e){return i.d2l(e)*n}))}c.vectors=s(d(t.u,"xaxis"),d(t.v,"yaxis"),d(t.w,"zaxis"),t._len),c.positions=s(d(t.x,"xaxis"),d(t.y,"yaxis"),d(t.z,"zaxis"),t._len);var u=l(t);c.colormap=n(t),c.vertexIntensityBounds=[u.min/t._normMax,u.max/t._normMax],c.coneOffset=p[t.anchor],"scaled"===t.sizemode?c.coneSize=t.sizeref||.5:c.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var y=i(c),x=t.lightposition;return y.lightPosition=[x.x,x.y,x.z],y.ambient=t.lighting.ambient,y.diffuse=t.lighting.diffuse,y.specular=t.lighting.specular,y.roughness=t.lighting.roughness,y.fresnel=t.lighting.fresnel,y.opacity=t.opacity,t._pad=f[t.anchor]*y.vectorScale*y.coneScale*t._normMax,y}d.update=function(e){this.data=e;var t=u(this.scene,e);this.mesh.update(t)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=function(e,t){var a=e.glplot.gl,i=u(e,t),r=o(a,i),n=new c(e,t.uid);return n.mesh=r,n.data=t,r._trace=n,e.glplot.add(r),n}},82174:function(e,t,a){var i=a(47401),o=a(94060),r=a(42745);e.exports=function(e,t,a,n){function l(a,o){return i.coerce(e,t,r,a,o)}var s=l("u"),c=l("v"),d=l("w"),h=l("x"),p=l("y"),f=l("z");s&&s.length&&c&&c.length&&d&&d.length&&h&&h.length&&p&&p.length&&f&&f.length?(l("sizeref"),l("sizemode"),l("anchor"),l("lighting.ambient"),l("lighting.diffuse"),l("lighting.specular"),l("lighting.roughness"),l("lighting.fresnel"),l("lightposition.x"),l("lightposition.y"),l("lightposition.z"),o(e,t,n,l,{prefix:"",cLetter:"c"}),l("text"),l("hovertext"),l("hovertemplate"),l("uhoverformat"),l("vhoverformat"),l("whoverformat"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),t._length=null):t.visible=!1}},56058:function(e,t,a){e.exports={moduleType:"trace",name:"cone",basePlotModule:a(6727),categories:["gl3d","showLegend"],attributes:a(42745),supplyDefaults:a(82174),colorbar:{min:"cmin",max:"cmax"},calc:a(98461),plot:a(51809),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{description:["Use cone traces to visualize vector fields.","","Specify a vector field using 6 1D arrays,","3 position arrays `x`, `y` and `z`","and 3 vector component arrays `u`, `v`, `w`.","The cones are drawn exactly at the positions given","by `x`, `y` and `z`."].join(" ")}}}}]);