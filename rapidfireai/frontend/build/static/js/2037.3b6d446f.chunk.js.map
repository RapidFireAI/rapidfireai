{"version":3,"file":"static/js/2037.3b6d446f.chunk.js","mappings":"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","sources":["experiment-tracking/components/experiment-page/components/runs/ExperimentViewRunsModeSwitch.tsx","experiment-tracking/components/experiment-page/components/traces-v3/utils/dateUtils.ts","experiment-tracking/hooks/useMonitoringConfig.tsx","experiment-tracking/hooks/useMonitoringFilters.tsx","experiment-tracking/components/experiment-page/components/traces-v3/TracesV3DateSelector.tsx","experiment-tracking/components/experiment-page/components/traces-v3/TracesV3EmptyState.tsx","experiment-tracking/components/experiment-page/components/traces-v3/TracesV3Logs.tsx","experiment-tracking/components/experiment-page/components/traces-v3/hooks/useSetInitialTimeFilter.ts","experiment-tracking/components/experiment-page/components/traces-v3/TracesV3PageWrapper.tsx","experiment-tracking/hooks/useMonitoringViewState.tsx","experiment-tracking/components/experiment-page/components/traces-v3/TracesV3View.tsx","experiment-tracking/components/experiment-page/components/ExperimentViewTraces.tsx"],"sourcesContent":["import { LegacyTabs, useDesignSystemTheme } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentPageViewState } from '../../models/ExperimentPageViewState';\nimport type { ExperimentViewRunsCompareMode } from '../../../../types';\nimport { PreviewBadge } from '@mlflow/mlflow/src/shared/building_blocks/PreviewBadge';\nimport { getExperimentPageDefaultViewMode, useExperimentPageViewMode } from '../../hooks/useExperimentPageViewMode';\nimport { useExperimentPageSearchFacets } from '../../hooks/useExperimentPageSearchFacets';\n\nexport interface ExperimentViewRunsModeSwitchProps {\n  viewState?: ExperimentPageViewState;\n  runsAreGrouped?: boolean;\n  hideBorder?: boolean;\n  explicitViewMode?: ExperimentViewRunsCompareMode;\n  experimentId?: string;\n}\n\n/**\n * Allows switching between various modes of the experiment page view.\n * Handles legacy part of the mode switching, based on \"compareRunsMode\" query parameter.\n * Modern part of the mode switching is handled by <ExperimentViewRunsModeSwitchV2> which works using route params.\n */\nexport const ExperimentViewRunsModeSwitch = ({\n  hideBorder = true,\n}: ExperimentViewRunsModeSwitchProps) => {\n  const [, experimentIds] = useExperimentPageSearchFacets();\n  const [viewMode, setViewModeInURL] = useExperimentPageViewMode();\n  const { classNamePrefix } = useDesignSystemTheme();\n  const currentViewMode = viewMode || getExperimentPageDefaultViewMode();\n  const validRunsTabModes = ['TABLE', 'CHART'];\n  const activeTab = validRunsTabModes.includes(currentViewMode) ? 'RUNS' : currentViewMode;\n\n  // Extract experiment ID from the URL but only if it's a single experiment.\n  // In case of multiple experiments (compare mode), the experiment ID is undefined.\n  const singleExperimentId = experimentIds.length === 1 ? experimentIds[0] : undefined;\n\n  return (\n    <LegacyTabs\n      dangerouslyAppendEmotionCSS={{\n        [`.${classNamePrefix}-tabs-nav`]: {\n          marginBottom: 0,\n          '::before': {\n            display: hideBorder ? 'none' : 'block',\n          },\n        },\n      }}\n      activeKey={activeTab}\n      onChange={(tabKey) => {\n        const newValue = tabKey as ExperimentViewRunsCompareMode | 'RUNS';\n\n        if (activeTab === newValue) {\n          return;\n        }\n\n        if (newValue === 'RUNS') {\n          return setViewModeInURL('TABLE');\n        }\n\n        setViewModeInURL(newValue, singleExperimentId);\n      }}\n    >\n      <LegacyTabs.TabPane\n        tab={\n          <span data-testid=\"experiment-runs-mode-switch-combined\">\n            <FormattedMessage\n              defaultMessage=\"Runs\"\n              description=\"A button enabling combined runs table and charts mode on the experiment page\"\n            />\n          </span>\n        }\n        key=\"RUNS\"\n      />\n      {/* Display the \"Models\" tab if we have only one experiment and the feature is enabled. */}\n      {singleExperimentId && (\n        <LegacyTabs.TabPane\n          key=\"MODELS\"\n          tab={\n            <span data-testid=\"experiment-runs-mode-switch-models\">\n              <FormattedMessage\n                defaultMessage=\"Models\"\n                description=\"A button navigating to logged models table on the experiment page\"\n              />\n              <PreviewBadge />\n            </span>\n          }\n        />\n      )}\n      <LegacyTabs.TabPane\n        tab={\n          <span data-testid=\"experiment-runs-mode-switch-logs\">\n            <FormattedMessage\n              defaultMessage=\"Logs\"\n              description=\"A button enabling logs mode on the experiment page\"\n            />\n          </span>\n        }\n        key=\"LOGS\"\n      />\n      <LegacyTabs.TabPane\n        tab={\n          <span data-testid=\"experiment-runs-mode-switch-ic-logs\">\n            <FormattedMessage\n              defaultMessage=\"Interactive Control Logs\"\n              description=\"A button enabling interactive control logs mode on the experiment page\"\n            />\n          </span>\n        }\n        key=\"IC_LOGS\"\n      />\n    </LegacyTabs>\n  );\n};\n","import { START_TIME_LABEL } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\nimport { IntlShape } from 'react-intl';\n\nexport type TimeBucket = 'SECOND' | 'MINUTE' | 'HOUR' | 'DAY' | 'WEEK' | 'MONTH';\n\nexport interface NamedDateFilter {\n  key: START_TIME_LABEL;\n  label: string;\n}\n\nexport function getNamedDateFilters(intl: IntlShape): NamedDateFilter[] {\n  return [\n    {\n      key: 'LAST_HOUR',\n      label: intl.formatMessage({\n        defaultMessage: 'Last hour',\n        description: 'Option for the start select dropdown to filter runs from the last hour',\n      }),\n    },\n    {\n      key: 'LAST_24_HOURS',\n      label: intl.formatMessage({\n        defaultMessage: 'Last 24 hours',\n        description: 'Option for the start select dropdown to filter runs from the last 24 hours',\n      }),\n    },\n    {\n      key: 'LAST_7_DAYS',\n      label: intl.formatMessage({\n        defaultMessage: 'Last 7 days',\n        description: 'Option for the start select dropdown to filter runs from the last 7 days',\n      }),\n    },\n    {\n      key: 'LAST_30_DAYS',\n      label: intl.formatMessage({\n        defaultMessage: 'Last 30 days',\n        description: 'Option for the start select dropdown to filter runs from the last 30 days',\n      }),\n    },\n    {\n      key: 'LAST_YEAR',\n      label: intl.formatMessage({\n        defaultMessage: 'Last year',\n        description: 'Option for the start select dropdown to filter runs since the last 1 year',\n      }),\n    },\n    {\n      key: 'ALL',\n      label: intl.formatMessage({\n        defaultMessage: 'All',\n        description: 'Option for the start select dropdown to filter runs from the beginning of time',\n      }),\n    },\n    {\n      key: 'CUSTOM',\n      label: intl.formatMessage({\n        defaultMessage: 'Custom',\n        description: 'Option for the start select dropdown to filter runs with a custom time range',\n      }),\n    },\n  ];\n}\n","import { merge } from 'lodash';\nimport type { ReactNode } from 'react';\nimport React, { createContext, useContext } from 'react';\n\n// A global config that is used as a context for monitoring components.\nexport interface MonitoringConfig {\n  dateNow: Date;\n  setDateNow: (date: Date) => void;\n}\n\n// Define a default configuration\nconst getDefaultConfig = (): MonitoringConfig => {\n  return {\n    dateNow: new Date(),\n    setDateNow: (date: Date) => {},\n  };\n};\n\n// Create the context with a default value\nconst MonitoringConfigContext = createContext<MonitoringConfig>(getDefaultConfig());\n\ninterface MonitoringConfigProviderProps {\n  config?: Partial<MonitoringConfig>;\n  children: ReactNode;\n}\n\nexport const MonitoringConfigProvider: React.FC<MonitoringConfigProviderProps> = ({ config, children }) => {\n  const defaultConfig = getDefaultConfig();\n  // Remove undefined values from the config object\n\n  const mergedConfig: MonitoringConfig = merge({}, defaultConfig, config);\n\n  const [dateNow, setDateNow] = React.useState(mergedConfig.dateNow);\n\n  return (\n    <MonitoringConfigContext.Provider\n      value={{\n        ...mergedConfig,\n        dateNow,\n        setDateNow,\n      }}\n    >\n      {children}\n    </MonitoringConfigContext.Provider>\n  );\n};\n\nexport const useMonitoringConfig = (): MonitoringConfig => {\n  const context = useContext(MonitoringConfigContext);\n\n  if (!context) {\n    return getDefaultConfig(); // Fallback to defaults if no provider is found\n  }\n\n  return context;\n};\n","import { useCallback, useMemo } from 'react';\nimport { useSearchParams } from '../../common/utils/RoutingUtils';\nimport { useMonitoringConfig } from './useMonitoringConfig';\n\nexport const START_TIME_LABEL_QUERY_PARAM_KEY = 'startTimeLabel';\nconst START_TIME_QUERY_PARAM_KEY = 'startTime';\nconst END_TIME_QUERY_PARAM_KEY = 'endTime';\n\nexport type START_TIME_LABEL =\n  | 'LAST_HOUR'\n  | 'LAST_24_HOURS'\n  | 'LAST_7_DAYS'\n  | 'LAST_30_DAYS'\n  | 'LAST_YEAR'\n  | 'ALL'\n  | 'CUSTOM';\nexport const DEFAULT_START_TIME_LABEL: START_TIME_LABEL = 'LAST_7_DAYS';\n\nexport interface MonitoringFilters {\n  startTimeLabel?: START_TIME_LABEL;\n  startTime?: string;\n  endTime?: string;\n}\n\n/**\n * Query param-powered hook that returns the monitoring filters from the URL.\n */\nexport const useMonitoringFilters = () => {\n  const monitoringConfig = useMonitoringConfig();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const startTimeLabel =\n    (searchParams.get(START_TIME_LABEL_QUERY_PARAM_KEY) as START_TIME_LABEL | undefined) || DEFAULT_START_TIME_LABEL;\n  let startTime = searchParams.get(START_TIME_QUERY_PARAM_KEY) || undefined;\n  let endTime = searchParams.get(END_TIME_QUERY_PARAM_KEY) ?? undefined;\n  if (startTimeLabel !== 'CUSTOM') {\n    const absoluteStartEndTime = getAbsoluteStartEndTime(monitoringConfig.dateNow, { startTimeLabel });\n    startTime = absoluteStartEndTime.startTime;\n    endTime = absoluteStartEndTime.endTime;\n  } else {\n    startTime = searchParams.get(START_TIME_QUERY_PARAM_KEY) || undefined;\n    endTime = searchParams.get(END_TIME_QUERY_PARAM_KEY) ?? undefined;\n  }\n\n  const monitoringFilters = useMemo<MonitoringFilters>(\n    () => ({\n      startTimeLabel,\n      startTime,\n      endTime,\n    }),\n    [startTimeLabel, startTime, endTime],\n  );\n\n  const setMonitoringFilters = useCallback(\n    (monitoringFilters: MonitoringFilters | undefined, replace = false) => {\n      setSearchParams(\n        (params) => {\n          if (monitoringFilters?.startTime === undefined) {\n            params.delete(START_TIME_QUERY_PARAM_KEY);\n          } else if (monitoringFilters.startTimeLabel === 'CUSTOM') {\n            params.set(START_TIME_QUERY_PARAM_KEY, monitoringFilters.startTime);\n          }\n          if (monitoringFilters?.endTime === undefined) {\n            params.delete(END_TIME_QUERY_PARAM_KEY);\n          } else if (monitoringFilters.startTimeLabel === 'CUSTOM') {\n            params.set(END_TIME_QUERY_PARAM_KEY, monitoringFilters.endTime);\n          }\n          if (monitoringFilters?.startTimeLabel === undefined) {\n            params.delete(START_TIME_LABEL_QUERY_PARAM_KEY);\n          } else {\n            params.set(START_TIME_LABEL_QUERY_PARAM_KEY, monitoringFilters.startTimeLabel);\n          }\n          return params;\n        },\n        { replace },\n      );\n    },\n    [setSearchParams],\n  );\n\n  return [monitoringFilters, setMonitoringFilters] as const;\n};\n\nexport function getAbsoluteStartEndTime(\n  dateNow: Date,\n  monitoringFilters: MonitoringFilters,\n): {\n  startTime: string | undefined;\n  endTime: string | undefined;\n} {\n  if (monitoringFilters.startTimeLabel && monitoringFilters.startTimeLabel !== 'CUSTOM') {\n    return startTimeLabelToStartEndTime(dateNow, monitoringFilters.startTimeLabel);\n  }\n  return {\n    startTime: monitoringFilters.startTime,\n    endTime: monitoringFilters.endTime,\n  };\n}\n\nexport function startTimeLabelToStartEndTime(\n  dateNow: Date,\n  startTimeLabel: START_TIME_LABEL,\n): {\n  startTime: string | undefined;\n  endTime: string | undefined;\n} {\n  switch (startTimeLabel) {\n    case 'LAST_HOUR':\n      return {\n        startTime: new Date(new Date(dateNow).setUTCHours(new Date().getUTCHours() - 1)).toISOString(),\n        endTime: dateNow.toISOString(),\n      };\n    case 'LAST_24_HOURS':\n      return {\n        startTime: new Date(new Date(dateNow).setUTCDate(new Date().getUTCDate() - 1)).toISOString(),\n        endTime: dateNow.toISOString(),\n      };\n    case 'LAST_7_DAYS':\n      return {\n        startTime: new Date(new Date(dateNow).setUTCDate(new Date().getUTCDate() - 7)).toISOString(),\n        endTime: dateNow.toISOString(),\n      };\n    case 'LAST_30_DAYS':\n      return {\n        startTime: new Date(new Date(dateNow).setUTCDate(new Date().getUTCDate() - 30)).toISOString(),\n        endTime: dateNow.toISOString(),\n      };\n    case 'LAST_YEAR':\n      return {\n        startTime: new Date(new Date(dateNow).setUTCFullYear(new Date().getUTCFullYear() - 1)).toISOString(),\n        endTime: dateNow.toISOString(),\n      };\n    case 'ALL':\n      return {\n        startTime: undefined,\n        endTime: dateNow.toISOString(),\n      };\n    default:\n      throw new Error(`Unexpected start time label: ${startTimeLabel}`);\n  }\n}\n","import React, { useMemo } from 'react';\nimport {\n  Button,\n  DialogCombobox,\n  DialogComboboxContent,\n  DialogComboboxOptionList,\n  DialogComboboxOptionListSelectItem,\n  DialogComboboxTrigger,\n  FormUI,\n  RefreshIcon,\n  Tooltip,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useIntl } from '@databricks/i18n';\nimport { getNamedDateFilters } from './utils/dateUtils';\nimport {\n  DEFAULT_START_TIME_LABEL,\n  useMonitoringFilters,\n} from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\nimport { isNil } from 'lodash';\nimport { RangePicker } from '@databricks/design-system/development';\nimport { useMonitoringConfig } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringConfig';\n\nexport interface DateRange {\n  startDate: string;\n  endDate: string;\n}\n\nexport const TracesV3DateSelector = React.memo(() => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  const [monitoringFilters, setMonitoringFilters] = useMonitoringFilters();\n\n  const namedDateFilters = useMemo(() => getNamedDateFilters(intl), [intl]);\n\n  // List of labels for \"start time\" filter\n  const currentStartTimeFilterLabel = intl.formatMessage({\n    defaultMessage: 'Time Range',\n    description: 'Label for the start range select dropdown for experiment runs view',\n  });\n\n  const monitoringConfig = useMonitoringConfig();\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        gap: theme.spacing.sm,\n        alignItems: 'center',\n      }}\n    >\n      <DialogCombobox\n        componentId=\"mlflow.experiment-evaluation-monitoring.date-selector\"\n        label={currentStartTimeFilterLabel}\n        value={monitoringFilters.startTimeLabel ? [monitoringFilters.startTimeLabel] : [DEFAULT_START_TIME_LABEL]}\n      >\n        <DialogComboboxTrigger\n          renderDisplayedValue={(value) => {\n            return namedDateFilters.find((namedDateFilter) => namedDateFilter.key === value)?.label;\n          }}\n          allowClear={\n            !isNil(monitoringFilters.startTimeLabel) && monitoringFilters.startTimeLabel !== DEFAULT_START_TIME_LABEL\n          }\n          onClear={() => {\n            setMonitoringFilters({ startTimeLabel: DEFAULT_START_TIME_LABEL });\n          }}\n          data-testid=\"time-range-select-dropdown\"\n        />\n        <DialogComboboxContent>\n          <DialogComboboxOptionList>\n            {namedDateFilters.map((namedDateFilter) => (\n              <DialogComboboxOptionListSelectItem\n                key={namedDateFilter.key}\n                checked={\n                  monitoringFilters.startTimeLabel === namedDateFilter.key ||\n                  (namedDateFilter.key === DEFAULT_START_TIME_LABEL && isNil(monitoringFilters.startTimeLabel))\n                }\n                title={namedDateFilter.label}\n                data-testid={`time-range-select-${namedDateFilter}`}\n                value={namedDateFilter.key}\n                onChange={() => {\n                  setMonitoringFilters({\n                    ...monitoringFilters,\n                    startTimeLabel: namedDateFilter.key,\n                  });\n                }}\n              >\n                {namedDateFilter.label}\n              </DialogComboboxOptionListSelectItem>\n            ))}\n          </DialogComboboxOptionList>\n        </DialogComboboxContent>\n      </DialogCombobox>\n      {monitoringFilters.startTimeLabel === 'CUSTOM' && (\n        <>\n          <RangePicker\n            id=\"date-picker-range\"\n            includeTime\n            selected={{\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TODO(FEINF-3982)\n              from: new Date(monitoringFilters.startTime!),\n              to: monitoringFilters.endTime ? new Date(monitoringFilters.endTime) : monitoringConfig.dateNow,\n            }}\n            onChange={(e) => {\n              const date = e.target.value;\n              setMonitoringFilters({\n                ...monitoringFilters,\n                startTime: date?.from ? date.from.toISOString() : undefined,\n                endTime: date?.to ? date.to.toISOString() : undefined,\n              });\n            }}\n            startDatePickerProps={{\n              componentId: 'experiment-evaluation-monitoring-start-date-picker',\n              datePickerProps: {\n                disabled: {\n                  after: monitoringConfig.dateNow,\n                },\n              },\n              value: monitoringFilters.startTime ? new Date(monitoringFilters.startTime) : undefined,\n            }}\n            endDatePickerProps={{\n              componentId: 'experiment-evaluation-monitoring-end-date-picker',\n              datePickerProps: {\n                disabled: {\n                  after: monitoringConfig.dateNow,\n                },\n              },\n              value: monitoringFilters.endTime ? new Date(monitoringFilters.endTime) : undefined,\n            }}\n          />\n        </>\n      )}\n      <Tooltip\n        componentId=\"mlflow.experiment-evaluation-monitoring.trace-info-hover-request-time\"\n        content={intl.formatMessage(\n          {\n            defaultMessage: 'Showing data up to {date}.',\n            description: 'Tooltip for the refresh button showing the current date and time',\n          },\n          {\n            date: monitoringConfig.dateNow.toLocaleString(navigator.language, {\n              timeZoneName: 'short',\n            }),\n          },\n        )}\n      >\n        <Button\n          type=\"link\"\n          componentId=\"mlflow.experiment-evaluation-monitoring.refresh-date-button\"\n          onClick={() => monitoringConfig.setDateNow(new Date())}\n        >\n          <RefreshIcon />\n        </Button>\n      </Tooltip>\n    </div>\n  );\n});\n","import { useMonitoringFilters } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\nimport { useSearchMlflowTraces } from '@databricks/web-shared/genai-traces-table';\nimport { FormattedMessage } from '@databricks/i18n';\nimport { Button, DangerIcon, Empty, ParagraphSkeleton, SearchIcon } from '@databricks/design-system';\nimport { getNamedDateFilters } from './utils/dateUtils';\nimport { useGetExperimentQuery } from '@mlflow/mlflow/src/experiment-tracking/hooks/useExperimentQuery';\nimport { useMemo } from 'react';\nimport { useIntl } from '@databricks/i18n';\nimport { getExperimentKindFromTags } from '@mlflow/mlflow/src/experiment-tracking/utils/ExperimentKindUtils';\nimport { ExperimentKind } from '@mlflow/mlflow/src/experiment-tracking/constants';\nimport { TracesViewTableNoTracesQuickstart } from '../../../traces/quickstart/TracesViewTableNoTracesQuickstart';\n\nexport const TracesV3EmptyState = (props: { experimentIds: string[] }) => {\n  const { experimentIds } = props;\n\n  const intl = useIntl();\n\n  const {\n    data: traces,\n    isLoading,\n    error,\n  } = useSearchMlflowTraces({\n    experimentId: experimentIds[0],\n    pageSize: 1,\n    limit: 1,\n  });\n\n  // check experiment tags to see if it's genai or custom\n  const { data: experimentEntity, loading: isExperimentLoading } = useGetExperimentQuery({\n    experimentId: experimentIds[0],\n  });\n  const experiment = experimentEntity;\n  const experimentKind = getExperimentKindFromTags(experiment?.tags);\n\n  const isGenAIExperiment =\n    experimentKind === ExperimentKind.GENAI_DEVELOPMENT || experimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED;\n\n  const hasMoreTraces = traces && traces.length > 0;\n\n  const [monitoringFilters, setMonitoringFilters] = useMonitoringFilters();\n\n  const namedDateFilters = useMemo(() => getNamedDateFilters(intl), [intl]);\n\n  const button = (\n    <Button componentId=\"traces-v3-empty-state-button\" onClick={() => setMonitoringFilters({ startTimeLabel: 'ALL' })}>\n      <FormattedMessage defaultMessage=\"View All\" description=\"View all traces button\" />\n    </Button>\n  );\n\n  if (isLoading || isExperimentLoading) {\n    return (\n      <>\n        {[...Array(10).keys()].map((i) => (\n          <ParagraphSkeleton label=\"Loading...\" key={i} seed={`s-${i}`} />\n        ))}\n      </>\n    );\n  }\n\n  if (error) {\n    return (\n      <Empty\n        image={<DangerIcon />}\n        title={\n          <FormattedMessage defaultMessage=\"Fetching traces failed\" description=\"Fetching traces failed message\" />\n        }\n        description={String(error)}\n      />\n    );\n  }\n\n  if (hasMoreTraces) {\n    const image = <SearchIcon />;\n    const description = (\n      <FormattedMessage\n        defaultMessage='Some traces are hidden by your time range filter: \"{filterLabel}\"'\n        description=\"Message shown when traces are hidden by time filter\"\n        values={{\n          filterLabel: (\n            <strong>\n              {namedDateFilters.find((namedDateFilter) => namedDateFilter.key === monitoringFilters.startTimeLabel)\n                ?.label || ''}\n            </strong>\n          ),\n        }}\n      />\n    );\n    return (\n      <Empty\n        title={<FormattedMessage defaultMessage=\"No traces found\" description=\"No traces found message\" />}\n        description={description}\n        button={button}\n        image={image}\n      />\n    );\n  }\n  return <TracesViewTableNoTracesQuickstart baseComponentId=\"mlflow.traces\" />;\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Empty, ParagraphSkeleton, DangerIcon } from '@databricks/design-system';\nimport {\n  EXECUTION_DURATION_COLUMN_ID,\n  GenAiTracesMarkdownConverterProvider,\n  GenAITracesTableBodyContainer,\n  GenAITracesTableToolbar,\n  REQUEST_TIME_COLUMN_ID,\n  STATE_COLUMN_ID,\n  RESPONSE_COLUMN_ID,\n  TracesTableColumn,\n  TracesTableColumnType,\n  useSearchMlflowTraces,\n  useSelectedColumns,\n  getEvalTabTotalTracesLimit,\n  GenAITracesTableProvider,\n  TraceActions,\n  useFilters,\n  getTracesTagKeys,\n  useTableSort,\n  useMlflowTracesTableMetadata,\n  TOKENS_COLUMN_ID,\n  invalidateMlflowSearchTracesCache,\n} from '@databricks/web-shared/genai-traces-table';\nimport { MlflowService } from '@mlflow/mlflow/src/experiment-tracking/sdk/MlflowService';\nimport { useMarkdownConverter } from '@mlflow/mlflow/src/common/utils/MarkdownUtils';\nimport { shouldEnableTraceInsights } from '@mlflow/mlflow/src/common/utils/FeatureUtils';\nimport { useDeleteTracesMutation } from '../../../evaluations/hooks/useDeleteTraces';\nimport { useEditExperimentTraceTags } from '../../../traces/hooks/useEditExperimentTraceTags';\nimport { useIntl } from '@databricks/i18n';\nimport { TracesV3EmptyState } from './TracesV3EmptyState';\nimport { useQueryClient } from '@databricks/web-shared/query-client';\nimport { useSetInitialTimeFilter } from './hooks/useSetInitialTimeFilter';\n\nexport const TracesV3Logs = React.memo(\n  ({\n    experimentId,\n    endpointName,\n    timeRange,\n    loggedModelId,\n  }: {\n    experimentId: string;\n    endpointName: string;\n    timeRange?: { startTime: string | undefined; endTime: string | undefined };\n    loggedModelId?: string;\n  }) => {\n    const makeHtmlFromMarkdown = useMarkdownConverter();\n    const intl = useIntl();\n    const enableTraceInsights = shouldEnableTraceInsights();\n\n    // Get metadata\n    const {\n      assessmentInfos,\n      allColumns,\n      totalCount,\n      isLoading: isMetadataLoading,\n      error: metadataError,\n      isEmpty,\n      tableFilterOptions,\n    } = useMlflowTracesTableMetadata({\n      experimentId,\n      timeRange,\n      filterByLoggedModelId: loggedModelId,\n    });\n\n    // Setup table states\n    const [searchQuery, setSearchQuery] = useState<string>('');\n    const [filters, setFilters] = useFilters();\n    const queryClient = useQueryClient();\n\n    const defaultSelectedColumns = useCallback((columns: TracesTableColumn[]) => {\n      return columns.filter(\n        (col) =>\n          col.type === TracesTableColumnType.ASSESSMENT ||\n          col.type === TracesTableColumnType.INPUT ||\n          (col.type === TracesTableColumnType.TRACE_INFO &&\n            [\n              EXECUTION_DURATION_COLUMN_ID,\n              RESPONSE_COLUMN_ID,\n              REQUEST_TIME_COLUMN_ID,\n              STATE_COLUMN_ID,\n              TOKENS_COLUMN_ID,\n            ].includes(col.id)) ||\n          col.type === TracesTableColumnType.INTERNAL_MONITOR_REQUEST_TIME,\n      );\n    }, []);\n\n    const { selectedColumns, toggleColumns, setSelectedColumns } = useSelectedColumns(\n      experimentId,\n      allColumns,\n      defaultSelectedColumns,\n    );\n\n    const [tableSort, setTableSort] = useTableSort(selectedColumns, {\n      key: REQUEST_TIME_COLUMN_ID,\n      type: TracesTableColumnType.TRACE_INFO,\n      asc: false,\n    });\n\n    // Set the initial time filter when there are no traces\n    const { isInitialTimeFilterLoading } = useSetInitialTimeFilter({\n      experimentId,\n      isTracesEmpty: isEmpty,\n      isTraceMetadataLoading: isMetadataLoading,\n    });\n\n    // Get traces data\n    const {\n      data: traceInfos,\n      isLoading: traceInfosLoading,\n      error: traceInfosError,\n    } = useSearchMlflowTraces({\n      experimentId,\n      currentRunDisplayName: endpointName,\n      searchQuery,\n      filters,\n      timeRange,\n      filterByLoggedModelId: loggedModelId,\n      tableSort,\n    });\n\n    // Get trace function\n    // Only traceId is used for trace v3\n    const getTrace = useCallback(async (requestId?: string, traceId?: string) => {\n      const [traceInfoResponse, traceData] = await Promise.all([\n        traceId ? MlflowService.getExperimentTraceInfoV3(traceId) : undefined,\n        traceId ? MlflowService.getExperimentTraceData(traceId) : undefined,\n      ]);\n      return traceData\n        ? {\n            info: traceInfoResponse?.trace?.trace_info || {},\n            data: traceData,\n          }\n        : undefined;\n    }, []);\n\n    const deleteTracesMutation = useDeleteTracesMutation();\n\n    // TODO: We should update this to use web-shared/unified-tagging components for the\n    // tag editor and react-query mutations for the apis.\n    const { showEditTagsModalForTrace, EditTagsModal } = useEditExperimentTraceTags({\n      onSuccess: () => invalidateMlflowSearchTracesCache({ queryClient }),\n      existingTagKeys: getTracesTagKeys(traceInfos || []),\n      useV3Apis: true,\n    });\n\n    const traceActions: TraceActions = useMemo(() => {\n      return {\n        deleteTracesAction: {\n          deleteTraces: (experimentId: string, traceIds: string[]) =>\n            deleteTracesMutation.mutateAsync({ experimentId, traceRequestIds: traceIds }),\n        },\n        exportToEvals: {\n          exportToEvalsInstanceEnabled: true,\n          getTrace,\n        },\n        editTags: {\n          showEditTagsModalForTrace,\n          EditTagsModal,\n        },\n      };\n    }, [getTrace, deleteTracesMutation, showEditTagsModalForTrace, EditTagsModal]);\n\n    const countInfo = useMemo(() => {\n      return {\n        currentCount: traceInfos?.length,\n        logCountLoading: traceInfosLoading,\n        totalCount: totalCount,\n        maxAllowedCount: getEvalTabTotalTracesLimit(),\n      };\n    }, [traceInfos, totalCount, traceInfosLoading]);\n\n    const isTableLoading = traceInfosLoading || isInitialTimeFilterLoading || isMetadataLoading;\n    const tableError = traceInfosError || metadataError;\n    const isTableEmpty = isEmpty && !isTableLoading && !tableError;\n\n    // Helper function to render the main content based on current state\n    const renderMainContent = () => {\n      // If isEmpty and not enableTraceInsights, show empty state without navigation\n      if (!enableTraceInsights && isTableEmpty) {\n        return <TracesV3EmptyState experimentIds={[experimentId]} />;\n      }\n      // Default traces view with optional navigation\n      return (\n        <div\n          css={{\n            display: 'flex',\n            flex: 1,\n            overflow: 'hidden',\n          }}\n        >\n          <div\n            css={{\n              display: 'flex',\n              flex: 1,\n              overflow: 'hidden',\n            }}\n          >\n            {isTableLoading ? (\n              <div\n                css={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  width: '100%',\n                  gap: '8px',\n                  padding: '16px',\n                }}\n              >\n                {[...Array(10).keys()].map((i) => (\n                  <ParagraphSkeleton label=\"Loading...\" key={i} seed={`s-${i}`} />\n                ))}\n              </div>\n            ) : tableError ? (\n              <div\n                css={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '100%',\n                  height: '100%',\n                }}\n              >\n                <Empty\n                  image={<DangerIcon />}\n                  title={intl.formatMessage({\n                    defaultMessage: 'Fetching traces failed',\n                    description: 'Evaluation review > evaluations list > error state title',\n                  })}\n                  description={tableError.message}\n                />\n              </div>\n            ) : (\n              <GenAiTracesMarkdownConverterProvider makeHtml={makeHtmlFromMarkdown}>\n                <GenAITracesTableBodyContainer\n                  experimentId={experimentId}\n                  allColumns={allColumns}\n                  currentTraceInfoV3={traceInfos || []}\n                  currentRunDisplayName={endpointName}\n                  getTrace={getTrace}\n                  assessmentInfos={assessmentInfos}\n                  setFilters={setFilters}\n                  filters={filters}\n                  selectedColumns={selectedColumns}\n                  tableSort={tableSort}\n                />\n              </GenAiTracesMarkdownConverterProvider>\n            )}\n          </div>\n        </div>\n      );\n    };\n\n    // Early return for empty state without insights\n    if (!enableTraceInsights && isTableEmpty) {\n      return <TracesV3EmptyState experimentIds={[experimentId]} />;\n    }\n\n    // Single unified layout with toolbar and content\n    return (\n      <GenAITracesTableProvider>\n        <div\n          css={{\n            overflowY: 'hidden',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          <GenAITracesTableToolbar\n            experimentId={experimentId}\n            searchQuery={searchQuery}\n            setSearchQuery={setSearchQuery}\n            filters={filters}\n            setFilters={setFilters}\n            assessmentInfos={assessmentInfos}\n            traceInfos={traceInfos}\n            tableFilterOptions={tableFilterOptions}\n            countInfo={countInfo}\n            traceActions={traceActions}\n            tableSort={tableSort}\n            setTableSort={setTableSort}\n            allColumns={allColumns}\n            selectedColumns={selectedColumns}\n            toggleColumns={toggleColumns}\n            setSelectedColumns={setSelectedColumns}\n            isMetadataLoading={isMetadataLoading}\n            metadataError={metadataError}\n          />\n          {renderMainContent()}\n        </div>\n      </GenAITracesTableProvider>\n    );\n  },\n);\n","import { useEffect } from 'react';\nimport { useSearchParams } from '../../../../../../common/utils/RoutingUtils';\nimport { useSearchMlflowTraces } from '@databricks/web-shared/genai-traces-table';\nimport { REQUEST_TIME_COLUMN_ID, TracesTableColumnType } from '@databricks/web-shared/genai-traces-table';\nimport { useMonitoringFilters } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\nimport { START_TIME_LABEL_QUERY_PARAM_KEY } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\n\nconst DEFAULT_EMPTY_CHECK_PAGE_SIZE = 500;\n\n/**\n * Hook for setting the default time filter when there are no traces using the default time filter.\n */\nexport const useSetInitialTimeFilter = ({\n  experimentId,\n  isTracesEmpty,\n  isTraceMetadataLoading,\n}: {\n  experimentId: string;\n  isTracesEmpty: boolean;\n  isTraceMetadataLoading: boolean;\n}) => {\n  const [searchParams] = useSearchParams();\n  const [monitoringFilters, setMonitoringFilters] = useMonitoringFilters();\n\n  // Additional hook for fetching traces when there is no time range filters set in the\n  // url params and no traces.\n  const shouldFetchForEmptyCheck =\n    isTracesEmpty && !isTraceMetadataLoading && !searchParams.has(START_TIME_LABEL_QUERY_PARAM_KEY);\n\n  const { data: emptyCheckTraces, isLoading: emptyCheckLoading } = useSearchMlflowTraces({\n    experimentId,\n    tableSort: {\n      key: REQUEST_TIME_COLUMN_ID,\n      type: TracesTableColumnType.TRACE_INFO,\n      asc: false,\n    },\n    disabled: !shouldFetchForEmptyCheck,\n    limit: DEFAULT_EMPTY_CHECK_PAGE_SIZE,\n    pageSize: DEFAULT_EMPTY_CHECK_PAGE_SIZE,\n  });\n\n  // Set monitoring filters based on oldest trace from empty check\n  if (shouldFetchForEmptyCheck && emptyCheckTraces && emptyCheckTraces.length > 0 && !emptyCheckLoading) {\n    // Since traces are sorted in descending order (newest first), the oldest trace is the last one while newest is the first one\n    const oldestTrace = emptyCheckTraces[emptyCheckTraces.length - 1];\n\n    setMonitoringFilters({\n      startTimeLabel: 'CUSTOM',\n      startTime: oldestTrace.request_time,\n      endTime: new Date().toISOString(),\n    });\n  }\n\n  // Return loading state so component can show loading skeleton\n  const isInitialTimeFilterLoading = shouldFetchForEmptyCheck && emptyCheckLoading;\n\n  return {\n    isInitialTimeFilterLoading,\n  };\n};\n","import { ErrorBoundary } from 'react-error-boundary';\nimport { FormattedMessage } from '@databricks/i18n';\nimport { PageWrapper, Empty, DangerIcon } from '@databricks/design-system';\nconst PageFallback = ({ error }: { error?: Error }) => {\n  return (\n    <PageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage defaultMessage=\"Error\" description=\"Title for error fallback component in Trace V3 page\" />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in Trace V3 page\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </PageWrapper>\n  );\n};\n\nexport const TracesV3PageWrapper = ({ children }: { children: React.ReactNode }) => {\n  return <ErrorBoundary fallback={<PageFallback />}>{children}</ErrorBoundary>;\n};\n","import { useCallback } from 'react';\nimport { useSearchParams } from '../../common/utils/RoutingUtils';\n\nconst QUERY_PARAM_KEY = 'viewState';\n\nexport type MonitoringViewState = 'charts' | 'logs' | 'insights';\n\n/**\n * Query param-powered hook that returns the view state from the URL.\n */\nexport const useMonitoringViewState = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const viewState = (searchParams.get(QUERY_PARAM_KEY) ?? 'logs') as MonitoringViewState;\n\n  const setViewState = useCallback(\n    (viewState: MonitoringViewState | undefined, replace = false) => {\n      setSearchParams(\n        (params) => {\n          if (viewState === undefined) {\n            params.delete(QUERY_PARAM_KEY);\n            return params;\n          }\n          params.set(QUERY_PARAM_KEY, viewState);\n          return params;\n        },\n        { replace },\n      );\n    },\n    [setSearchParams],\n  );\n\n  return [viewState, setViewState] as const;\n};\n","import { useMemo, useState } from 'react';\n\nimport { useDesignSystemTheme } from '@databricks/design-system';\nimport { TracesV3DateSelector } from './TracesV3DateSelector';\nimport { TracesV3Logs } from './TracesV3Logs';\nimport {\n  MonitoringConfigProvider,\n  useMonitoringConfig,\n} from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringConfig';\nimport { TracesV3PageWrapper } from './TracesV3PageWrapper';\nimport { useMonitoringViewState } from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringViewState';\nimport {\n  getAbsoluteStartEndTime,\n  useMonitoringFilters,\n} from '@mlflow/mlflow/src/experiment-tracking/hooks/useMonitoringFilters';\nimport { isExperimentEvalResultsMonitoringUIEnabled } from '@mlflow/mlflow/src/common/utils/FeatureUtils';\n\nconst TracesV3Toolbar = () => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        borderBottom: `1px solid ${theme.colors.grey100}`,\n        paddingBottom: `${theme.spacing.sm}px`,\n      }}\n    >\n      <TracesV3DateSelector />\n    </div>\n  );\n};\n\ninterface TracesV3ContentProps {\n  viewState: string;\n  experimentId: string;\n  endpointName?: string;\n  timeRange: { startTime: string | undefined; endTime: string | undefined };\n}\n\nconst TracesV3Content = ({\n  // comment for copybara formatting\n  viewState,\n  experimentId,\n  endpointName,\n  timeRange,\n}: TracesV3ContentProps) => {\n  if (viewState === 'logs') {\n    return (\n      <TracesV3Logs\n        experimentId={experimentId || ''}\n        // TODO: Remove this once the endpointName is not needed\n        endpointName={endpointName || 'dummy-run'}\n        timeRange={timeRange}\n      />\n    );\n  }\n  return null;\n};\n\nconst TracesV3ViewImpl = ({ experimentIds }: { experimentIds: string[] }) => {\n  const { theme } = useDesignSystemTheme();\n  const [monitoringFilters, _setMonitoringFilters] = useMonitoringFilters();\n  const monitoringConfig = useMonitoringConfig();\n\n  // Traces view only works with one experiment\n  const experimentId = experimentIds[0];\n  const [viewState] = useMonitoringViewState();\n\n  const timeRange = useMemo(() => {\n    const { startTime, endTime } = getAbsoluteStartEndTime(monitoringConfig.dateNow, monitoringFilters);\n    return {\n      startTime: startTime ? new Date(startTime).getTime().toString() : undefined,\n      endTime: endTime ? new Date(endTime).getTime().toString() : undefined,\n    };\n  }, [monitoringConfig.dateNow, monitoringFilters]);\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'column',\n        gap: theme.spacing.sm,\n        height: '100%',\n        overflowY: 'hidden',\n      }}\n    >\n      {isExperimentEvalResultsMonitoringUIEnabled() && (\n        // comment for copybara formatting\n        <TracesV3Toolbar />\n      )}\n      <TracesV3Content\n        // comment for copybara formatting\n        viewState={viewState}\n        experimentId={experimentId}\n        timeRange={timeRange}\n      />\n    </div>\n  );\n};\n\nexport const TracesV3View = ({ experimentIds }: { experimentIds: string[] }) => (\n  <TracesV3PageWrapper>\n    <MonitoringConfigProvider>\n      <TracesV3ViewImpl experimentIds={experimentIds} />\n    </MonitoringConfigProvider>\n  </TracesV3PageWrapper>\n);\n","import { useDesignSystemTheme } from '@databricks/design-system';\nimport { TracesView } from '../../traces/TracesView';\nimport { ExperimentViewRunsModeSwitch } from './runs/ExperimentViewRunsModeSwitch';\nimport {\n  shouldEnableExperimentPageHeaderV2,\n  shouldEnableTracesV3View,\n  isExperimentEvalResultsMonitoringUIEnabled,\n} from '../../../../common/utils/FeatureUtils';\nimport { TracesV3View } from './traces-v3/TracesV3View';\n\nexport const ExperimentViewTraces = ({ experimentIds }: { experimentIds: string[] }) => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <div\n      css={{\n        minHeight: 225, // This is the exact height for displaying a minimum five rows and table header\n        display: 'flex',\n        flexDirection: 'column',\n        gap: theme.spacing.sm,\n        flex: 1,\n        overflow: 'hidden',\n      }}\n    >\n      {shouldEnableExperimentPageHeaderV2() ? null : <ExperimentViewRunsModeSwitch hideBorder={false} />}\n      <TracesComponent experimentIds={experimentIds} />\n    </div>\n  );\n};\n\nconst TracesComponent = ({ experimentIds }: { experimentIds: string[] }) => {\n  if (shouldEnableTracesV3View() || isExperimentEvalResultsMonitoringUIEnabled()) {\n    return <TracesV3View experimentIds={experimentIds} />;\n  }\n  return <TracesView experimentIds={experimentIds} />;\n};\n"],"names":["ExperimentViewRunsModeSwitch","hideBorder","experimentIds","useExperimentPageSearchFacets","viewMode","setViewModeInURL","useExperimentPageViewMode","classNamePrefix","useDesignSystemTheme","currentViewMode","getExperimentPageDefaultViewMode","activeTab","includes","singleExperimentId","length","undefined","_jsxs","LegacyTabs","dangerouslyAppendEmotionCSS","marginBottom","display","activeKey","onChange","tabKey","newValue","children","_jsx","TabPane","tab","FormattedMessage","id","defaultMessage","PreviewBadge","getNamedDateFilters","intl","key","label","formatMessage","getDefaultConfig","dateNow","Date","setDateNow","date","MonitoringConfigContext","createContext","MonitoringConfigProvider","config","defaultConfig","mergedConfig","merge","React","Provider","value","useMonitoringConfig","context","useContext","START_TIME_LABEL_QUERY_PARAM_KEY","START_TIME_QUERY_PARAM_KEY","END_TIME_QUERY_PARAM_KEY","DEFAULT_START_TIME_LABEL","useMonitoringFilters","_searchParams$get","monitoringConfig","searchParams","setSearchParams","useSearchParams","startTimeLabel","get","startTime","endTime","absoluteStartEndTime","getAbsoluteStartEndTime","_searchParams$get2","monitoringFilters","useMemo","setMonitoringFilters","useCallback","replace","params","delete","set","setUTCHours","getUTCHours","toISOString","setUTCDate","getUTCDate","setUTCFullYear","getUTCFullYear","Error","startTimeLabelToStartEndTime","TracesV3DateSelector","useIntl","theme","namedDateFilters","currentStartTimeFilterLabel","css","_css","gap","spacing","sm","alignItems","DialogCombobox","componentId","DialogComboboxTrigger","renderDisplayedValue","_namedDateFilters$fin","find","namedDateFilter","allowClear","isNil","onClear","DialogComboboxContent","DialogComboboxOptionList","map","DialogComboboxOptionListSelectItem","checked","title","_Fragment","RangePicker","includeTime","selected","from","to","e","target","startDatePickerProps","datePickerProps","disabled","after","endDatePickerProps","Tooltip","content","toLocaleString","navigator","language","timeZoneName","Button","type","onClick","RefreshIcon","TracesV3EmptyState","props","data","traces","isLoading","error","useSearchMlflowTraces","experimentId","pageSize","limit","experimentEntity","loading","isExperimentLoading","useGetExperimentQuery","experiment","experimentKind","getExperimentKindFromTags","tags","hasMoreTraces","ExperimentKind","GENAI_DEVELOPMENT","GENAI_DEVELOPMENT_INFERRED","button","Array","keys","i","ParagraphSkeleton","seed","Empty","image","DangerIcon","description","String","SearchIcon","values","filterLabel","TracesViewTableNoTracesQuickstart","baseComponentId","_ref","name","styles","_ref2","_ref3","_ref4","_ref5","TracesV3Logs","endpointName","timeRange","loggedModelId","makeHtmlFromMarkdown","useMarkdownConverter","enableTraceInsights","shouldEnableTraceInsights","assessmentInfos","allColumns","totalCount","isMetadataLoading","metadataError","isEmpty","tableFilterOptions","useMlflowTracesTableMetadata","filterByLoggedModelId","searchQuery","setSearchQuery","useState","filters","setFilters","useFilters","queryClient","useQueryClient","defaultSelectedColumns","columns","filter","col","TracesTableColumnType","ASSESSMENT","INPUT","TRACE_INFO","EXECUTION_DURATION_COLUMN_ID","RESPONSE_COLUMN_ID","REQUEST_TIME_COLUMN_ID","STATE_COLUMN_ID","TOKENS_COLUMN_ID","INTERNAL_MONITOR_REQUEST_TIME","selectedColumns","toggleColumns","setSelectedColumns","useSelectedColumns","tableSort","setTableSort","useTableSort","asc","isInitialTimeFilterLoading","useSetInitialTimeFilter","isTracesEmpty","isTraceMetadataLoading","shouldFetchForEmptyCheck","has","emptyCheckTraces","emptyCheckLoading","request_time","traceInfos","traceInfosLoading","traceInfosError","currentRunDisplayName","getTrace","async","requestId","traceId","_traceInfoResponse$tr","traceInfoResponse","traceData","Promise","all","MlflowService","getExperimentTraceInfoV3","getExperimentTraceData","info","trace","trace_info","deleteTracesMutation","useDeleteTracesMutation","showEditTagsModalForTrace","EditTagsModal","useEditExperimentTraceTags","onSuccess","invalidateMlflowSearchTracesCache","existingTagKeys","getTracesTagKeys","useV3Apis","traceActions","deleteTracesAction","deleteTraces","traceIds","mutateAsync","traceRequestIds","exportToEvals","exportToEvalsInstanceEnabled","editTags","countInfo","currentCount","logCountLoading","maxAllowedCount","getEvalTabTotalTracesLimit","isTableLoading","tableError","isTableEmpty","GenAITracesTableProvider","GenAITracesTableToolbar","message","GenAiTracesMarkdownConverterProvider","makeHtml","GenAITracesTableBodyContainer","currentTraceInfoV3","PageFallback","_error$message","PageWrapper","TracesV3PageWrapper","ErrorBoundary","fallback","QUERY_PARAM_KEY","TracesV3Toolbar","width","borderBottom","colors","grey100","paddingBottom","TracesV3Content","viewState","TracesV3ViewImpl","_setMonitoringFilters","useMonitoringViewState","setViewState","getTime","toString","flexDirection","height","overflowY","isExperimentEvalResultsMonitoringUIEnabled","TracesV3View","ExperimentViewTraces","minHeight","flex","overflow","shouldEnableExperimentPageHeaderV2","TracesComponent","shouldEnableTracesV3View","TracesView"],"ignoreList":[],"sourceRoot":""}