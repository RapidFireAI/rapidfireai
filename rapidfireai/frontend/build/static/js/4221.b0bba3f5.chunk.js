"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4221],{5153:function(e){e.exports=function(e){var t=e.editType,a=e.colorEditType;void 0===a&&(a=t);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:a},editType:t,description:""+(e.description||"")};return e.arrayOk&&(o.family.arrayOk=!0,o.size.arrayOk=!0,o.color.arrayOk=!0),o}},81255:function(e){e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},73437:function(e,t){t.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},t.axesNames=["lonaxis","lataxis"],t.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},t.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},t.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},t.clipPad=.001,t.precision=.1,t.landColor="#F0DC82",t.waterColor="#3399FF",t.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},t.sphereSVG={type:"Sphere"},t.fillLayers={ocean:1,land:1,lakes:1},t.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},t.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],t.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],t.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},56237:function(e,t,a){var o=a(62258),i=a(49682),n=i.geoPath,r=i.geoDistance,s=a(70813),l=a(62282),c=a(47401),h=c.strTranslate,p=a(31454),d=a(41707),u=a(21661),f=a(35722),v=a(37762),g=a(9319).getAutoRange,m=a(52783),y=a(88987).prepSelect,x=a(88987).clearSelect,b=a(88987).selectOnClick,w=a(77493),k=a(73437),_=a(40458),L=a(57481),T=a(46615).N4;function S(e){this.id=e.id,this.graphDiv=e.graphDiv,this.container=e.container,this.topojsonURL=e.topojsonURL,this.isStatic=e.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var C=S.prototype;function j(e,t){var a=k.clipPad,o=e[0]+a,i=e[1]-a,n=t[0]+a,r=t[1]-a;o>0&&i<0&&(i+=360);var s=(i-o)/4;return{type:"Polygon",coordinates:[[[o,n],[o,r],[o+s,r],[o+2*s,r],[o+3*s,r],[i,r],[i,n],[i-s,n],[i-2*s,n],[i-3*s,n],[o,n]]]}}e.exports=function(e){return new S(e)},C.plot=function(e,t,a){var o=this,i=t[this.id],n=[],r=!1;for(var s in k.layerNameToAdjective)if("frame"!==s&&i["show"+s]){r=!0;break}for(var l=0;l<e.length;l++)if(e[0][0].trace.locationmode){r=!0;break}if(r){var c=L.getTopojsonName(i);null!==o.topojson&&c===o.topojsonName||(o.topojsonName=c,void 0===PlotlyGeoAssets.topojson[o.topojsonName]&&n.push(o.fetchTopojson()))}n=n.concat(_.fetchTraceGeoData(e)),a.push(new Promise((function(a,i){Promise.all(n).then((function(){o.topojson=PlotlyGeoAssets.topojson[o.topojsonName],o.update(e,t),a()})).catch(i)})))},C.fetchTopojson=function(){var e=this,t=L.getTopojsonPath(e.topojsonURL,e.topojsonName);return new Promise((function(a,i){o.json(t,(function(o,n){if(o)return 404===o.status?i(new Error(["plotly.js could not find topojson file at",t,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):i(new Error(["unexpected error while fetching topojson file at",t].join(" ")));PlotlyGeoAssets.topojson[e.topojsonName]=n,a()}))}))},C.update=function(e,t){var a=t[this.id];this.hasChoropleth=!1;for(var o=0;o<e.length;o++){var i=e[o],n=i[0].trace;"choropleth"===n.type&&(this.hasChoropleth=!0),!0===n.visible&&n._length>0&&n._module.calcGeoJSON(i,t)}if(!this.updateProjection(e,t)){this.viewInitial&&this.scope===a.scope||this.saveViewInitial(a),this.scope=a.scope,this.updateBaseLayers(t,a),this.updateDims(t,a),this.updateFx(t,a),f.generalUpdatePerTraceModule(this.graphDiv,this,e,a);var r=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=r.selectAll(".point"),this.dataPoints.text=r.selectAll("text"),this.dataPaths.line=r.selectAll(".js-line");var s=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=s.selectAll("path"),this.render()}},C.updateProjection=function(e,t){var a=this.graphDiv,o=t[this.id],l=t._size,h=o.domain,p=o.projection,d=o.lonaxis,u=o.lataxis,f=d._ax,v=u._ax,m=this.projection=function(e){var t=e.projection,a=t.type,o=k.projNames[a];o="geo"+c.titleCase(o);for(var l=(i[o]||s[o])(),h=e._isSatellite?180*Math.acos(1/t.distance)/Math.PI:e._isClipped?k.lonaxisSpan[a]/2:null,p=["center","rotate","parallels","clipExtent"],d=function(e){return e?l:[]},u=0;u<p.length;u++){var f=p[u];"function"!==typeof l[f]&&(l[f]=d)}l.isLonLatOverEdges=function(e){if(null===l(e))return!0;if(h){var t=l.rotate();return r(e,[-t[0],-t[1]])>h*Math.PI/180}return!1},l.getPath=function(){return n().projection(l)},l.getBounds=function(e){return l.getPath().bounds(e)},l.precision(k.precision),e._isSatellite&&l.tilt(t.tilt).distance(t.distance);h&&l.clipAngle(h-k.clipPad);return l}(o),y=[[l.l+l.w*h.x[0],l.t+l.h*(1-h.y[1])],[l.l+l.w*h.x[1],l.t+l.h*(1-h.y[0])]],x=o.center||{},b=p.rotation||{},w=d.range||[],_=u.range||[];if(o.fitbounds){f._length=y[1][0]-y[0][0],v._length=y[1][1]-y[0][1],f.range=g(a,f),v.range=g(a,v);var L=(f.range[0]+f.range[1])/2,T=(v.range[0]+v.range[1])/2;if(o._isScoped)x={lon:L,lat:T};else if(o._isClipped){x={lon:L,lat:T},b={lon:L,lat:T,roll:b.roll};var S=p.type,C=k.lonaxisSpan[S]/2||180,z=k.lataxisSpan[S]/2||90;w=[L-C,L+C],_=[T-z,T+z]}else x={lon:L,lat:T},b={lon:L,lat:b.lat,roll:b.roll}}m.center([x.lon-b.lon,x.lat-b.lat]).rotate([-b.lon,-b.lat,b.roll]).parallels(p.parallels);var P=j(w,_);m.fitExtent(y,P);var E=this.bounds=m.getBounds(P),M=this.fitScale=m.scale(),D=m.translate();if(o.fitbounds){var R=m.getBounds(j(f.range,v.range)),A=Math.min((E[1][0]-E[0][0])/(R[1][0]-R[0][0]),(E[1][1]-E[0][1])/(R[1][1]-R[0][1]));isFinite(A)?m.scale(A*M):c.warn("Something went wrong during"+this.id+"fitbounds computations.")}else m.scale(p.scale*M);var O=this.midPt=[(E[0][0]+E[1][0])/2,(E[0][1]+E[1][1])/2];if(m.translate([D[0]+(O[0]-D[0]),D[1]+(O[1]-D[1])]).clipExtent(E),o._isAlbersUsa){var B=m([x.lon,x.lat]),F=m.translate();m.translate([F[0]-(B[0]-F[0]),F[1]-(B[1]-F[1])])}},C.updateBaseLayers=function(e,t){var a=this,i=a.topojson,n=a.layers,r=a.basePaths;function s(e){return"lonaxis"===e||"lataxis"===e}function l(e){return Boolean(k.lineLayers[e])}function c(e){return Boolean(k.fillLayers[e])}var h=(this.hasChoropleth?k.layersForChoropleth:k.layers).filter((function(e){return l(e)||c(e)?t["show"+e]:!s(e)||t[e].showgrid})),u=a.framework.selectAll(".layer").data(h,String);u.exit().each((function(e){delete n[e],delete r[e],o.select(this).remove()})),u.enter().append("g").attr("class",(function(e){return"layer "+e})).each((function(e){var t=n[e]=o.select(this);"bg"===e?a.bgRect=t.append("rect").style("pointer-events","all"):s(e)?r[e]=t.append("path").style("fill","none"):"backplot"===e?t.append("g").classed("choroplethlayer",!0):"frontplot"===e?t.append("g").classed("scatterlayer",!0):l(e)?r[e]=t.append("path").style("fill","none").style("stroke-miterlimit",2):c(e)&&(r[e]=t.append("path").style("stroke","none"))})),u.order(),u.each((function(a){var o=r[a],n=k.layerNameToAdjective[a];"frame"===a?o.datum(k.sphereSVG):l(a)||c(a)?o.datum(T(i,i.objects[a])):s(a)&&o.datum(function(e,t,a){var o,i,n,r=1e-6,s=2.5,l=t[e],c=k.scopeDefaults[t.scope];"lonaxis"===e?(o=c.lonaxisRange,i=c.lataxisRange,n=function(e,t){return[e,t]}):"lataxis"===e&&(o=c.lataxisRange,i=c.lonaxisRange,n=function(e,t){return[t,e]});var h={type:"linear",range:[o[0],o[1]-r],tick0:l.tick0,dtick:l.dtick};v.setConvert(h,a);var p=v.calcTicks(h);t.isScoped||"lonaxis"!==e||p.pop();for(var d=p.length,u=new Array(d),f=0;f<d;f++)for(var g=p[f].x,m=u[f]=[],y=i[0];y<i[1]+s;y+=s)m.push(n(g,y));return{type:"MultiLineString",coordinates:u}}(a,t,e)).call(p.stroke,t[a].gridcolor).call(d.dashLine,"",t[a].gridwidth),l(a)?o.call(p.stroke,t[n+"color"]).call(d.dashLine,"",t[n+"width"]):c(a)&&o.call(p.fill,t[n+"color"])}))},C.updateDims=function(e,t){var a=this.bounds,o=(t.framewidth||0)/2,i=a[0][0]-o,n=a[0][1]-o,r=a[1][0]-i+o,s=a[1][1]-n+o;d.setRect(this.clipRect,i,n,r,s),this.bgRect.call(d.setRect,i,n,r,s).call(p.fill,t.bgcolor),this.xaxis._offset=i,this.xaxis._length=r,this.yaxis._offset=n,this.yaxis._length=s},C.updateFx=function(e,t){var a=this,i=a.graphDiv,n=a.bgRect,r=e.dragmode,s=e.clickmode;if(!a.isStatic){var h;"select"===r?h=function(e,t){(e.range={})[a.id]=[d([t.xmin,t.ymin]),d([t.xmax,t.ymax])]}:"lasso"===r&&(h=function(e,t,o){(e.lassoPoints={})[a.id]=o.filtered.map(d)});var p={element:a.bgRect.node(),gd:i,plotinfo:{id:a.id,xaxis:a.xaxis,yaxis:a.yaxis,fillRangeItems:h},xaxes:[a.xaxis],yaxes:[a.yaxis],subplot:a.id,clickFn:function(e){2===e&&x(i)}};"pan"===r?(n.node().onmousedown=null,n.call(w(a,t)),n.on("dblclick.zoom",(function(){var e=a.viewInitial,t={};for(var o in e)t[a.id+"."+o]=e[o];l.call("_guiRelayout",i,t),i.emit("plotly_doubleclick",null)})),i._context._scrollZoom.geo||n.on("wheel.zoom",null)):"select"!==r&&"lasso"!==r||(n.on(".zoom",null),p.prepFn=function(e,t,a){y(e,t,a,p,r)},m.init(p)),n.on("mousemove",(function(){var e=a.projection.invert(c.getPositionFromD3Event());if(!e)return m.unhover(i,o.event);a.xaxis.p2c=function(){return e[0]},a.yaxis.p2c=function(){return e[1]},u.hover(i,o.event,a.id)})),n.on("mouseout",(function(){i._dragging||m.unhover(i,o.event)})),n.on("click",(function(){"select"!==r&&"lasso"!==r&&(s.indexOf("select")>-1&&b(o.event,i,[a.xaxis],[a.yaxis],a.id,p),s.indexOf("event")>-1&&u.click(i,o.event))}))}function d(e){return a.projection.invert([e[0]+a.xaxis._offset,e[1]+a.yaxis._offset])}},C.makeFramework=function(){var e=this,t=e.graphDiv,a=t._fullLayout,i="clip"+a._uid+e.id;e.clipDef=a._clips.append("clipPath").attr("id",i),e.clipRect=e.clipDef.append("rect"),e.framework=o.select(e.container).append("g").attr("class","geo "+e.id).call(d.setClipUrl,i,t),e.project=function(t){var a=e.projection(t);return a?[a[0]-e.xaxis._offset,a[1]-e.yaxis._offset]:[null,null]},e.xaxis={_id:"x",c2p:function(t){return e.project(t)[0]}},e.yaxis={_id:"y",c2p:function(t){return e.project(t)[1]}},e.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},v.setConvert(e.mockAxis,a)},C.saveViewInitial=function(e){var t,a=e.center||{},o=e.projection,i=o.rotation||{};this.viewInitial={fitbounds:e.fitbounds,"projection.scale":o.scale},t=e._isScoped?{"center.lon":a.lon,"center.lat":a.lat}:e._isClipped?{"projection.rotation.lon":i.lon,"projection.rotation.lat":i.lat}:{"center.lon":a.lon,"center.lat":a.lat,"projection.rotation.lon":i.lon},c.extendFlat(this.viewInitial,t)},C.render=function(){var e,t=this.projection,a=t.getPath();function o(e){var a=t(e.lonlat);return a?h(a[0],a[1]):null}function i(e){return t.isLonLatOverEdges(e.lonlat)?"none":null}for(e in this.basePaths)this.basePaths[e].attr("d",a);for(e in this.dataPaths)this.dataPaths[e].attr("d",(function(e){return a(e.geojson)}));for(e in this.dataPoints)this.dataPoints[e].attr("display",i).attr("transform",o)}},34024:function(e,t,a){var o=a(13373).fX,i=a(47401).counterRegex,n=a(56237),r="geo",s=i(r),l={};l[r]={valType:"subplotid",dflt:r,editType:"calc",description:["Sets a reference between this trace's geospatial coordinates and","a geographic map.","If *geo* (the default value), the geospatial coordinates refer to","`layout.geo`.","If *geo2*, the geospatial coordinates refer to `layout.geo2`,","and so on."].join(" ")},e.exports={attr:r,name:r,idRoot:r,idRegex:s,attrRegex:s,attributes:l,layoutAttributes:a(35490),supplyLayoutDefaults:a(40405),plot:function(e){for(var t=e._fullLayout,a=e.calcdata,i=t._subplots[r],s=0;s<i.length;s++){var l=i[s],c=o(a,r,l),h=t[l]._subplot;h||(h=n({id:l,graphDiv:e,container:t._geolayer.node(),topojsonURL:e._context.topojsonURL,staticPlot:e._context.staticPlot}),t[l]._subplot=h),h.plot(c,t,e._promises)}},updateFx:function(e){for(var t=e._fullLayout,a=t._subplots[r],o=0;o<a.length;o++){var i=t[a[o]];i._subplot.updateFx(t,i)}},clean:function(e,t,a,o){for(var i=o._subplots[r]||[],n=0;n<i.length;n++){var s=i[n],l=o[s]._subplot;!t[s]&&l&&(l.framework.remove(),l.clipDef.remove())}}}},35490:function(e,t,a){var o=a(62405),i=a(16688).u,n=a(73437),r=a(17342).overrideAll,s=a(73314),l={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}],description:["Sets the range of this axis (in degrees),","sets the map's clipped coordinates."].join(" ")},showgrid:{valType:"boolean",dflt:!1,description:"Sets whether or not graticule are shown on the map."},tick0:{valType:"number",dflt:0,description:["Sets the graticule's starting tick longitude/latitude."].join(" ")},dtick:{valType:"number",description:["Sets the graticule's longitude/latitude tick step."].join(" ")},gridcolor:{valType:"color",dflt:o.lightLine,description:["Sets the graticule's stroke color."].join(" ")},gridwidth:{valType:"number",min:0,dflt:1,description:["Sets the graticule's stroke width (in px)."].join(" ")}};(e.exports=r({domain:i({name:"geo"},{description:["Note that geo subplots are constrained by domain.","In general, when `projection.scale` is set to 1.","a map will fit either its x or y domain, but not both."].join(" ")}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot",description:["Determines if this subplot's view settings are auto-computed to fit trace data.","On scoped maps, setting `fitbounds` leads to `center.lon` and `center.lat` getting auto-filled.","On maps with a non-clipped projection, setting `fitbounds` leads to `center.lon`, `center.lat`,","and `projection.rotation.lon` getting auto-filled.","On maps with a clipped projection, setting `fitbounds` leads to `center.lon`, `center.lat`,","`projection.rotation.lon`, `projection.rotation.lat`, `lonaxis.range` and `lonaxis.range`","getting auto-filled.","If *locations*, only the trace's visible locations are considered in the `fitbounds` computations.","If *geojson*, the entire trace input `geojson` (if provided) is considered in the `fitbounds` computations,","Defaults to *false*."].join(" ")},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0,description:["Sets the resolution of the base layers.","The values have units of km/mm","e.g. 110 corresponds to a scale ratio of 1:110,000,000."].join(" ")},scope:{valType:"enumerated",values:s(n.scopeDefaults),dflt:"world",description:"Set the scope of the map."},projection:{type:{valType:"enumerated",values:s(n.projNames),description:"Sets the projection type."},rotation:{lon:{valType:"number",description:["Rotates the map along parallels","(in degrees East).","Defaults to the center of the `lonaxis.range` values."].join(" ")},lat:{valType:"number",description:["Rotates the map along meridians","(in degrees North)."].join(" ")},roll:{valType:"number",description:["Roll the map (in degrees)","For example, a roll of *180* makes the map appear upside down."].join(" ")}},tilt:{valType:"number",dflt:0,description:["For satellite projection type only.","Sets the tilt angle of perspective projection."].join(" ")},distance:{valType:"number",min:1.001,dflt:2,description:["For satellite projection type only.","Sets the distance from the center of the sphere to the point of view","as a proportion of the sphere\u2019s radius."].join(" ")},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}],description:["For conic projection types only.","Sets the parallels (tangent, secant)","where the cone intersects the sphere."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Zooms in or out on the map view.","A scale of *1* corresponds to the largest zoom level","that fits the map's lon and lat ranges. "].join(" ")}},center:{lon:{valType:"number",description:["Sets the longitude of the map's center.","By default, the map's longitude center lies at the middle of the longitude range","for scoped projection and above `projection.rotation.lon` otherwise."].join(" ")},lat:{valType:"number",description:["Sets the latitude of the map's center.","For all projection types, the map's latitude center lies","at the middle of the latitude range by default."].join(" ")}},visible:{valType:"boolean",dflt:!0,description:"Sets the default visibility of the base layers."},showcoastlines:{valType:"boolean",description:"Sets whether or not the coastlines are drawn."},coastlinecolor:{valType:"color",dflt:o.defaultLine,description:"Sets the coastline color."},coastlinewidth:{valType:"number",min:0,dflt:1,description:"Sets the coastline stroke width (in px)."},showland:{valType:"boolean",dflt:!1,description:"Sets whether or not land masses are filled in color."},landcolor:{valType:"color",dflt:n.landColor,description:"Sets the land mass color."},showocean:{valType:"boolean",dflt:!1,description:"Sets whether or not oceans are filled in color."},oceancolor:{valType:"color",dflt:n.waterColor,description:"Sets the ocean color"},showlakes:{valType:"boolean",dflt:!1,description:"Sets whether or not lakes are drawn."},lakecolor:{valType:"color",dflt:n.waterColor,description:"Sets the color of the lakes."},showrivers:{valType:"boolean",dflt:!1,description:"Sets whether or not rivers are drawn."},rivercolor:{valType:"color",dflt:n.waterColor,description:"Sets color of the rivers."},riverwidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the rivers."},showcountries:{valType:"boolean",description:"Sets whether or not country boundaries are drawn."},countrycolor:{valType:"color",dflt:o.defaultLine,description:"Sets line color of the country boundaries."},countrywidth:{valType:"number",min:0,dflt:1,description:"Sets line width (in px) of the country boundaries."},showsubunits:{valType:"boolean",description:["Sets whether or not boundaries of subunits within countries","(e.g. states, provinces) are drawn."].join(" ")},subunitcolor:{valType:"color",dflt:o.defaultLine,description:"Sets the color of the subunits boundaries."},subunitwidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the subunits boundaries."},showframe:{valType:"boolean",description:"Sets whether or not a frame is drawn around the map."},framecolor:{valType:"color",dflt:o.defaultLine,description:"Sets the color the frame."},framewidth:{valType:"number",min:0,dflt:1,description:"Sets the stroke width (in px) of the frame."},bgcolor:{valType:"color",dflt:o.background,description:"Set the background color of the map"},lonaxis:l,lataxis:l},"plot","from-root")).uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in the view","(projection and center). Defaults to `layout.uirevision`."].join(" ")}},40405:function(e,t,a){var o=a(47401),i=a(20112),n=a(13373).KO,r=a(73437),s=a(35490),l=r.axesNames;function c(e,t,a,i){var s=n(i.fullData,"geo",i.id).map((function(e){return e._expandedIndex})),c=a("resolution"),h=a("scope"),p=r.scopeDefaults[h],d=a("projection.type",p.projType),u=t._isAlbersUsa="albers usa"===d;u&&(h=t.scope="usa");var f=t._isScoped="world"!==h,v=t._isSatellite="satellite"===d,g=t._isConic=-1!==d.indexOf("conic")||"albers"===d,m=t._isClipped=!!r.lonaxisSpan[d];if(!1===e.visible){var y=o.extendDeep({},t._template);y.showcoastlines=!1,y.showcountries=!1,y.showframe=!1,y.showlakes=!1,y.showland=!1,y.showocean=!1,y.showrivers=!1,y.showsubunits=!1,y.lonaxis&&(y.lonaxis.showgrid=!1),y.lataxis&&(y.lataxis.showgrid=!1),t._template=y}for(var x=a("visible"),b=0;b<l.length;b++){var w,k=l[b],_=[30,10][b];if(f)w=p[k+"Range"];else{var L=r[k+"Span"],T=(L[d]||L["*"])/2,S=a("projection.rotation."+k.substr(0,3),p.projRotate[b]);w=[S-T,S+T]}var C=a(k+".range",w);a(k+".tick0"),a(k+".dtick",_),a(k+".showgrid",!!x&&void 0)&&(a(k+".gridcolor"),a(k+".gridwidth")),t[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:s,setScale:o.identity,c2l:o.identity,r2l:o.identity,autorange:!0,range:C.slice(),_m:1,_input:{}}}var j=t.lonaxis.range,z=t.lataxis.range,P=j[0],E=j[1];P>0&&E<0&&(E+=360);var M,D,R,A=(P+E)/2;if(!u){var O=f?p.projRotate:[A,0,0];M=a("projection.rotation.lon",O[0]),a("projection.rotation.lat",O[1]),a("projection.rotation.roll",O[2]),a("showcoastlines",!f&&x)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!x&&void 0)&&a("oceancolor")}(u?(D=-96.6,R=38.7):(D=f?A:M,R=(z[0]+z[1])/2),a("center.lon",D),a("center.lat",R),v&&(a("projection.tilt"),a("projection.distance")),g)&&a("projection.parallels",p.projParallels||[0,60]);a("projection.scale"),a("showland",!!x&&void 0)&&a("landcolor"),a("showlakes",!!x&&void 0)&&a("lakecolor"),a("showrivers",!!x&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",f&&"usa"!==h&&x)&&(a("countrycolor"),a("countrywidth")),("usa"===h||"north america"===h&&50===c)&&(a("showsubunits",x),a("subunitcolor"),a("subunitwidth")),f||a("showframe",x)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete t.projection.scale,f?(delete t.center.lon,delete t.center.lat):m?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}e.exports=function(e,t,a){i(e,t,a,{type:"geo",attributes:s,handleDefaults:c,fullData:a,partition:"y"})}},77493:function(e,t,a){var o=a(62258),i=a(47401),n=a(62282),r=Math.PI/180,s=180/Math.PI,l={cursor:"pointer"},c={cursor:"auto"};function h(e,t){return o.behavior.zoom().translate(t.translate()).scale(t.scale())}function p(e,t,a){var o=e.id,r=e.graphDiv,s=r.layout,l=s[o],c=r._fullLayout,h=c[o],p={},d={};function u(e,t){p[o+"."+e]=i.nestedProperty(l,e).get(),n.call("_storeDirectGUIEdit",s,c._preGUI,p);var a=i.nestedProperty(h,e);a.get()!==t&&(a.set(t),i.nestedProperty(l,e).set(t),d[o+"."+e]=t)}a(u),u("projection.scale",t.scale()/e.fitScale),u("fitbounds",!1),r.emit("plotly_relayout",d)}function d(e,t){var a=h(0,t);function i(a){var o=t.invert(e.midPt);a("center.lon",o[0]),a("center.lat",o[1])}return a.on("zoomstart",(function(){o.select(this).style(l)})).on("zoom",(function(){t.scale(o.event.scale).translate(o.event.translate),e.render();var a=t.invert(e.midPt);e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":a[0],"geo.center.lat":a[1]})})).on("zoomend",(function(){o.select(this).style(c),p(e,t,i)})),a}function u(e,t){var a,i,n,r,s,d,u,f,v,g=h(0,t),m=2;function y(e){return t.invert(e)}function x(a){var o=t.rotate(),i=t.invert(e.midPt);a("projection.rotation.lon",-o[0]),a("center.lon",i[0]),a("center.lat",i[1])}return g.on("zoomstart",(function(){o.select(this).style(l),a=o.mouse(this),i=t.rotate(),n=t.translate(),r=i,s=y(a)})).on("zoom",(function(){if(d=o.mouse(this),function(e){var a=y(e);if(!a)return!0;var o=t(a);return Math.abs(o[0]-e[0])>m||Math.abs(o[1]-e[1])>m}(a))return g.scale(t.scale()),void g.translate(t.translate());t.scale(o.event.scale),t.translate([n[0],o.event.translate[1]]),s?y(d)&&(f=y(d),u=[r[0]+(f[0]-s[0]),i[1],i[2]],t.rotate(u),r=u):s=y(a=d),v=!0,e.render();var l=t.rotate(),c=t.invert(e.midPt);e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":c[0],"geo.center.lat":c[1],"geo.projection.rotation.lon":-l[0]})})).on("zoomend",(function(){o.select(this).style(c),v&&p(e,t,x)})),g}function f(e,t){var a,i={r:t.rotate(),k:t.scale()},n=h(0,t),d=function(e){var t=0,a=arguments.length,i=[];for(;++t<a;)i.push(arguments[t]);var n=o.dispatch.apply(null,i);return n.of=function(t,a){return function(i){var r;try{r=i.sourceEvent=o.event,i.target=e,o.event=i,n[i.type].apply(t,a)}finally{o.event=r}}},n}(n,"zoomstart","zoom","zoomend"),u=0,f=n.on;function m(e){var a=t.rotate();e("projection.rotation.lon",-a[0]),e("projection.rotation.lat",-a[1])}return n.on("zoomstart",(function(){o.select(this).style(l);var e,c=o.mouse(this),h=t.rotate(),p=h,m=t.translate(),b=function(e){var t=.5*e[0]*r,a=.5*e[1]*r,o=.5*e[2]*r,i=Math.sin(t),n=Math.cos(t),s=Math.sin(a),l=Math.cos(a),c=Math.sin(o),h=Math.cos(o);return[n*l*h+i*s*c,i*l*h-n*s*c,n*s*h+i*l*c,n*l*c-i*s*h]}(h);a=v(t,c),f.call(n,"zoom",(function(){var e=o.mouse(this);if(t.scale(i.k=o.event.scale),a){if(v(t,e)){t.rotate(h).translate(m);var n=v(t,e),r=function(e,t){if(!e||!t)return;var a=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(e,t),o=Math.sqrt(x(a,a)),i=.5*Math.acos(Math.max(-1,Math.min(1,x(e,t)))),n=Math.sin(i)/o;return o&&[Math.cos(i),a[2]*n,-a[1]*n,a[0]*n]}(a,n),l=function(e){return[Math.atan2(2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[1]*e[1]+e[2]*e[2]))*s,Math.asin(Math.max(-1,Math.min(1,2*(e[0]*e[2]-e[3]*e[1]))))*s,Math.atan2(2*(e[0]*e[3]+e[1]*e[2]),1-2*(e[2]*e[2]+e[3]*e[3]))*s]}(function(e,t){var a=e[0],o=e[1],i=e[2],n=e[3],r=t[0],s=t[1],l=t[2],c=t[3];return[a*r-o*s-i*l-n*c,a*s+o*r+i*c-n*l,a*l-o*c+i*r+n*s,a*c+o*l-i*s+n*r]}(b,r)),u=i.r=function(e,t,a){var o=y(t,2,e[0]);o=y(o,1,e[1]),o=y(o,0,e[2]-a[2]);var i,n,r=t[0],l=t[1],c=t[2],h=o[0],p=o[1],d=o[2],u=Math.atan2(l,r)*s,f=Math.sqrt(r*r+l*l);Math.abs(p)>f?(n=(p>0?90:-90)-u,i=0):(n=Math.asin(p/f)*s-u,i=Math.sqrt(f*f-p*p));var v=180-n-2*u,m=(Math.atan2(d,h)-Math.atan2(c,i))*s,x=(Math.atan2(d,h)-Math.atan2(c,-i))*s,b=g(a[0],a[1],n,m),w=g(a[0],a[1],v,x);return b<=w?[n,m,a[2]]:[v,x,a[2]]}(l,a,p);isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])||(u=p),t.rotate(u),p=u}}else a=v(t,c=e);d.of(this,arguments)({type:"zoom"})})),e=d.of(this,arguments),u++||e({type:"zoomstart"})})).on("zoomend",(function(){var a;o.select(this).style(c),f.call(n,"zoom",null),a=d.of(this,arguments),--u||a({type:"zoomend"}),p(e,t,m)})).on("zoom.redraw",(function(){e.render();var a=t.rotate();e.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":t.scale()/e.fitScale,"geo.projection.rotation.lon":-a[0],"geo.projection.rotation.lat":-a[1]})})),o.rebind(n,d,"on")}function v(e,t){var a=e.invert(t);return a&&isFinite(a[0])&&isFinite(a[1])&&function(e){var t=e[0]*r,a=e[1]*r,o=Math.cos(a);return[o*Math.cos(t),o*Math.sin(t),Math.sin(a)]}(a)}function g(e,t,a,o){var i=m(a-e),n=m(o-t);return Math.sqrt(i*i+n*n)}function m(e){return(e%360+540)%360-180}function y(e,t,a){var o=a*r,i=e.slice(),n=0===t?1:0,s=2===t?1:2,l=Math.cos(o),c=Math.sin(o);return i[n]=e[n]*l-e[s]*c,i[s]=e[s]*l+e[n]*c,i}function x(e,t){for(var a=0,o=0,i=e.length;o<i;++o)a+=e[o]*t[o];return a}e.exports=function(e,t){var a=e.projection;return(t._isScoped?d:t._isClipped?f:u)(e,a)}},13373:function(e,t,a){var o=a(62282),i=a(56890).SUBPLOT_PATTERN;t.fX=function(e,t,a){var i=o.subplotsRegistry[t];if(!i)return[];for(var n=i.attr,r=[],s=0;s<e.length;s++){var l=e[s];l[0].trace[n]===a&&r.push(l)}return r},t.eV=function(e,t){var a,i=[],n=[];if(!(a="string"===typeof t?o.getModule(t).plot:"function"===typeof t?t:t.plot))return[i,e];for(var r=0;r<e.length;r++){var s=e[r],l=s[0].trace;!0===l.visible&&0!==l._length&&(l._module.plot===a?i.push(s):n.push(s))}return[i,n]},t.KO=function(e,t,a){if(!o.subplotsRegistry[t])return[];var n,r,s,l=o.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var h=a.match(i);r="x"+h[1],s="y"+h[2]}for(var p=0;p<e.length;p++)n=e[p],"gl2d"===t&&o.traceIs(n,"gl2d")?n[l[0]]===r&&n[l[1]]===s&&c.push(n):n[l]===a&&c.push(n);return c}},23599:function(e,t,a){var o=a(46744),i=a(67711),n=a(17481),r=a(56890),s=a(473);function l(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}e.exports=function(e){var t=e.mouseContainer,a=e.glplot,c=new l(t,a);function h(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function p(t,o,i){var n,s,l=e.calcDataBox(),p=a.viewBox,d=c.lastPos[0],u=c.lastPos[1],f=r.MINDRAG*a.pixelRatio,v=r.MINZOOM*a.pixelRatio;function g(t,a,o){var i=Math.min(a,o),n=Math.max(a,o);i!==n?(l[t]=i,l[t+2]=n,c.dataBox=l,e.setRanges(l)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(o*=a.pixelRatio,i*=a.pixelRatio,i=p[3]-p[1]-i,e.fullLayout.dragmode){case"zoom":if(t){var m=o/(p[2]-p[0])*(l[2]-l[0])+l[0],y=i/(p[3]-p[1])*(l[3]-l[1])+l[1];c.boxInited||(c.boxStart[0]=m,c.boxStart[1]=y,c.dragStart[0]=o,c.dragStart[1]=i),c.boxEnd[0]=m,c.boxEnd[1]=y,c.boxInited=!0,c.boxEnabled||c.boxStart[0]===c.boxEnd[0]&&c.boxStart[1]===c.boxEnd[1]||(c.boxEnabled=!0);var x=Math.abs(c.dragStart[0]-o)<v,b=Math.abs(c.dragStart[1]-i)<v;if(!function(){for(var t=e.graphDiv._fullLayout._axisConstraintGroups,a=e.xaxis._id,o=e.yaxis._id,i=0;i<t.length;i++)if(-1!==t[i][a]){if(-1!==t[i][o])return!0;break}return!1}()||x&&b)x&&(c.boxEnd[0]=c.boxStart[0]),b&&(c.boxEnd[1]=c.boxStart[1]);else{n=c.boxEnd[0]-c.boxStart[0],s=c.boxEnd[1]-c.boxStart[1];var w=(l[3]-l[1])/(l[2]-l[0]);Math.abs(n*w)>Math.abs(s)?(c.boxEnd[1]=c.boxStart[1]+Math.abs(n)*w*(s>=0?1:-1),c.boxEnd[1]<l[1]?(c.boxEnd[1]=l[1],c.boxEnd[0]=c.boxStart[0]+(l[1]-c.boxStart[1])/Math.abs(w)):c.boxEnd[1]>l[3]&&(c.boxEnd[1]=l[3],c.boxEnd[0]=c.boxStart[0]+(l[3]-c.boxStart[1])/Math.abs(w))):(c.boxEnd[0]=c.boxStart[0]+Math.abs(s)/w*(n>=0?1:-1),c.boxEnd[0]<l[0]?(c.boxEnd[0]=l[0],c.boxEnd[1]=c.boxStart[1]+(l[0]-c.boxStart[0])*Math.abs(w)):c.boxEnd[0]>l[2]&&(c.boxEnd[0]=l[2],c.boxEnd[1]=c.boxStart[1]+(l[2]-c.boxStart[0])*Math.abs(w)))}}else c.boxEnabled?(n=c.boxStart[0]!==c.boxEnd[0],s=c.boxStart[1]!==c.boxEnd[1],n||s?(n&&(g(0,c.boxStart[0],c.boxEnd[0]),e.xaxis.autorange=!1),s&&(g(1,c.boxStart[1],c.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),c.boxEnabled=!1,c.boxInited=!1):c.boxInited&&(c.boxInited=!1);break;case"pan":c.boxEnabled=!1,c.boxInited=!1,t?(c.panning||(c.dragStart[0]=o,c.dragStart[1]=i),Math.abs(c.dragStart[0]-o)<f&&(o=c.dragStart[0]),Math.abs(c.dragStart[1]-i)<f&&(i=c.dragStart[1]),n=(d-o)*(l[2]-l[0])/(a.viewBox[2]-a.viewBox[0]),s=(u-i)*(l[3]-l[1])/(a.viewBox[3]-a.viewBox[1]),l[0]+=n,l[2]+=n,l[1]+=s,l[3]+=s,e.setRanges(l),c.panning=!0,c.lastInputTime=Date.now(),h(),e.cameraChanged(),e.handleAnnotations()):c.panning&&(c.panning=!1,e.relayoutCallback())}c.lastPos[0]=o,c.lastPos[1]=i}return c.mouseListener=o(t,p),t.addEventListener("touchstart",(function(e){var a=n(e.changedTouches[0],t);p(0,a[0],a[1]),p(1,a[0],a[1]),e.preventDefault()}),!!s&&{passive:!1}),t.addEventListener("touchmove",(function(e){e.preventDefault();var a=n(e.changedTouches[0],t);p(1,a[0],a[1]),e.preventDefault()}),!!s&&{passive:!1}),t.addEventListener("touchend",(function(e){p(0,c.lastPos[0],c.lastPos[1]),e.preventDefault()}),!!s&&{passive:!1}),c.wheelListener=i(t,(function(t,o){if(!e.scrollZoom)return!1;var i=e.calcDataBox(),n=a.viewBox,r=c.lastPos[0],s=c.lastPos[1],l=Math.exp(5*o/(n[3]-n[1])),p=r/(n[2]-n[0])*(i[2]-i[0])+i[0],d=s/(n[3]-n[1])*(i[3]-i[1])+i[1];return i[0]=(i[0]-p)*l+p,i[2]=(i[2]-p)*l+p,i[1]=(i[1]-d)*l+d,i[3]=(i[3]-d)*l+d,e.setRanges(i),c.lastInputTime=Date.now(),h(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0}),!0),c}},15693:function(e,t,a){var o=a(37762),i=a(42770);function n(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var r=n.prototype,s=["xaxis","yaxis"];r.merge=function(e){var t,a,o,n,r,l,c,h,p,d,u;for(this.titleEnable=!1,this.backgroundColor=i(e.plot_bgcolor),d=0;d<2;++d){var f=(t=s[d]).charAt(0);for(o=(a=e[this.scene[t]._name]).title.text===this.scene.fullLayout._dfltTitle[f]?"":a.title.text,u=0;u<=2;u+=2)this.labelEnable[d+u]=!1,this.labels[d+u]=o,this.labelColor[d+u]=i(a.title.font.color),this.labelFont[d+u]=a.title.font.family,this.labelSize[d+u]=a.title.font.size,this.labelPad[d+u]=this.getLabelPad(t,a),this.tickEnable[d+u]=!1,this.tickColor[d+u]=i((a.tickfont||{}).color),this.tickAngle[d+u]="auto"===a.tickangle?0:Math.PI*-a.tickangle/180,this.tickPad[d+u]=this.getTickPad(a),this.tickMarkLength[d+u]=0,this.tickMarkWidth[d+u]=a.tickwidth||0,this.tickMarkColor[d+u]=i(a.tickcolor),this.borderLineEnable[d+u]=!1,this.borderLineColor[d+u]=i(a.linecolor),this.borderLineWidth[d+u]=a.linewidth||0;c=this.hasSharedAxis(a),r=this.hasAxisInDfltPos(t,a)&&!c,l=this.hasAxisInAltrPos(t,a)&&!c,n=a.mirror||!1,h=c?-1!==String(n).indexOf("all"):!!n,p=c?"allticks"===n:-1!==String(n).indexOf("ticks"),r?this.labelEnable[d]=!0:l&&(this.labelEnable[d+2]=!0),r?this.tickEnable[d]=a.showticklabels:l&&(this.tickEnable[d+2]=a.showticklabels),(r||h)&&(this.borderLineEnable[d]=a.showline),(l||h)&&(this.borderLineEnable[d+2]=a.showline),(r||p)&&(this.tickMarkLength[d]=this.getTickMarkLength(a)),(l||p)&&(this.tickMarkLength[d+2]=this.getTickMarkLength(a)),this.gridLineEnable[d]=a.showgrid,this.gridLineColor[d]=i(a.gridcolor),this.gridLineWidth[d]=a.gridwidth,this.zeroLineEnable[d]=a.zeroline,this.zeroLineColor[d]=i(a.zerolinecolor),this.zeroLineWidth[d]=a.zerolinewidth}},r.hasSharedAxis=function(e){var t=this.scene,a=t.fullLayout._subplots.gl2d;return 0!==o.findSubplotsWithAxis(a,e).indexOf(t.id)},r.hasAxisInDfltPos=function(e,t){var a=t.side;return"xaxis"===e?"bottom"===a:"yaxis"===e?"left"===a:void 0},r.hasAxisInAltrPos=function(e,t){var a=t.side;return"xaxis"===e?"top"===a:"yaxis"===e?"right"===a:void 0},r.getLabelPad=function(e,t){var a=1.5,o=t.title.font.size,i=t.showticklabels;return"xaxis"===e?"top"===t.side?o*(a+(i?1:0))-10:o*(a+(i?.5:0))-10:"yaxis"===e?"right"===t.side?10+o*(a+(i?1:.5)):10+o*(a+(i?.5:0)):void 0},r.getTickPad=function(e){return"outside"===e.ticks?10+e.ticklen:15},r.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return"inside"===e.ticks?-t:t},e.exports=function(e){return new n(e)}},92198:function(e,t,a){var o=a(17342).overrideAll,i=a(19016),n=a(19744),r=a(6412),s=a(56890),l=a(66807),c=a(51499),h=a(13373).KO;t.name="gl2d",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=s.idRegex,t.attrRegex=s.attrRegex,t.attributes=a(80070),t.supplyLayoutDefaults=function(e,t,a){t._has("cartesian")||l.supplyLayoutDefaults(e,t,a)},t.layoutAttrOverrides=o(l.layoutAttributes,"plot","from-root"),t.baseLayoutAttrOverrides=o({plot_bgcolor:n.plot_bgcolor,hoverlabel:c.hoverlabel},"plot","nested"),t.plot=function(e){for(var t=e._fullLayout,a=e._fullData,o=t._subplots.gl2d,n=0;n<o.length;n++){var r=o[n],s=t._plots[r],l=h(a,"gl2d",r),c=s._scene2d;void 0===c&&(c=new i({id:r,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),s._scene2d=c),c.plot(l,e.calcdata,t,e.layout)}},t.clean=function(e,t,a,o){for(var i=o._subplots.gl2d||[],n=0;n<i.length;n++){var r=i[n],s=o._plots[r];if(s._scene2d)0===h(e,"gl2d",r).length&&(s._scene2d.destroy(),delete o._plots[r])}l.clean.apply(this,arguments)},t.drawFramework=function(e){e._context.staticPlot||l.drawFramework(e)},t.toSVG=function(e){for(var t=e._fullLayout,a=t._subplots.gl2d,o=0;o<a.length;o++){var i=t._plots[a[o]]._scene2d,n=i.toImage("png");t._glimages.append("svg:image").attr({xmlns:r.svg,"xlink:href":n,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),i.destroy()}},t.updateFx=function(e){for(var t=e._fullLayout,a=t._subplots.gl2d,o=0;o<a.length;o++){t._plots[a[o]]._scene2d.updateFx(t.dragmode)}}},19016:function(e,t,a){var o,i,n=a(62282),r=a(37762),s=a(21661),l=a(16519),c=a(24855),h=a(978),p=a(5950),d=a(15693),u=a(23599),f=a(54600),v=a(30807),g=v.enforce,m=v.clean,y=a(9319).doAutoRange,x=a(42910),b=x.drawMode,w=x.selectMode,k=["xaxis","yaxis"],_=a(56890).SUBPLOT_PATTERN;function L(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(t),this.makeFramework(),this.stopped||(this.glplotOptions=d(this),this.glplotOptions.merge(t),this.glplot=l(this.glplotOptions),this.camera=u(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}e.exports=L;var T=L.prototype;T.makeFramework=function(){if(this.staticPlot){if(!i&&(o=document.createElement("canvas"),!(i=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=i}else{var e=this.container.querySelector(".gl-canvas-focus"),t=p({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!t)return f(this),void(this.stopped=!0);this.canvas=e,this.gl=t}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var n=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",n.style["z-index"]=20,n.style["pointer-events"]="none";var r=this.mouseContainer=document.createElement("div");r.style.position="absolute",r.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var s=this.container;s.appendChild(n),s.appendChild(r);var l=this;r.addEventListener("mouseout",(function(){l.isMouseOver=!1,l.unhover()})),r.addEventListener("mouseover",(function(){l.isMouseOver=!0}))},T.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var t=this.glplot.gl,a=t.drawingBufferWidth,i=t.drawingBufferHeight;t.clearColor(1,1,1,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new Uint8Array(a*i*4);t.readPixels(0,0,a,i,t.RGBA,t.UNSIGNED_BYTE,n);for(var r=0,s=i-1;r<s;++r,--s)for(var l=0;l<a;++l)for(var c=0;c<4;++c){var h=n[4*(a*r+l)+c];n[4*(a*r+l)+c]=n[4*(a*s+l)+c],n[4*(a*s+l)+c]=h}var p=document.createElement("canvas");p.width=a,p.height=i;var d,u=p.getContext("2d"),f=u.createImageData(a,i);switch(f.data.set(n),u.putImageData(f,0,0),e){case"jpeg":d=p.toDataURL("image/jpeg");break;case"webp":d=p.toDataURL("image/webp");break;default:d=p.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),d},T.updateSize=function(e){e||(e=this.canvas);var t=this.pixelRatio,a=this.fullLayout,o=a.width,i=a.height,n=0|Math.ceil(t*o),r=0|Math.ceil(t*i);return e.width===n&&e.height===r||(e.width=n,e.height=r),e},T.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[r.calcTicks(this.xaxis),r.calcTicks(this.yaxis)],t=0;t<2;++t)for(var a=0;a<e[t].length;++a)e[t][a].text=e[t][a].text+"";return e},T.updateRefs=function(e){this.fullLayout=e;var t=this.id.match(_),a="xaxis"+t[1],o="yaxis"+t[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[o]},T.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,a=this.yaxis,o=e.layout,i={},r=i[t._name+".range"]=t.range.slice(),s=i[a._name+".range"]=a.range.slice();i[t._name+".autorange"]=t.autorange,i[a._name+".autorange"]=a.autorange,n.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i);var l=o[t._name];l.range=r,l.autorange=t.autorange;var c=o[a._name];c.range=s,c.autorange=a.autorange,i.lastInputTime=this.camera.lastInputTime,e.emit("plotly_relayout",i)},T.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks();(function(e,t){for(var a=0;a<2;++a){var o=e[a],i=t[a];if(o.length!==i.length)return!0;for(var n=0;n<o.length;++n)if(o[n].x!==i[n].x)return!0}return!1})(t,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},T.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,a=0;a<t.length;a++){var o=t[a];o.xref===this.xaxis._id&&o.yref===this.yaxis._id&&n.getComponentMethod("annotations","drawOne")(e,a)}},T.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map((function(t){e[t].dispose(),delete e[t]})),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},T.plot=function(e,t,a){var o=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,t),this.updateFx(a.dragmode);var i=a.width,n=a.height;this.updateSize(this.canvas);var r=this.glplotOptions;r.merge(a),r.screenBox=[0,0,i,n];var s={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};m(s,this.xaxis),m(s,this.yaxis);var l,c,h=a._size,p=this.xaxis.domain,d=this.yaxis.domain;for(r.viewBox=[h.l+p[0]*h.w,h.b+d[0]*h.h,i-h.r-(1-p[1])*h.w,n-h.t-(1-d[1])*h.h],this.mouseContainer.style.width=h.w*(p[1]-p[0])+"px",this.mouseContainer.style.height=h.h*(d[1]-d[0])+"px",this.mouseContainer.height=h.h*(d[1]-d[0]),this.mouseContainer.style.left=h.l+p[0]*h.w+"px",this.mouseContainer.style.top=h.t+(1-d[1])*h.h+"px",c=0;c<2;++c)(l=this[k[c]])._length=r.viewBox[c+2]-r.viewBox[c],y(this.graphDiv,l),l.setScale();g(s),r.ticks=this.computeTickMarks(),r.dataBox=this.calcDataBox(),r.merge(a),o.update(r),this.glplot.draw()},T.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,a=e.range,o=t.range,i=e.r2l,n=t.r2l;return[i(a[0]),n(o[0]),i(a[1]),n(o[1])]},T.setRanges=function(e){var t=this.xaxis,a=this.yaxis,o=t.l2r,i=a.l2r;t.range=[o(e[0]),o(e[2])],a.range=[i(e[1]),i(e[3])]},T.updateTraces=function(e,t){var a,o,i,n=Object.keys(this.traces);this.fullData=e;e:for(a=0;a<n.length;a++){var r=n[a],s=this.traces[r];for(o=0;o<e.length;o++)if((i=e[o]).uid===r&&i.type===s.type)continue e;s.dispose(),delete this.traces[r]}for(a=0;a<e.length;a++){i=e[a];var l=t[a],c=this.traces[i.uid];c?c.update(i,l):(c=i._module.plot(this,i,l),this.traces[i.uid]=c)}this.glplot.objects.sort((function(e,t){return e._trace.index-t._trace.index}))},T.updateFx=function(e){w(e)||b(e)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===e?"move":"zoom"===e?"crosshair":null},T.emitPointAction=function(e,t){for(var a,o=e.trace.uid,i=e.pointIndex,n=0;n<this.fullData.length;n++)this.fullData[n].uid===o&&(a=this.fullData[n]);var r={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:a.index,pointNumber:i,data:a._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(r,a,i),this.graphDiv.emit(t,{points:[r]})},T.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,a=t.mouseListener,o=1===this.lastButtonState&&0===a.buttons,i=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var n,r=a.x*e.pixelRatio,l=this.canvas.height-e.pixelRatio*a.y;if(t.boxEnabled&&"zoom"===i.dragmode){this.selectBox.enabled=!0;for(var c=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],h=0;h<2;h++)t.boxStart[h]===t.boxEnd[h]&&(c[h]=e.dataBox[h],c[h+2]=e.dataBox[h+2]);e.setDirty()}else if(!t.panning&&this.isMouseOver){this.selectBox.enabled=!1;var p=i._size,d=this.xaxis.domain,u=this.yaxis.domain,f=(n=e.pick(r/e.pixelRatio+p.l+d[0]*p.w,l/e.pixelRatio-(p.t+(1-u[1])*p.h)))&&n.object._trace.handlePick(n);if(f&&o&&this.emitPointAction(f,"plotly_click"),n&&"skip"!==n.object._trace.hoverinfo&&i.hovermode&&f&&(!this.lastPickResult||this.lastPickResult.traceUid!==f.trace.uid||this.lastPickResult.dataCoord[0]!==f.dataCoord[0]||this.lastPickResult.dataCoord[1]!==f.dataCoord[1])){var v=f;this.lastPickResult={traceUid:f.trace?f.trace.uid:null,dataCoord:f.dataCoord.slice()},this.spikes.update({center:n.dataCoord}),v.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(n.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(n.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(f,"plotly_hover");var g=this.fullData[v.trace.index]||{},m=v.pointIndex,y=s.castHoverinfo(g,i,m);if(y&&"all"!==y){var x=y.split("+");-1===x.indexOf("x")&&(v.traceCoord[0]=void 0),-1===x.indexOf("y")&&(v.traceCoord[1]=void 0),-1===x.indexOf("z")&&(v.traceCoord[2]=void 0),-1===x.indexOf("text")&&(v.textLabel=void 0),-1===x.indexOf("name")&&(v.name=void 0)}s.loneHover({x:v.screenCoord[0],y:v.screenCoord[1],xLabel:this.hoverFormatter("xaxis",v.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",v.traceCoord[1]),zLabel:v.traceCoord[2],text:v.textLabel,name:v.name,color:s.castHoverOption(g,m,"bgcolor")||v.color,borderColor:s.castHoverOption(g,m,"bordercolor"),fontFamily:s.castHoverOption(g,m,"font.family"),fontSize:s.castHoverOption(g,m,"font.size"),fontColor:s.castHoverOption(g,m,"font.color"),nameLength:s.castHoverOption(g,m,"namelength"),textAlign:s.castHoverOption(g,m,"align")},{container:this.svgContainer,gd:this.graphDiv})}}n||this.unhover(),e.draw()}},T.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},T.hoverFormatter=function(e,t){if(void 0!==t){var a=this[e];return r.tickText(a,a.c2l(t),"hover").text}}},6727:function(e,t,a){var o=a(17342).overrideAll,i=a(51499),n=a(73019),r=a(13373).KO,s=a(47401),l=a(6412),c="gl3d",h="scene";t.name=c,t.attr=h,t.idRoot=h,t.idRegex=t.attrRegex=s.counterRegex("scene"),t.attributes=a(20117),t.layoutAttributes=a(55200),t.baseLayoutAttrOverrides=o({hoverlabel:i.hoverlabel},"plot","nested"),t.supplyLayoutDefaults=a(94274),t.plot=function(e){for(var t=e._fullLayout,a=e._fullData,o=t._subplots[c],i=0;i<o.length;i++){var s=o[i],l=r(a,c,s),h=t[s],p=h.camera,d=h._scene;d||(d=new n({id:s,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:p},t),h._scene=d),d.viewInitial||(d.viewInitial={up:{x:p.up.x,y:p.up.y,z:p.up.z},eye:{x:p.eye.x,y:p.eye.y,z:p.eye.z},center:{x:p.center.x,y:p.center.y,z:p.center.z}}),d.plot(l,t,e.layout)}},t.clean=function(e,t,a,o){for(var i=o._subplots[c]||[],n=0;n<i.length;n++){var r=i[n];!t[r]&&o[r]._scene&&(o[r]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+r).remove())}},t.toSVG=function(e){for(var t=e._fullLayout,a=t._subplots[c],o=t._size,i=0;i<a.length;i++){var n=t[a[i]],r=n.domain,s=n._scene,h=s.toImage("png");t._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":h,x:o.l+o.w*r.x[0],y:o.t+o.h*(1-r.y[1]),width:o.w*(r.x[1]-r.x[0]),height:o.h*(r.y[1]-r.y[0]),preserveAspectRatio:"none"}),s.destroy()}},t.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var t=e.substr(5);return"1"===t&&(t=""),h+t}},t.updateFx=function(e){for(var t=e._fullLayout,a=t._subplots[c],o=0;o<a.length;o++){t[a[o]]._scene.updateFx(t.dragmode,t.hovermode)}}},20117:function(e){e.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}}},68565:function(e,t,a){var o=a(31454),i=a(33333),n=a(87241).extendFlat,r=a(17342).overrideAll;e.exports=r({visible:i.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:o.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:{text:i.title.text,font:i.title.font},type:n({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:i.autorange,rangemode:i.rangemode,range:n({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:n({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},"plot","from-root")},52258:function(e,t,a){var o=a(91771).mix,i=a(47401),n=a(92704),r=a(68565),s=a(45784),l=a(90407),c=["xaxis","yaxis","zaxis"],h=13600/187;e.exports=function(e,t,a){var p,d;function u(e,t){return i.coerce(p,d,r,e,t)}for(var f=0;f<c.length;f++){var v=c[f];p=e[v]||{},(d=n.newContainer(t,v))._id=v[0]+a.scene,d._name=v,s(p,d,u,a),l(p,d,u,{font:a.font,letter:v[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),u("gridcolor",o(d.color,a.bgColor,h).toRgbString()),u("title.text",v[0]),d.setScale=i.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",d.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},70245:function(e,t,a){var o=a(42770),i=a(47401),n=["xaxis","yaxis","zaxis"];function r(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}r.prototype.merge=function(e,t){for(var a=this,r=0;r<3;++r){var s=t[n[r]];s.visible?(a.labels[r]=e._meta?i.templateString(s.title.text,e._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(a.labelColor[r]=o(s.title.font.color)),s.title.font.family&&(a.labelFont[r]=s.title.font.family),s.title.font.size&&(a.labelSize[r]=s.title.font.size)),"showline"in s&&(a.lineEnable[r]=s.showline),"linecolor"in s&&(a.lineColor[r]=o(s.linecolor)),"linewidth"in s&&(a.lineWidth[r]=s.linewidth),"showgrid"in s&&(a.gridEnable[r]=s.showgrid),"gridcolor"in s&&(a.gridColor[r]=o(s.gridcolor)),"gridwidth"in s&&(a.gridWidth[r]=s.gridwidth),"log"===s.type?a.zeroEnable[r]=!1:"zeroline"in s&&(a.zeroEnable[r]=s.zeroline),"zerolinecolor"in s&&(a.zeroLineColor[r]=o(s.zerolinecolor)),"zerolinewidth"in s&&(a.zeroLineWidth[r]=s.zerolinewidth),"ticks"in s&&s.ticks?a.lineTickEnable[r]=!0:a.lineTickEnable[r]=!1,"ticklen"in s&&(a.lineTickLength[r]=a._defaultLineTickLength[r]=s.ticklen),"tickcolor"in s&&(a.lineTickColor[r]=o(s.tickcolor)),"tickwidth"in s&&(a.lineTickWidth[r]=s.tickwidth),"tickangle"in s&&(a.tickAngle[r]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(a.tickEnable[r]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(a.tickColor[r]=o(s.tickfont.color)),s.tickfont.family&&(a.tickFont[r]=s.tickfont.family),s.tickfont.size&&(a.tickSize[r]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(a.lineTickMirror[r]=!0,a.lineMirror[r]=!0):!0===s.mirror?(a.lineTickMirror[r]=!1,a.lineMirror[r]=!0):(a.lineTickMirror[r]=!1,a.lineMirror[r]=!1):a.lineMirror[r]=!1,"showbackground"in s&&!1!==s.showbackground?(a.backgroundEnable[r]=!0,a.backgroundColor[r]=o(s.backgroundcolor)):a.backgroundEnable[r]=!1):(a.tickEnable[r]=!1,a.labelEnable[r]=!1,a.lineEnable[r]=!1,a.lineTickEnable[r]=!1,a.gridEnable[r]=!1,a.zeroEnable[r]=!1,a.backgroundEnable[r]=!1)}},e.exports=function(e,t){var a=new r;return a.merge(e,t),a}},94274:function(e,t,a){var o=a(47401),i=a(31454),n=a(62282),r=a(20112),s=a(52258),l=a(55200),c=a(13373).KO,h="gl3d";function p(e,t,a,o){for(var r=a("bgcolor"),l=i.combine(r,o.paper_bgcolor),p=["up","center","eye"],d=0;d<p.length;d++)a("camera."+p[d]+".x"),a("camera."+p[d]+".y"),a("camera."+p[d]+".z");a("camera.projection.type");var u=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),f=a("aspectmode",u?"manual":"auto");u||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},"manual"===f&&(t.aspectmode="auto"),e.aspectmode=t.aspectmode);var v=c(o.fullData,h,o.id);s(e,t,{font:o.font,scene:o.id,data:v,bgColor:l,calendar:o.calendar,autotypenumbersDflt:o.autotypenumbersDflt,fullLayout:o.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(e,t,o);var g=o.getDfltFromLayout("dragmode");if(!1!==g&&!g)if(g="orbit",e.camera&&e.camera.up){var m=e.camera.up.x,y=e.camera.up.y,x=e.camera.up.z;0!==x&&(m&&y&&x?x/Math.sqrt(m*m+y*y+x*x)>.999&&(g="turntable"):g="turntable")}else g="turntable";a("dragmode",g),a("hovermode",o.getDfltFromLayout("hovermode"))}e.exports=function(e,t,a){var i=t._basePlotModules.length>1;r(e,t,a,{type:h,attributes:l,handleDefaults:p,fullLayout:t,font:t.font,fullData:a,getDfltFromLayout:function(t){if(!i)return o.validate(e[t],l[t])?e[t]:void 0},autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},55200:function(e,t,a){var o=a(68565),i=a(16688).u,n=a(87241).extendFlat,r=a(47401).counterRegex;function s(e,t,a){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:t,editType:"camera"},z:{valType:"number",dflt:a,editType:"camera"},editType:"camera"}}e.exports={_arrayAttrRegexps:[r("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(s(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:n(s(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:n(s(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:i({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:o,yaxis:o,zaxis:o,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera",description:"Obsolete. Use `camera` instead."}}}},95975:function(e,t,a){var o=a(42770),i=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}n.prototype.merge=function(e){for(var t=0;t<3;++t){var a=e[i[t]];a.visible?(this.enabled[t]=a.showspikes,this.colors[t]=o(a.spikecolor),this.drawSides[t]=a.spikesides,this.lineWidth[t]=a.spikethickness):(this.enabled[t]=!1,this.drawSides[t]=!1)}},e.exports=function(e){var t=new n;return t.merge(e),t}},5996:function(e,t,a){e.exports=function(e){for(var t=e.axesOptions,a=e.glplot.axesPixels,s=e.fullSceneLayout,l=[[],[],[]],c=0;c<3;++c){var h=s[n[c]];if(h._length=(a[c].hi-a[c].lo)*a[c].pixelsPerDataUnit/e.dataScale[c],Math.abs(h._length)===1/0||isNaN(h._length))l[c]=[];else{h._input_range=h.range.slice(),h.range[0]=a[c].lo/e.dataScale[c],h.range[1]=a[c].hi/e.dataScale[c],h._m=1/(e.dataScale[c]*a[c].pixelsPerDataUnit),h.range[0]===h.range[1]&&(h.range[0]-=1,h.range[1]+=1);var p=h.tickmode;if("auto"===h.tickmode){h.tickmode="linear";var d=h.nticks||i.constrain(h._length/40,4,9);o.autoTicks(h,Math.abs(h.range[1]-h.range[0])/d)}for(var u=o.calcTicks(h,{msUTC:!0}),f=0;f<u.length;++f)u[f].x=u[f].x*e.dataScale[c],"date"===h.type&&(u[f].text=u[f].text.replace(/\<br\>/g," "));l[c]=u,h.tickmode=p}}t.ticks=l;for(c=0;c<3;++c){r[c]=.5*(e.glplot.bounds[0][c]+e.glplot.bounds[1][c]);for(f=0;f<2;++f)t.bounds[f][c]=e.glplot.bounds[f][c]}e.contourLevels=function(e){for(var t=new Array(3),a=0;a<3;++a){for(var o=e[a],i=new Array(o.length),n=0;n<o.length;++n)i[n]=o[n].x;t[a]=i}return t}(l)};var o=a(37762),i=a(47401),n=["xaxis","yaxis","zaxis"],r=[0,0,0]},98138:function(e){function t(e,t){var a,o,i=[0,0,0,0];for(a=0;a<4;++a)for(o=0;o<4;++o)i[o]+=e[4*a+o]*t[a];return i}e.exports=function(e,a){return t(e.projection,t(e.view,t(e.model,[a[0],a[1],a[2],1])))}},73019:function(e,t,a){var o,i,n=a(44219),r=n.createCamera,s=n.createScene,l=a(5950),c=a(473),h=a(62282),p=a(47401),d=p.preserveDrawingBuffer(),u=a(37762),f=a(21661),v=a(42770),g=a(54600),m=a(98138),y=a(70245),x=a(95975),b=a(5996);function w(e,t){var a=document.createElement("div"),o=e.container;this.graphDiv=e.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",a.appendChild(i),this.svgContainer=i,a.id=e.id,a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",o.appendChild(a),this.fullLayout=t,this.id=e.id||"scene",this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=y(t,t[this.id]),this.spikeOptions=x(t[this.id]),this.container=a,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var k=w.prototype;k.prepareOptions=function(){var e=this,t={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:d,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!i&&(o=document.createElement("canvas"),!(i=l({canvas:o,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");t.gl=i,t.canvas=o}return t};var _=!0;k.tryCreatePlot=function(){var e=this,t=e.prepareOptions(),a=!0;try{e.glplot=s(t)}catch(o){if(e.staticMode||!_||d)a=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{d=t.glOptions.preserveDrawingBuffer=!0,e.glplot=s(t)}catch(o){d=t.glOptions.preserveDrawingBuffer=!1,a=!1}}}return _=!1,a},k.initializeGLCamera=function(){var e=this,t=e.fullSceneLayout.camera,a="orthographic"===t.projection.type;e.camera=r(e.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:a,zoomMin:.01,zoomMax:100,mode:"orbit"})},k.initializeGLPlot=function(){var e=this;if(e.initializeGLCamera(),!e.tryCreatePlot())return g(e);e.traces={},e.make4thDimension();var t=e.graphDiv,a=t.layout,o=function(){var t={};return e.isCameraChanged(a)&&(t[e.id+".camera"]=e.getCamera()),e.isAspectChanged(a)&&(t[e.id+".aspectratio"]=e.glplot.getAspectratio(),"manual"!==a[e.id].aspectmode&&(e.fullSceneLayout.aspectmode=a[e.id].aspectmode=t[e.id+".aspectmode"]="manual")),t},i=function(e){if(!1!==e.fullSceneLayout.dragmode){var t=o();e.saveLayout(a),e.graphDiv.emit("plotly_relayout",t)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",(function(){i(e)})),e.glplot.canvas.addEventListener("wheel",(function(a){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var o=a.deltaX>a.deltaY?1.1:1/1.1,n=e.glplot.getAspectratio();e.glplot.setAspectratio({x:o*n.x,y:o*n.y,z:o*n.z})}i(e)}}),!!c&&{passive:!1}),e.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==e.fullSceneLayout.dragmode&&0!==e.camera.mouseListener.buttons){var t=o();e.graphDiv.emit("plotly_relayouting",t)}})),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",(function(a){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:a,layer:e.id})}),!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0},k.render=function(){var e,t=this,a=t.graphDiv,o=t.svgContainer,i=t.container.getBoundingClientRect();a._fullLayout._calcInverseTransform(a);var n=a._fullLayout._invScaleX,r=a._fullLayout._invScaleY,s=i.width*n,l=i.height*r;o.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),o.setAttributeNS(null,"width",s),o.setAttributeNS(null,"height",l),b(t),t.glplot.axes.update(t.axesOptions);for(var c,h=Object.keys(t.traces),d=null,v=t.glplot.selection,g=0;g<h.length;++g)"skip"!==(e=t.traces[h[g]]).data.hoverinfo&&e.handlePick(v)&&(d=e),e.setContourLevels&&e.setContourLevels();function y(e,a,o){var i=t.fullSceneLayout[e+"axis"];return"log"!==i.type&&(a=i.d2l(a)),u.hoverLabelText(i,a,o)}if(null!==d){var x=m(t.glplot.cameraParams,v.dataCoordinate);e=d.data;var w,k=a._fullData[e.index],_=v.index,L={xLabel:y("x",v.traceCoordinate[0],e.xhoverformat),yLabel:y("y",v.traceCoordinate[1],e.yhoverformat),zLabel:y("z",v.traceCoordinate[2],e.zhoverformat)},T=f.castHoverinfo(k,t.fullLayout,_),S=(T||"").split("+"),C=T&&"all"===T;k.hovertemplate||C||(-1===S.indexOf("x")&&(L.xLabel=void 0),-1===S.indexOf("y")&&(L.yLabel=void 0),-1===S.indexOf("z")&&(L.zLabel=void 0),-1===S.indexOf("text")&&(v.textLabel=void 0),-1===S.indexOf("name")&&(d.name=void 0));var j=[];"cone"===e.type||"streamtube"===e.type?(L.uLabel=y("x",v.traceCoordinate[3],e.uhoverformat),(C||-1!==S.indexOf("u"))&&j.push("u: "+L.uLabel),L.vLabel=y("y",v.traceCoordinate[4],e.vhoverformat),(C||-1!==S.indexOf("v"))&&j.push("v: "+L.vLabel),L.wLabel=y("z",v.traceCoordinate[5],e.whoverformat),(C||-1!==S.indexOf("w"))&&j.push("w: "+L.wLabel),L.normLabel=v.traceCoordinate[6].toPrecision(3),(C||-1!==S.indexOf("norm"))&&j.push("norm: "+L.normLabel),"streamtube"===e.type&&(L.divergenceLabel=v.traceCoordinate[7].toPrecision(3),(C||-1!==S.indexOf("divergence"))&&j.push("divergence: "+L.divergenceLabel)),v.textLabel&&j.push(v.textLabel),w=j.join("<br>")):"isosurface"===e.type||"volume"===e.type?(L.valueLabel=u.hoverLabelText(t._mockAxis,t._mockAxis.d2l(v.traceCoordinate[3]),e.valuehoverformat),j.push("value: "+L.valueLabel),v.textLabel&&j.push(v.textLabel),w=j.join("<br>")):w=v.textLabel;var z={x:v.traceCoordinate[0],y:v.traceCoordinate[1],z:v.traceCoordinate[2],data:k._input,fullData:k,curveNumber:k.index,pointNumber:_};f.appendArrayPointValue(z,k,_),e._module.eventData&&(z=k._module.eventData(z,v,k,{},_));var P={points:[z]};if(t.fullSceneLayout.hovermode){var E=[];f.loneHover({trace:k,x:(.5+.5*x[0]/x[3])*s,y:(.5-.5*x[1]/x[3])*l,xLabel:L.xLabel,yLabel:L.yLabel,zLabel:L.zLabel,text:w,name:d.name,color:f.castHoverOption(k,_,"bgcolor")||d.color,borderColor:f.castHoverOption(k,_,"bordercolor"),fontFamily:f.castHoverOption(k,_,"font.family"),fontSize:f.castHoverOption(k,_,"font.size"),fontColor:f.castHoverOption(k,_,"font.color"),nameLength:f.castHoverOption(k,_,"namelength"),textAlign:f.castHoverOption(k,_,"align"),hovertemplate:p.castOption(k,_,"hovertemplate"),hovertemplateLabels:p.extendFlat({},z,L),eventData:[z]},{container:o,gd:a,inOut_bbox:E}),z.bbox=E[0]}v.buttons&&v.distance<5?a.emit("plotly_click",P):a.emit("plotly_hover",P),c=P}else f.loneUnhover(o),a.emit("plotly_unhover",c);t.drawAnnotations(t)},k.recoverContext=function(){var e=this;e.glplot.dispose();var t=function(){e.glplot.gl.isContextLost()?requestAnimationFrame(t):e.initializeGLPlot()?e.plot.apply(e,e.plotArgs):p.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(t)};var L=["xaxis","yaxis","zaxis"];function T(e,t,a){for(var o=e.fullSceneLayout,i=0;i<3;i++){var n=L[i],r=n.charAt(0),s=o[n],l=t[r],c=t[r+"calendar"],h=t["_"+r+"length"];if(p.isArrayOrTypedArray(l))for(var d,u=0;u<(h||l.length);u++)if(p.isArrayOrTypedArray(l[u]))for(var f=0;f<l[u].length;++f)d=s.d2l(l[u][f],0,c),!isNaN(d)&&isFinite(d)&&(a[0][i]=Math.min(a[0][i],d),a[1][i]=Math.max(a[1][i],d));else d=s.d2l(l[u],0,c),!isNaN(d)&&isFinite(d)&&(a[0][i]=Math.min(a[0][i],d),a[1][i]=Math.max(a[1][i],d));else a[0][i]=Math.min(a[0][i],0),a[1][i]=Math.max(a[1][i],h-1)}}k.plot=function(e,t,a){var o=this;if(o.plotArgs=[e,t,a],!o.glplot.contextLost){var i,n,r,s,l,c,h=t[o.id],p=a[o.id];o.fullLayout=t,o.fullSceneLayout=h,o.axesOptions.merge(t,h),o.spikeOptions.merge(h),o.setViewport(h),o.updateFx(h.dragmode,h.hovermode),o.camera.enableWheel=o.graphDiv._context._scrollZoom.gl3d,o.glplot.setClearColor(v(h.bgcolor)),o.setConvert(l),e?Array.isArray(e)||(e=[e]):e=[];var d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(r=0;r<e.length;++r)!0===(i=e[r]).visible&&0!==i._length&&T(this,i,d);!function(e,t){for(var a=e.fullSceneLayout,o=a.annotations||[],i=0;i<3;i++)for(var n=L[i],r=n.charAt(0),s=a[n],l=0;l<o.length;l++){var c=o[l];if(c.visible){var h=s.r2l(c[r]);!isNaN(h)&&isFinite(h)&&(t[0][i]=Math.min(t[0][i],h),t[1][i]=Math.max(t[1][i],h))}}}(this,d);var u=[1,1,1];for(s=0;s<3;++s)d[1][s]===d[0][s]?u[s]=1:u[s]=1/(d[1][s]-d[0][s]);for(o.dataScale=u,o.convertAnnotations(this),r=0;r<e.length;++r)!0===(i=e[r]).visible&&0!==i._length&&((n=o.traces[i.uid])?n.data.type===i.type?n.update(i):(n.dispose(),n=i._module.plot(this,i),o.traces[i.uid]=n):(n=i._module.plot(this,i),o.traces[i.uid]=n),n.name=i.name);var f=Object.keys(o.traces);e:for(r=0;r<f.length;++r){for(s=0;s<e.length;++s)if(e[s].uid===f[r]&&!0===e[s].visible&&0!==e[s]._length)continue e;(n=o.traces[f[r]]).dispose(),delete o.traces[f[r]]}o.glplot.objects.sort((function(e,t){return e._trace.data.index-t._trace.data.index}));var g,m=[[0,0,0],[0,0,0]],y=[],x={};for(r=0;r<3;++r){if((c=(l=h[L[r]]).type)in x?(x[c].acc*=u[r],x[c].count+=1):x[c]={acc:u[r],count:1},l.autorange){m[0][r]=1/0,m[1][r]=-1/0;var b=o.glplot.objects,w=o.fullSceneLayout.annotations||[],k=l._name.charAt(0);for(s=0;s<b.length;s++){var _=b[s],S=_.bounds,C=_._trace.data._pad||0;"ErrorBars"===_.constructor.name&&l._lowerLogErrorBound?m[0][r]=Math.min(m[0][r],l._lowerLogErrorBound):m[0][r]=Math.min(m[0][r],S[0][r]/u[r]-C),m[1][r]=Math.max(m[1][r],S[1][r]/u[r]+C)}for(s=0;s<w.length;s++){var j=w[s];if(j.visible){var z=l.r2l(j[k]);m[0][r]=Math.min(m[0][r],z),m[1][r]=Math.max(m[1][r],z)}}if("rangemode"in l&&"tozero"===l.rangemode&&(m[0][r]=Math.min(m[0][r],0),m[1][r]=Math.max(m[1][r],0)),m[0][r]>m[1][r])m[0][r]=-1,m[1][r]=1;else{var P=m[1][r]-m[0][r];m[0][r]-=P/32,m[1][r]+=P/32}if("reversed"===l.autorange){var E=m[0][r];m[0][r]=m[1][r],m[1][r]=E}}else{var M=l.range;m[0][r]=l.r2l(M[0]),m[1][r]=l.r2l(M[1])}m[0][r]===m[1][r]&&(m[0][r]-=1,m[1][r]+=1),y[r]=m[1][r]-m[0][r],o.glplot.setBounds(r,{min:m[0][r]*u[r],max:m[1][r]*u[r]})}var D=h.aspectmode;if("cube"===D)g=[1,1,1];else if("manual"===D){var R=h.aspectratio;g=[R.x,R.y,R.z]}else{if("auto"!==D&&"data"!==D)throw new Error("scene.js aspectRatio was not one of the enumerated types");var A=[1,1,1];for(r=0;r<3;++r){var O=x[c=(l=h[L[r]]).type];A[r]=Math.pow(O.acc,1/O.count)/u[r]}g="data"===D||Math.max.apply(null,A)/Math.min.apply(null,A)<=4?A:[1,1,1]}h.aspectratio.x=p.aspectratio.x=g[0],h.aspectratio.y=p.aspectratio.y=g[1],h.aspectratio.z=p.aspectratio.z=g[2],o.glplot.setAspectratio(h.aspectratio),o.viewInitial.aspectratio||(o.viewInitial.aspectratio={x:h.aspectratio.x,y:h.aspectratio.y,z:h.aspectratio.z}),o.viewInitial.aspectmode||(o.viewInitial.aspectmode=h.aspectmode);var B=h.domain||null,F=t._size||null;if(B&&F){var I=o.container.style;I.position="absolute",I.left=F.l+B.x[0]*F.w+"px",I.top=F.t+(1-B.y[1])*F.h+"px",I.width=F.w*(B.x[1]-B.x[0])+"px",I.height=F.h*(B.y[1]-B.y[0])+"px"}o.glplot.redraw()}},k.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)},k.getCamera=function(){var e,t=this;return t.camera.view.recalcMatrix(t.camera.view.lastT()),{up:{x:(e=t.camera).up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:!0===e._ortho?"orthographic":"perspective"}}},k.setViewport=function(e){var t,a=this,o=e.camera;a.camera.lookAt.apply(this,[[(t=o).eye.x,t.eye.y,t.eye.z],[t.center.x,t.center.y,t.center.z],[t.up.x,t.up.y,t.up.z]]),a.glplot.setAspectratio(e.aspectratio),"orthographic"===o.projection.type!==a.camera._ortho&&(a.glplot.redraw(),a.glplot.clearRGBA(),a.glplot.dispose(),a.initializeGLPlot())},k.isCameraChanged=function(e){var t=this.getCamera(),a=p.nestedProperty(e,this.id+".camera").get();function o(e,t,a,o){var i=["up","center","eye"],n=["x","y","z"];return t[i[a]]&&e[i[a]][n[o]]===t[i[a]][n[o]]}var i=!1;if(void 0===a)i=!0;else{for(var n=0;n<3;n++)for(var r=0;r<3;r++)if(!o(t,a,n,r)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i},k.isAspectChanged=function(e){var t=this.glplot.getAspectratio(),a=p.nestedProperty(e,this.id+".aspectratio").get();return void 0===a||a.x!==t.x||a.y!==t.y||a.z!==t.z},k.saveLayout=function(e){var t,a,o,i,n,r,s=this,l=s.fullLayout,c=s.isCameraChanged(e),d=s.isAspectChanged(e),u=c||d;if(u){var f={};if(c&&(t=s.getCamera(),o=(a=p.nestedProperty(e,s.id+".camera")).get(),f[s.id+".camera"]=o),d&&(i=s.glplot.getAspectratio(),r=(n=p.nestedProperty(e,s.id+".aspectratio")).get(),f[s.id+".aspectratio"]=r),h.call("_storeDirectGUIEdit",e,l._preGUI,f),c)a.set(t),p.nestedProperty(l,s.id+".camera").set(t);if(d)n.set(i),p.nestedProperty(l,s.id+".aspectratio").set(i),s.glplot.redraw()}return u},k.updateFx=function(e,t){var a=this,o=a.camera;if(o)if("orbit"===e)o.mode="orbit",o.keyBindingMode="rotate";else if("turntable"===e){o.up=[0,0,1],o.mode="turntable",o.keyBindingMode="rotate";var i=a.graphDiv,n=i._fullLayout,r=a.fullSceneLayout.camera,s=r.up.x,l=r.up.y,c=r.up.z;if(c/Math.sqrt(s*s+l*l+c*c)<.999){var d=a.id+".camera.up",u={x:0,y:0,z:1},f={};f[d]=u;var v=i.layout;h.call("_storeDirectGUIEdit",v,n._preGUI,f),r.up=u,p.nestedProperty(v,d).set(u)}}else o.keyBindingMode=e;a.fullSceneLayout.hovermode=t},k.toImage=function(e){var t=this;e||(e="png"),t.staticMode&&t.container.appendChild(o),t.glplot.redraw();var a=t.glplot.gl,i=a.drawingBufferWidth,n=a.drawingBufferHeight;a.bindFramebuffer(a.FRAMEBUFFER,null);var r=new Uint8Array(i*n*4);a.readPixels(0,0,i,n,a.RGBA,a.UNSIGNED_BYTE,r),function(e,t,a){for(var o=0,i=a-1;o<i;++o,--i)for(var n=0;n<t;++n)for(var r=0;r<4;++r){var s=4*(t*o+n)+r,l=4*(t*i+n)+r,c=e[s];e[s]=e[l],e[l]=c}}(r,i,n),function(e,t,a){for(var o=0;o<a;++o)for(var i=0;i<t;++i){var n=4*(t*o+i),r=e[n+3];if(r>0)for(var s=255/r,l=0;l<3;++l)e[n+l]=Math.min(s*e[n+l],255)}}(r,i,n);var s=document.createElement("canvas");s.width=i,s.height=n;var l,c=s.getContext("2d"),h=c.createImageData(i,n);switch(h.data.set(r),c.putImageData(h,0,0),e){case"jpeg":l=s.toDataURL("image/jpeg");break;case"webp":l=s.toDataURL("image/webp");break;default:l=s.toDataURL("image/png")}return t.staticMode&&t.container.removeChild(o),l},k.setConvert=function(){for(var e=0;e<3;e++){var t=this.fullSceneLayout[L[e]];u.setConvert(t,this.fullLayout),t.setScale=p.noop}},k.make4thDimension=function(){var e=this,t=e.graphDiv._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(e._mockAxis,t)},e.exports=w},35839:function(e){e.exports=function(e,t,a,o){o=o||e.length;for(var i=new Array(o),n=0;n<o;n++)i[n]=[e[n],t[n],a[n]];return i}}}]);