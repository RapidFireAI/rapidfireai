{"version":3,"file":"static/js/1401.fbeafb1c.chunk.js","mappings":"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","sources":["../node_modules/use-debounce/src/useDebouncedCallback.ts","../node_modules/use-debounce/src/useDebounce.ts","experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelPageWrapper.tsx","experiment-tracking/components/experiment-logged-models/hooks/useValidateLoggedModelSignature.ts","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsRegisterButton.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsHeader.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelDeleteModal.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsNav.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDescription.tsx","experiment-tracking/hooks/logged-models/usePatchLoggedModelsTags.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsTableRunCellRenderer.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsMetricsTable.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsRunsTable.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelAllDatasetsList.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsModelVersionsList.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelDetailsMetadataV2.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsOverview.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsArtifacts.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsTracesIntroductionText.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsTraces.tsx","experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelDetailsPage.tsx","common/components/error-boundaries/SectionErrorBoundary.tsx","common/components/Spinner.tsx","common/components/RequestStateWrapper.tsx","experiment-tracking/hooks/logged-models/useRelatedRunsDataForLoggedModels.tsx","common/hooks/useArrayMemo.ts","common/components/JsonFormatting.tsx","../node_modules/@tanstack/query-core/src/queriesObserver.ts","../node_modules/@tanstack/react-query/src/useQueries.ts"],"sourcesContent":["import {\n  useRef,\n  useEffect,\n  useMemo,\n  type Dispatch,\n  type SetStateAction,\n} from 'react';\n\nexport interface CallOptions {\n  /**\n   * Controls if the function should be invoked on the leading edge of the timeout.\n   */\n  leading?: boolean;\n  /**\n   * Controls if the function should be invoked on the trailing edge of the timeout.\n   */\n  trailing?: boolean;\n  /**\n   * Controls if the function should be invoked when the React component unmounts or\n   * the page is closed. This is usually desirable whenever `func` has persistent side-effects\n   * such as persists data.\n   *\n   * NOTE: If the callback calls `fetch()`, you usually also want to specify the `keepalive=true`\n   * option for `fetch()` so it can finish in the background after the page is closed.\n   *\n   * This option has no effect if `trailing == false`.\n   */\n  flushOnExit?: boolean;\n}\n\nexport interface Options extends CallOptions {\n  /**\n   * The maximum time the given function is allowed to be delayed before it's invoked.\n   */\n  maxWait?: number;\n  /**\n   * If the setting is set to true, all debouncing and timers will happen on the server side as well\n   */\n  debounceOnServer?: boolean;\n}\n\nexport interface ControlFunctions<ReturnT> {\n  /**\n   * Cancel pending function invocations\n   */\n  cancel: () => void;\n  /**\n   * Immediately invoke pending function invocations\n   */\n  flush: () => ReturnT | undefined;\n  /**\n   * Returns `true` if there are any pending function invocations\n   */\n  isPending: () => boolean;\n}\n\n/**\n * Subsequent calls to the debounced function return the result of the last func invocation.\n * Note, that if there are no previous invocations you will get undefined. You should check it in your code properly.\n */\nexport interface DebouncedState<T extends (...args: any) => ReturnType<T>>\n  extends ControlFunctions<ReturnType<T>> {\n  (...args: Parameters<T>): ReturnType<T> | undefined;\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn.\n *\n * The debounced function comes with a `cancel` method to cancel delayed `func`\n * invocations and a `flush` method to immediately invoke them.\n *\n * Provide `options` to indicate whether `func` should be invoked on the leading\n * and/or trailing edge of the `wait` timeout. The `func` is invoked with the\n * last arguments provided to the debounced function.\n *\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Controls if `func` should be invoked on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Controls if `func` should be invoked the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.isPending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback<\n  T extends (...args: any) => ReturnType<T>,\n>(\n  func: T,\n  wait?: number,\n  options?: Options,\n  forceUpdate?: Dispatch<SetStateAction<object>>\n): DebouncedState<T> {\n  const lastCallTime = useRef(null);\n  const lastInvokeTime = useRef(0);\n  const firstInvokeTime = useRef(0);\n  const timerId = useRef(null);\n  const lastArgs = useRef<unknown[]>([]);\n  const lastThis = useRef<unknown>();\n  const result = useRef<ReturnType<T>>();\n  const funcRef = useRef(func);\n  const mounted = useRef(true);\n  const visibilityListener = useRef<VoidFunction>();\n  const debouncedRef = useRef<DebouncedState<T>>();\n  // Always keep the latest version of debounce callback, with no wait time.\n  funcRef.current = func;\n\n  const isClientSide = typeof window !== 'undefined';\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && isClientSide;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n\n  const leading = !!options.leading;\n  const trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n  const flushOnExit = !!options.flushOnExit && trailing;\n  const maxing = 'maxWait' in options;\n  const debounceOnServer =\n    'debounceOnServer' in options ? !!options.debounceOnServer : false; // `false` by default\n  const maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n\n  // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n  const debounced = useMemo(() => {\n    const invokeFunc = (time: number) => {\n      const args = lastArgs.current;\n      const thisArg = lastThis.current;\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      firstInvokeTime.current = firstInvokeTime.current || time;\n\n      return (result.current = funcRef.current.apply(thisArg, args));\n    };\n\n    const startTimer = (pendingFunc: () => void, wait: number) => {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF\n        ? requestAnimationFrame(pendingFunc)\n        : setTimeout(pendingFunc, wait);\n    };\n\n    const shouldInvoke = (time: number) => {\n      if (!mounted.current) return false;\n\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (\n        !lastCallTime.current ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    };\n\n    const trailingEdge = (time: number) => {\n      timerId.current = null;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    const timerExpired = () => {\n      const time = Date.now();\n\n      if (leading && firstInvokeTime.current === lastInvokeTime.current) {\n        notifyManuallyTimerExpired();\n      }\n\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // https://github.com/xnimorz/use-debounce/issues/97\n      if (!mounted.current) {\n        return;\n      }\n      // Remaining wait calculation\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n      const timeWaiting = wait - timeSinceLastCall;\n      const remainingWait = maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n\n      // Restart the timer\n      startTimer(timerExpired, remainingWait);\n    };\n\n    const notifyManuallyTimerExpired = () => {\n      if (forceUpdate) {\n        forceUpdate({});\n      }\n    };\n\n    const func: DebouncedState<T> = (...args: Parameters<T>): ReturnType<T> => {\n      if (!isClientSide && !debounceOnServer) {\n        return;\n      }\n      const time = Date.now();\n      const isInvoking = shouldInvoke(time);\n\n      lastArgs.current = args;\n      lastThis.current = this;\n      lastCallTime.current = time;\n\n      if (flushOnExit && !visibilityListener.current) {\n        visibilityListener.current = () => {\n          if (global.document?.visibilityState === 'hidden') {\n            debouncedRef.current.flush();\n          }\n        };\n        global.document?.addEventListener?.(\n          'visibilitychange',\n          visibilityListener.current\n        );\n      }\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current;\n          // Start the timer for the trailing edge.\n          startTimer(timerExpired, wait);\n          // Invoke the leading edge.\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n      return result.current;\n    };\n\n    func.cancel = () => {\n      const hadTimer = timerId.current;\n      if (hadTimer) {\n        useRAF\n          ? cancelAnimationFrame(timerId.current)\n          : clearTimeout(timerId.current);\n      }\n      lastInvokeTime.current = 0;\n      lastArgs.current =\n        lastCallTime.current =\n        lastThis.current =\n        timerId.current =\n          null;\n\n      // Notify React to re-render when cancel is called and there was an active timer\n      if (hadTimer && forceUpdate) {\n        forceUpdate({});\n      }\n    };\n\n    func.isPending = () => {\n      return !!timerId.current;\n    };\n\n    func.flush = () => {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [\n    leading,\n    maxing,\n    wait,\n    maxWait,\n    trailing,\n    flushOnExit,\n    useRAF,\n    isClientSide,\n    debounceOnServer,\n    forceUpdate,\n  ]);\n\n  // Store reference to debounced function for cleanup\n  debouncedRef.current = debounced;\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      if (flushOnExit) {\n        debouncedRef.current.flush();\n      }\n      if (visibilityListener.current) {\n        global.document?.removeEventListener?.(\n          'visibilitychange',\n          visibilityListener.current\n        );\n        visibilityListener.current = null;\n      }\n      mounted.current = false;\n    };\n  }, [flushOnExit]);\n\n  return debounced;\n}\n","import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback, { DebouncedState } from './useDebouncedCallback';\n\nfunction valueEquality<T>(left: T, right: T): boolean {\n  return left === right;\n}\n\nexport default function useDebounce<T>(\n  value: T,\n  delay: number,\n  options?: {\n    maxWait?: number;\n    leading?: boolean;\n    trailing?: boolean;\n    equalityFn?: (left: T, right: T) => boolean;\n  }\n): [T, DebouncedState<(value: T) => void>] {\n  const eq = (options && options.equalityFn) || valueEquality;\n\n  const activeValue = useRef(value);\n  const [, forceUpdate] = useState({});\n  const debounced = useDebouncedCallback(\n    useCallback(\n      (value: T) => {\n        activeValue.current = value;\n        forceUpdate({});\n      },\n      [forceUpdate]\n    ),\n    delay,\n    options,\n    forceUpdate\n  );\n  const previousValue = useRef(value);\n\n  if (!eq(previousValue.current, value)) {\n    debounced(value);\n    previousValue.current = value;\n  }\n\n  return [activeValue.current as T, debounced];\n}\n","import { UserActionErrorHandler } from '@databricks/web-shared/metrics';\nimport { QueryClient, QueryClientProvider } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { DangerIcon, Empty, PageWrapper } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\n\nconst PageFallback = ({ error }: { error?: Error }) => {\n  return (\n    <PageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Error\"\n            description=\"Title for error fallback component in prompts management UI\"\n          />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in prompts management UI\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </PageWrapper>\n  );\n};\n\n/**\n * Wrapper for all experiment logged model pages.\n * Provides error boundaries and user action error handling.\n */\nexport const ExperimentLoggedModelPageWrapper = ({\n  children,\n  resetKey,\n}: {\n  children: React.ReactNode;\n  resetKey?: unknown;\n}) => {\n  return (\n    <ErrorBoundary FallbackComponent={PageFallback} resetKeys={[resetKey]}>\n      <UserActionErrorHandler>{children}</UserActionErrorHandler>\n    </ErrorBoundary>\n  );\n};\n","import { useCallback } from 'react';\nimport { getArtifactBlob, getLoggedModelArtifactLocationUrl } from '../../../../common/utils/ArtifactUtils';\nimport { MLMODEL_FILE_NAME } from '../../../constants';\nimport type { LoggedModelProto } from '../../../types';\n\nconst lazyJsYaml = () => import('js-yaml');\n\nexport const useValidateLoggedModelSignature = (loggedModel?: LoggedModelProto | null) =>\n  useCallback(async () => {\n    if (!loggedModel?.info?.model_id || !loggedModel?.info?.artifact_uri) {\n      return true;\n    }\n\n    const artifactLocation = getLoggedModelArtifactLocationUrl(MLMODEL_FILE_NAME, loggedModel.info.model_id);\n    const blob = await getArtifactBlob(artifactLocation);\n\n    const yamlContent = (await lazyJsYaml()).load(await blob.text());\n\n    const isValid = yamlContent?.signature?.inputs !== undefined && yamlContent?.signature?.outputs !== undefined;\n\n    return isValid;\n  }, [loggedModel]);\n","import { FormattedMessage, useIntl } from 'react-intl';\nimport { LoggedModelProto } from '../../types';\nimport { RegisterModel } from '../../../model-registry/components/RegisterModel';\nimport { useCallback } from 'react';\nimport { ErrorWrapper } from '../../../common/utils/ErrorWrapper';\nimport { CodeSnippet } from '@databricks/web-shared/snippet';\nimport { CopyButton } from '../../../shared/building_blocks/CopyButton';\nimport { CopyIcon, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { useValidateLoggedModelSignature } from './hooks/useValidateLoggedModelSignature';\nimport Utils from '../../../common/utils/Utils';\n\nconst RegisterLoggedModelInUCCodeSnippet = ({ modelId }: { modelId: string }) => {\n  const { theme } = useDesignSystemTheme();\n\n  const code = `import mlflow\n\nmlflow.set_registry_uri(\"databricks-uc\")\n\nmodel_uri = \"models:/${modelId}\"\nmodel_name = \"main.default.my_model\"\n\nmlflow.register_model(model_uri=model_uri, name=model_name)\n`;\n\n  return (\n    <div>\n      <Typography.Text>\n        <FormattedMessage\n          defaultMessage=\"In order to register model in Unity Catalog, copy and run the following code in the notebook:\"\n          description=\"Instruction to register model in Unity Catalog on the logged model details page\"\n        />\n      </Typography.Text>\n      <div css={{ position: 'relative' }}>\n        <CopyButton\n          css={{ zIndex: 1, position: 'absolute', top: theme.spacing.sm, right: theme.spacing.sm }}\n          showLabel={false}\n          copyText={code}\n          icon={<CopyIcon />}\n        />\n        <CodeSnippet\n          showLineNumbers\n          style={{\n            padding: `${theme.spacing.sm}px ${theme.spacing.md}px`,\n            marginTop: theme.spacing.md,\n            marginBottom: theme.spacing.md,\n          }}\n          language=\"python\"\n        >\n          {code}\n        </CodeSnippet>\n      </div>\n    </div>\n  );\n};\n\nexport const ExperimentLoggedModelDetailsRegisterButton = ({\n  loggedModel,\n  onSuccess,\n}: {\n  loggedModel?: LoggedModelProto | null;\n  onSuccess?: () => void;\n}) => {\n  const intl = useIntl();\n  const handleSuccess = useCallback(\n    (data?: { value: { status?: string } }) => {\n      onSuccess?.();\n      const successTitle = intl.formatMessage({\n        defaultMessage: 'Model registered successfully',\n        description: 'Notification title for model registration succeeded on the logged model details page',\n      });\n      Utils.displayGlobalInfoNotification(`${successTitle} ${data?.value?.status ?? ''}`);\n    },\n    [intl, onSuccess],\n  );\n\n  const handleError = useCallback(\n    (error?: Error | ErrorWrapper) => {\n      const errorTitle = intl.formatMessage({\n        defaultMessage: 'Error registering model',\n        description: 'Notification title for model registration failure on the logged model details page',\n      });\n      const message = (error instanceof ErrorWrapper ? error.getMessageField() : error?.message) ?? String(error);\n      Utils.displayGlobalErrorNotification(`${errorTitle} ${message}`);\n    },\n    [intl],\n  );\n\n  /**\n   * Function that validates that the model file is valid to be registered in UC (contains signature inputs and outputs),\n   * passed to the RegisterModel component.\n   */\n  const modelFileValidationFn = useValidateLoggedModelSignature(loggedModel);\n\n  if (!loggedModel?.info?.artifact_uri || !loggedModel.info.model_id) {\n    return null;\n  }\n\n  return (\n    <RegisterModel\n      modelPath={loggedModel.info.artifact_uri}\n      modelRelativePath=\"\"\n      disabled={false}\n      loggedModelId={loggedModel.info.model_id}\n      buttonType=\"primary\"\n      showButton\n      onRegisterSuccess={handleSuccess}\n      onRegisterFailure={handleError}\n    />\n  );\n};\n","import { FormattedMessage, useIntl } from 'react-intl';\nimport { Link, useNavigate } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\nimport { PageHeader } from '../../../shared/building_blocks/PageHeader';\nimport {\n  Button,\n  DropdownMenu,\n  GenericSkeleton,\n  ModelsIcon,\n  OverflowIcon,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport type { UseGetExperimentQueryResultExperiment } from '../../hooks/useExperimentQuery';\nimport type { LoggedModelProto } from '../../types';\nimport { ExperimentLoggedModelDetailsRegisterButton } from './ExperimentLoggedModelDetailsRegisterButton';\nimport { ExperimentPageTabName } from '../../constants';\nimport { useExperimentLoggedModelDeleteModal } from './hooks/useExperimentLoggedModelDeleteModal';\n\nexport const ExperimentLoggedModelDetailsHeader = ({\n  experimentId,\n  experiment,\n  loading = false,\n  loggedModel,\n  onSuccess,\n}: {\n  experimentId: string;\n  experiment?: UseGetExperimentQueryResultExperiment;\n  loading?: boolean;\n  loggedModel?: LoggedModelProto | null;\n  onSuccess?: () => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const modelDisplayName = loggedModel?.info?.name;\n  const navigate = useNavigate();\n  const intl = useIntl();\n\n  const { modalElement: DeleteModalElement, openModal } = useExperimentLoggedModelDeleteModal({\n    loggedModel,\n    onSuccess: () => {\n      navigate(Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models));\n    },\n  });\n\n  const getExperimentName = () => {\n    if (experiment && 'name' in experiment) {\n      return experiment?.name;\n    }\n    return experimentId;\n  };\n\n  const breadcrumbs = [\n    // eslint-disable-next-line react/jsx-key\n    <Link to={Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models)}>\n      {getExperimentName()}\n    </Link>,\n    // eslint-disable-next-line react/jsx-key\n    <Link to={Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models)}>\n      <FormattedMessage\n        defaultMessage=\"Models\"\n        description=\"Breadcrumb for models tab of experiments page on the logged model details page\"\n      />\n    </Link>,\n  ];\n\n  return (\n    <div css={{ flexShrink: 0 }}>\n      {loading ? (\n        <ExperimentLoggedModelDetailsHeaderSkeleton />\n      ) : (\n        <PageHeader\n          title={\n            <>\n              <ExperimentLoggedModelDetailsHeaderIcon />\n              <>{modelDisplayName}</>\n            </>\n          }\n          dangerouslyAppendEmotionCSS={{ h2: { display: 'flex', gap: theme.spacing.sm }, wordBreak: 'break-word' }}\n          breadcrumbs={breadcrumbs}\n        >\n          <DropdownMenu.Root>\n            <DropdownMenu.Trigger asChild>\n              <Button\n                componentId=\"mlflow.logged_model.details.more_actions\"\n                icon={<OverflowIcon />}\n                aria-label={intl.formatMessage({\n                  defaultMessage: 'More actions',\n                  description: 'A label for the dropdown menu trigger on the logged model details page',\n                })}\n              />\n            </DropdownMenu.Trigger>\n            <DropdownMenu.Content align=\"end\">\n              <DropdownMenu.Item componentId=\"mlflow.logged_model.details.delete_button\" onClick={openModal}>\n                <FormattedMessage defaultMessage=\"Delete\" description=\"Delete action for logged model\" />\n              </DropdownMenu.Item>\n            </DropdownMenu.Content>\n          </DropdownMenu.Root>\n          <ExperimentLoggedModelDetailsRegisterButton loggedModel={loggedModel} onSuccess={onSuccess} />\n        </PageHeader>\n      )}\n      {DeleteModalElement}\n    </div>\n  );\n};\nconst ExperimentLoggedModelDetailsHeaderIcon = () => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: theme.colors.tagDefault,\n        width: theme.general.heightSm,\n        height: theme.general.heightSm,\n        borderRadius: theme.legacyBorders.borderRadiusMd,\n      }}\n    >\n      <ModelsIcon css={{ color: theme.colors.textSecondary }} />\n    </div>\n  );\n};\n\nconst ExperimentLoggedModelDetailsHeaderSkeleton = () => {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ height: 2 * theme.general.heightSm, marginBottom: theme.spacing.sm }}>\n      <div css={{ height: theme.spacing.lg }}>\n        <GenericSkeleton css={{ width: 100, height: theme.spacing.md }} loading />\n      </div>\n      <div css={{ display: 'flex', justifyContent: 'space-between' }}>\n        <div css={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.xs * 0.5 }}>\n          <GenericSkeleton css={{ width: theme.general.heightSm, height: theme.general.heightSm }} loading />\n          <GenericSkeleton css={{ width: 160, height: theme.general.heightSm }} loading />\n        </div>\n        <div css={{ display: 'flex', gap: theme.spacing.sm }}>\n          <GenericSkeleton css={{ width: 100, height: theme.general.heightSm }} loading />\n          <GenericSkeleton css={{ width: 60, height: theme.general.heightSm }} loading />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { Alert, Modal, Spacer } from '@databricks/design-system';\nimport { useCallback, useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { loggedModelsDataRequest } from '../../../hooks/logged-models/request.utils';\nimport { LoggedModelProto } from '../../../types';\nimport { getAjaxUrl } from '@mlflow/mlflow/src/common/utils/FetchUtils';\n\nexport const useExperimentLoggedModelDeleteModal = ({\n  loggedModel,\n  onSuccess,\n}: {\n  loggedModel?: LoggedModelProto | null;\n  onSuccess?: () => void | Promise<any>;\n}) => {\n  const [open, setOpen] = useState(false);\n\n  const mutation = useMutation<\n    unknown,\n    Error,\n    {\n      loggedModelId: string;\n    }\n  >({\n    mutationFn: async ({ loggedModelId }) => {\n      await loggedModelsDataRequest(getAjaxUrl(`ajax-api/2.0/mlflow/logged-models/${loggedModelId}`), 'DELETE');\n    },\n  });\n\n  const { mutate, isLoading, reset: resetMutation } = mutation;\n\n  const modalElement = (\n    <Modal\n      componentId=\"mlflow.logged_model.details.delete_modal\"\n      visible={open}\n      onCancel={() => setOpen(false)}\n      title={\n        <FormattedMessage\n          defaultMessage=\"Delete logged model\"\n          description=\"A header of the modal used for deleting logged models\"\n        />\n      }\n      okText={\n        <FormattedMessage\n          defaultMessage=\"Delete\"\n          description=\"A confirmation label of the modal used for deleting logged models\"\n        />\n      }\n      okButtonProps={{ danger: true, loading: isLoading }}\n      onOk={async () => {\n        if (!loggedModel?.info?.model_id) {\n          setOpen(false);\n          return;\n        }\n        mutate(\n          {\n            loggedModelId: loggedModel.info.model_id,\n          },\n          {\n            onSuccess: () => {\n              onSuccess?.();\n              setOpen(false);\n            },\n          },\n        );\n      }}\n      cancelText={\n        <FormattedMessage\n          defaultMessage=\"Cancel\"\n          description=\"A cancel label for the modal used for deleting logged models\"\n        />\n      }\n    >\n      {mutation.error?.message && (\n        <>\n          <Alert\n            componentId=\"mlflow.logged_model.details.delete_modal.error\"\n            closable={false}\n            message={mutation.error.message}\n            type=\"error\"\n          />\n          <Spacer />\n        </>\n      )}\n      <FormattedMessage\n        defaultMessage=\"Are you sure you want to delete this logged model?\"\n        description=\"A content of the delete logged model confirmation modal\"\n      />\n    </Modal>\n  );\n\n  const openModal = useCallback(() => {\n    resetMutation();\n    setOpen(true);\n  }, [resetMutation]);\n\n  return { modalElement, openModal };\n};\n","import { NavigationMenu } from '@databricks/design-system';\nimport { Link } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\n\nimport { FormattedMessage } from 'react-intl';\n\nexport const ExperimentLoggedModelDetailsNav = ({\n  experimentId,\n  modelId,\n  activeTabName,\n}: {\n  experimentId: string;\n  modelId: string;\n  activeTabName?: string;\n}) => {\n  return (\n    <NavigationMenu.Root>\n      <NavigationMenu.List>\n        <NavigationMenu.Item key=\"overview\" active={!activeTabName}>\n          <Link to={Routes.getExperimentLoggedModelDetailsPageRoute(experimentId, modelId)}>\n            <FormattedMessage\n              defaultMessage=\"Overview\"\n              description=\"Label for the overview tab on the logged model details page\"\n            />\n          </Link>\n        </NavigationMenu.Item>\n        {/* TODO: Implement when available */}\n        {/* <NavigationMenu.Item key=\"evaluations\" active={activeTabName === 'evaluations'}>\n          <Link to={Routes.getExperimentLoggedModelDetailsPageRoute(experimentId, modelId, 'evaluations')}>\n            <FormattedMessage\n              defaultMessage=\"Evaluations\"\n              description=\"Label for the evaluations tab on the logged model details page\"\n            />\n          </Link>\n        </NavigationMenu.Item> */}\n        <NavigationMenu.Item key=\"traces\" active={activeTabName === 'traces'}>\n          <Link to={Routes.getExperimentLoggedModelDetailsPageRoute(experimentId, modelId, 'traces')}>\n            <FormattedMessage\n              defaultMessage=\"Traces\"\n              description=\"Label for the traces tab on the logged model details page\"\n            />\n          </Link>\n        </NavigationMenu.Item>\n        <NavigationMenu.Item key=\"artifacts\" active={activeTabName === 'artifacts'}>\n          <Link to={Routes.getExperimentLoggedModelDetailsPageRoute(experimentId, modelId, 'artifacts')}>\n            <FormattedMessage\n              defaultMessage=\"Artifacts\"\n              description=\"Label for the artifacts tab on the logged model details page\"\n            />\n          </Link>\n        </NavigationMenu.Item>\n      </NavigationMenu.List>\n    </NavigationMenu.Root>\n  );\n};\n","import { useState } from 'react';\nimport { EditableNote } from '../../../common/components/EditableNote';\nimport type { LoggedModelProto } from '../../types';\nimport { NOTE_CONTENT_TAG } from '../../utils/NoteUtils';\nimport { Button, PencilIcon, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { usePatchLoggedModelsTags } from '../../hooks/logged-models/usePatchLoggedModelsTags';\nimport { useUserActionErrorHandler } from '@databricks/web-shared/metrics';\n\n/**\n * Displays editable description section in logged model detail overview.\n */\nexport const ExperimentLoggedModelDescription = ({\n  loggedModel,\n  onDescriptionChanged,\n}: {\n  loggedModel?: LoggedModelProto;\n  onDescriptionChanged: () => void | Promise<void>;\n}) => {\n  const descriptionContent = loggedModel?.info?.tags?.find((tag) => tag.key === NOTE_CONTENT_TAG)?.value ?? undefined;\n\n  const [showNoteEditor, setShowDescriptionEditor] = useState(false);\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n  const { patch } = usePatchLoggedModelsTags({ loggedModelId: loggedModel?.info?.model_id });\n  const { handleError } = useUserActionErrorHandler();\n\n  const handleSubmitEditDescription = async (markdown: string) => {\n    try {\n      await patch({ [NOTE_CONTENT_TAG]: markdown });\n      await onDescriptionChanged();\n      setShowDescriptionEditor(false);\n    } catch (error: any) {\n      handleError(error);\n    }\n  };\n\n  const handleCancelEditDescription = () => setShowDescriptionEditor(false);\n\n  const isEmpty = !descriptionContent;\n\n  return (\n    <div css={{ marginBottom: theme.spacing.md }}>\n      <Typography.Title level={4} css={{ display: 'flex', alignItems: 'center', gap: theme.spacing.xs }}>\n        <FormattedMessage\n          defaultMessage=\"Description\"\n          description=\"Label for descriptions section on the logged models details page\"\n        />\n        <Button\n          componentId=\"mlflow.logged_models.details.description.edit\"\n          size=\"small\"\n          type=\"tertiary\"\n          aria-label={intl.formatMessage({\n            defaultMessage: 'Edit description',\n            description: 'Label for the edit description button on the logged models details page',\n          })}\n          onClick={() => setShowDescriptionEditor(true)}\n          icon={<PencilIcon />}\n        />\n      </Typography.Title>\n      {isEmpty && !showNoteEditor && (\n        <Typography.Hint>\n          <FormattedMessage\n            defaultMessage=\"No description\"\n            description=\"Placeholder text when no description is provided for the logged model displayed in the logged models details page\"\n          />\n        </Typography.Hint>\n      )}\n      {(!isEmpty || showNoteEditor) && (\n        <EditableNote\n          defaultMarkdown={descriptionContent}\n          onSubmit={handleSubmitEditDescription}\n          onCancel={handleCancelEditDescription}\n          showEditor={showNoteEditor}\n        />\n      )}\n    </div>\n  );\n};\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { entries } from 'lodash';\nimport { loggedModelsDataRequest } from './request.utils';\nimport { getAjaxUrl } from '@mlflow/mlflow/src/common/utils/FetchUtils';\n\nexport const usePatchLoggedModelsTags = ({ loggedModelId }: { loggedModelId?: string }) => {\n  const { isLoading, error, mutateAsync } = useMutation<unknown, Error, Record<string, string>>({\n    mutationFn: async (variables) => {\n      const requestBody = {\n        tags: entries(variables).map(([key, value]) => ({ key, value })),\n      };\n\n      return loggedModelsDataRequest(\n        getAjaxUrl(`ajax-api/2.0/mlflow/logged-models/${loggedModelId}/tags`),\n        'PATCH',\n        requestBody,\n      );\n    },\n  });\n\n  return {\n    isLoading,\n    error,\n    patch: mutateAsync,\n  } as const;\n};\n","import type { CellContext, ColumnDefTemplate } from '@tanstack/react-table';\nimport { Link } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\n\nexport const ExperimentLoggedModelDetailsTableRunCellRenderer: ColumnDefTemplate<\n  CellContext<\n    unknown,\n    {\n      runId?: string | null;\n      runName?: string | null;\n      experimentId?: string | null;\n    }\n  >\n> = ({ getValue }) => {\n  const { runName, runId } = getValue() ?? {};\n\n  return <Link to={Routes.getDirectRunPageRoute(runId ?? '')}>{runName || runId}</Link>;\n};\n","import {\n  Empty,\n  Input,\n  SearchIcon,\n  Table,\n  TableCell,\n  TableHeader,\n  TableIcon,\n  TableRow,\n  TableSkeleton,\n  Typography,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useMemo, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport {\n  type CellContext,\n  type ColumnDef,\n  type ColumnDefTemplate,\n  flexRender,\n  getCoreRowModel,\n  getExpandedRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport type { LoggedModelProto, LoggedModelMetricProto, RunEntity } from '../../types';\nimport { ExperimentLoggedModelDetailsTableRunCellRenderer } from './ExperimentLoggedModelDetailsTableRunCellRenderer';\nimport { ExperimentLoggedModelDatasetButton } from './ExperimentLoggedModelDatasetButton';\nimport { useExperimentTrackingDetailsPageLayoutStyles } from '../../hooks/useExperimentTrackingDetailsPageLayoutStyles';\n\ninterface LoggedModelMetricWithRunData extends LoggedModelMetricProto {\n  experimentId?: string | null;\n  runName?: string | null;\n}\n\ntype MetricTableCellRenderer = ColumnDefTemplate<CellContext<LoggedModelMetricWithRunData, unknown>>;\ntype ColumnMeta = {\n  styles?: React.CSSProperties;\n};\n\nconst SingleDatasetCellRenderer = ({\n  getValue,\n}: CellContext<\n  LoggedModelMetricProto,\n  {\n    datasetName: string;\n    datasetDigest: string;\n    runId: string | null;\n  }\n>) => {\n  const { datasetDigest, datasetName, runId } = getValue();\n\n  if (!datasetName) {\n    return '-';\n  }\n\n  return <ExperimentLoggedModelDatasetButton datasetName={datasetName} datasetDigest={datasetDigest} runId={runId} />;\n};\n\nexport const ExperimentLoggedModelDetailsMetricsTable = ({\n  loggedModel,\n  relatedRunsData,\n  relatedRunsLoading,\n}: {\n  loggedModel?: LoggedModelProto;\n  relatedRunsData?: RunEntity[];\n  relatedRunsLoading?: boolean;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const {\n    usingUnifiedDetailsLayout,\n    detailsPageTableStyles,\n    detailsPageNoEntriesStyles,\n    detailsPageNoResultsWrapperStyles,\n  } = useExperimentTrackingDetailsPageLayoutStyles();\n  const intl = useIntl();\n  const [filter, setFilter] = useState('');\n\n  const metricsWithRunData = useMemo(() => {\n    if (relatedRunsLoading) {\n      return [];\n    }\n    return (\n      loggedModel?.data?.metrics?.map((metric) => {\n        const runName = relatedRunsData?.find((run) => run.info?.runUuid === metric.run_id)?.info?.runName;\n        return {\n          ...metric,\n          experimentId: loggedModel.info?.experiment_id,\n          runName,\n        };\n      }) ?? []\n    );\n  }, [loggedModel, relatedRunsLoading, relatedRunsData]);\n\n  const filteredMetrics = useMemo(\n    () =>\n      metricsWithRunData.filter(({ key, dataset_name, dataset_digest, runName }) => {\n        const filterLower = filter.toLowerCase();\n        return (\n          key?.toLowerCase().includes(filterLower) ||\n          dataset_name?.toLowerCase().includes(filterLower) ||\n          dataset_digest?.toLowerCase().includes(filterLower) ||\n          runName?.toLowerCase().includes(filterLower)\n        );\n      }),\n    [filter, metricsWithRunData],\n  );\n\n  const columns = useMemo<ColumnDef<LoggedModelMetricWithRunData>[]>(\n    () => [\n      {\n        id: 'metric',\n        accessorKey: 'key',\n        header: intl.formatMessage({\n          defaultMessage: 'Metric',\n          description: 'Label for the metric column in the logged model details metrics table',\n        }),\n        enableResizing: true,\n        size: 240,\n      },\n      {\n        id: 'dataset',\n        header: intl.formatMessage({\n          defaultMessage: 'Dataset',\n          description: 'Label for the dataset column in the logged model details metrics table',\n        }),\n        accessorFn: ({ dataset_name: datasetName, dataset_digest: datasetDigest, run_id: runId }) => ({\n          datasetName,\n          datasetDigest,\n          runId,\n        }),\n        enableResizing: true,\n        cell: SingleDatasetCellRenderer as MetricTableCellRenderer,\n      },\n      {\n        id: 'sourceRun',\n        header: intl.formatMessage({\n          defaultMessage: 'Source run',\n          description:\n            \"Label for the column indicating a run being the source of the logged model's metric (i.e. source run). Displayed in the logged model details metrics table.\",\n        }),\n        accessorFn: ({ run_id: runId, runName, experimentId }) => ({\n          runId,\n          runName,\n          experimentId,\n        }),\n        enableResizing: true,\n        cell: ExperimentLoggedModelDetailsTableRunCellRenderer as MetricTableCellRenderer,\n      },\n      {\n        id: 'value',\n        header: intl.formatMessage({\n          defaultMessage: 'Value',\n          description: 'Label for the value column in the logged model details metrics table',\n        }),\n        accessorKey: 'value',\n        // In full-width layout, let \"Value\" fill the remaining space\n        enableResizing: !usingUnifiedDetailsLayout,\n        meta: usingUnifiedDetailsLayout\n          ? {\n              styles: {\n                minWidth: 120,\n              },\n            }\n          : {},\n      },\n    ],\n    [intl, usingUnifiedDetailsLayout],\n  );\n\n  const table = useReactTable({\n    data: filteredMetrics,\n    getCoreRowModel: getCoreRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getRowId: (row) => [row.key, row.dataset_digest, row.run_id].join('.') ?? '',\n    enableColumnResizing: true,\n    columnResizeMode: 'onChange',\n    columns,\n  });\n\n  const renderTableContent = () => {\n    if (relatedRunsLoading) {\n      return <TableSkeleton lines={3} />;\n    }\n    if (!metricsWithRunData.length) {\n      return (\n        <div css={detailsPageNoEntriesStyles}>\n          <Empty\n            description={\n              <FormattedMessage\n                defaultMessage=\"No metrics recorded\"\n                description=\"Placeholder text when no metrics are recorded for a logged model\"\n              />\n            }\n          />\n        </div>\n      );\n    }\n\n    const areAllResultsFiltered = filteredMetrics.length < 1;\n\n    return (\n      <>\n        <div css={{ marginBottom: theme.spacing.sm }}>\n          <Input\n            componentId=\"mlflow.logged_model.details.metrics.table.search\"\n            prefix={<SearchIcon />}\n            placeholder={intl.formatMessage({\n              defaultMessage: 'Search metrics',\n              description: 'Placeholder text for the search input in the logged model details metrics table',\n            })}\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n            allowClear\n          />\n        </div>\n        <Table\n          ref={(element) => element?.setAttribute('data-testid', 'logged-model-details-metrics-table')}\n          scrollable\n          empty={\n            areAllResultsFiltered ? (\n              <div css={detailsPageNoResultsWrapperStyles}>\n                <Empty\n                  description={\n                    <FormattedMessage\n                      defaultMessage=\"No metrics match the search filter\"\n                      description=\"Message displayed when no metrics match the search filter in the logged model details metrics table\"\n                    />\n                  }\n                />\n              </div>\n            ) : null\n          }\n          css={detailsPageTableStyles}\n        >\n          <TableRow isHeader>\n            {table.getLeafHeaders().map((header, index) => (\n              <TableHeader\n                componentId=\"mlflow.logged_model.details.metrics.table.header\"\n                key={header.id}\n                header={header}\n                column={header.column}\n                setColumnSizing={table.setColumnSizing}\n                isResizing={header.column.getIsResizing()}\n                css={{\n                  flexGrow: header.column.getCanResize() ? 0 : 1,\n                  ...(header.column.columnDef.meta as ColumnMeta)?.styles,\n                }}\n                style={{\n                  flexBasis: header.column.getCanResize() ? header.column.getSize() : undefined,\n                }}\n              >\n                {flexRender(header.column.columnDef.header, header.getContext())}\n              </TableHeader>\n            ))}\n          </TableRow>\n          {table.getRowModel().rows.map((row) => (\n            <TableRow key={row.id}>\n              {row.getAllCells().map((cell) => (\n                <TableCell\n                  key={cell.id}\n                  style={{\n                    flexGrow: cell.column.getCanResize() ? 0 : 1,\n                    flexBasis: cell.column.getCanResize() ? cell.column.getSize() : undefined,\n                  }}\n                  css={{\n                    ...(cell.column.columnDef.meta as ColumnMeta)?.styles,\n                  }}\n                >\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </Table>\n      </>\n    );\n  };\n\n  return (\n    <div css={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\n      <Typography.Title level={4}>\n        <FormattedMessage\n          defaultMessage=\"Metrics ({length})\"\n          description=\"Header for the metrics table on the logged model details page. (Length) is the number of metrics currently displayed.\"\n          values={{ length: metricsWithRunData.length }}\n        />\n      </Typography.Title>\n      <div\n        css={{\n          padding: theme.spacing.sm,\n          border: `1px solid ${theme.colors.borderDecorative}`,\n          borderRadius: theme.general.borderRadiusBase,\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n        }}\n      >\n        {renderTableContent()}\n      </div>\n    </div>\n  );\n};\n","import {\n  Empty,\n  Input,\n  Overflow,\n  SearchIcon,\n  Table,\n  TableCell,\n  TableHeader,\n  TableRow,\n  TableSkeleton,\n  Typography,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport {\n  CellContext,\n  ColumnDef,\n  ColumnDefTemplate,\n  flexRender,\n  getCoreRowModel,\n  getExpandedRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport { entries, groupBy, isEmpty, uniqBy } from 'lodash';\nimport { useMemo, useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { LoggedModelProto, RunEntity } from '../../types';\nimport { ExperimentLoggedModelDetailsTableRunCellRenderer } from './ExperimentLoggedModelDetailsTableRunCellRenderer';\nimport { ExperimentLoggedModelDatasetButton } from './ExperimentLoggedModelDatasetButton';\nimport { useExperimentTrackingDetailsPageLayoutStyles } from '../../hooks/useExperimentTrackingDetailsPageLayoutStyles';\n\ninterface RunsTableRow {\n  experimentId?: string;\n  runName?: string;\n  runId: string;\n  datasets: {\n    datasetName: string;\n    datasetDigest: string;\n    runId: string;\n  }[];\n}\n\ntype RunsTableCellRenderer = ColumnDefTemplate<CellContext<RunsTableRow, unknown>>;\n\nconst DatasetListCellRenderer = ({ getValue }: CellContext<RunsTableRow, RunsTableRow['datasets']>) => {\n  const datasets = getValue() ?? [];\n\n  if (isEmpty(datasets)) {\n    return <>-</>;\n  }\n\n  return (\n    <Overflow>\n      {datasets.map(({ datasetDigest, datasetName, runId }) => (\n        <ExperimentLoggedModelDatasetButton\n          datasetName={datasetName}\n          datasetDigest={datasetDigest}\n          runId={runId}\n          key={[datasetName, datasetDigest].join('.')}\n        />\n      ))}\n    </Overflow>\n  );\n};\n\nexport const ExperimentLoggedModelDetailsPageRunsTable = ({\n  loggedModel,\n  relatedRunsData,\n  relatedRunsLoading,\n}: {\n  loggedModel?: LoggedModelProto;\n  relatedRunsData?: RunEntity[];\n  relatedRunsLoading?: boolean;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const { detailsPageTableStyles, detailsPageNoEntriesStyles, detailsPageNoResultsWrapperStyles } =\n    useExperimentTrackingDetailsPageLayoutStyles();\n  const intl = useIntl();\n  const [filter, setFilter] = useState('');\n\n  const runsWithDatasets = useMemo(() => {\n    if (relatedRunsLoading) {\n      return [];\n    }\n    const allMetrics = loggedModel?.data?.metrics ?? [];\n    const runsByDatasets = groupBy(allMetrics, 'run_id');\n    if (loggedModel?.info?.source_run_id && !runsByDatasets[loggedModel.info.source_run_id]) {\n      runsByDatasets[loggedModel.info.source_run_id] = [];\n    }\n    return entries(runsByDatasets).map(([runId, metrics]) => {\n      // Locate unique dataset entries\n      const distinctDatasets = uniqBy(metrics, 'dataset_name')\n        .map(({ dataset_digest, dataset_name }) => ({\n          datasetDigest: dataset_digest,\n          datasetName: dataset_name,\n          runId,\n        }))\n        .filter((dataset) => Boolean(dataset.datasetName) || Boolean(dataset.datasetDigest));\n\n      const runName = relatedRunsData?.find((run) => run.info?.runUuid === runId)?.info?.runName;\n      return {\n        runId,\n        runName,\n        datasets: distinctDatasets,\n        experimentId: loggedModel?.info?.experiment_id,\n      };\n    });\n  }, [loggedModel, relatedRunsLoading, relatedRunsData]);\n\n  const filteredRunsWithDatasets = useMemo(\n    () =>\n      runsWithDatasets.filter(({ runName, datasets }) => {\n        const filterLower = filter.toLowerCase();\n        return (\n          runName?.toLowerCase().includes(filterLower) ||\n          datasets.find((d) => d.datasetName?.toLowerCase().includes(filterLower))\n        );\n      }),\n    [filter, runsWithDatasets],\n  );\n\n  const columns = useMemo<ColumnDef<any>[]>(\n    () => [\n      {\n        id: 'run',\n        header: intl.formatMessage({\n          defaultMessage: 'Run',\n          description: 'Column header for the run name in the runs table on the logged model details page',\n        }),\n        enableResizing: true,\n        size: 240,\n        accessorFn: ({ runId, runName, experimentId }) => ({\n          runId,\n          runName,\n          experimentId,\n        }),\n        cell: ExperimentLoggedModelDetailsTableRunCellRenderer as RunsTableCellRenderer,\n      },\n      {\n        id: 'input',\n        header: intl.formatMessage({\n          defaultMessage: 'Input',\n          description: 'Column header for the input in the runs table on the logged model details page',\n        }),\n        accessorKey: 'datasets',\n        enableResizing: false,\n        cell: DatasetListCellRenderer as RunsTableCellRenderer,\n      },\n    ],\n    [intl],\n  );\n\n  const table = useReactTable({\n    data: filteredRunsWithDatasets,\n    getCoreRowModel: getCoreRowModel(),\n    getExpandedRowModel: getExpandedRowModel(),\n    getRowId: (row) => row.key,\n    enableColumnResizing: true,\n    columnResizeMode: 'onChange',\n    columns,\n  });\n\n  const renderTableContent = () => {\n    if (relatedRunsLoading) {\n      return <TableSkeleton lines={3} />;\n    }\n    if (!runsWithDatasets.length) {\n      return (\n        <div css={detailsPageNoEntriesStyles}>\n          <Empty\n            description={\n              <FormattedMessage\n                defaultMessage=\"No runs\"\n                description=\"Placeholder text for the runs table on the logged model details page when there are no runs\"\n              />\n            }\n          />\n        </div>\n      );\n    }\n\n    const areAllResultsFiltered = filteredRunsWithDatasets.length < 1;\n\n    return (\n      <>\n        <div css={{ marginBottom: theme.spacing.sm }}>\n          <Input\n            componentId=\"mlflow.logged_model.details.runs.table.search\"\n            prefix={<SearchIcon />}\n            placeholder={intl.formatMessage({\n              defaultMessage: 'Search runs',\n              description: 'Placeholder text for the search input in the runs table on the logged model details page',\n            })}\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n            allowClear\n          />\n        </div>\n        <Table\n          scrollable\n          ref={(element) => element?.setAttribute('data-testid', 'logged-model-details-runs-table')}\n          empty={\n            areAllResultsFiltered ? (\n              <div css={detailsPageNoResultsWrapperStyles}>\n                <Empty\n                  description={\n                    <FormattedMessage\n                      defaultMessage=\"No runs match the search filter\"\n                      description=\"No results message for the runs table on the logged model details page\"\n                    />\n                  }\n                />\n              </div>\n            ) : null\n          }\n          css={detailsPageTableStyles}\n        >\n          <TableRow isHeader>\n            {table.getLeafHeaders().map((header, index) => (\n              <TableHeader\n                componentId=\"mlflow.logged_model.details.runs.table.header\"\n                key={header.id}\n                header={header}\n                column={header.column}\n                setColumnSizing={table.setColumnSizing}\n                isResizing={header.column.getIsResizing()}\n                css={{\n                  flexGrow: header.column.getCanResize() ? 0 : 1,\n                }}\n                style={{\n                  flexBasis: header.column.getCanResize() ? header.column.getSize() : undefined,\n                }}\n              >\n                {flexRender(header.column.columnDef.header, header.getContext())}\n              </TableHeader>\n            ))}\n          </TableRow>\n          {table.getRowModel().rows.map((row) => (\n            <TableRow key={row.id}>\n              {row.getAllCells().map((cell) => (\n                <TableCell\n                  key={cell.id}\n                  style={{\n                    flexGrow: cell.column.getCanResize() ? 0 : 1,\n                    flexBasis: cell.column.getCanResize() ? cell.column.getSize() : undefined,\n                  }}\n                  multiline\n                >\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </Table>\n      </>\n    );\n  };\n\n  return (\n    <div css={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\n      <Typography.Title css={{ fontSize: 16 }}>Runs</Typography.Title>\n      <div\n        css={{\n          padding: theme.spacing.sm,\n          border: `1px solid ${theme.colors.borderDecorative}`,\n          borderRadius: theme.general.borderRadiusBase,\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n        }}\n      >\n        {renderTableContent()}\n      </div>\n    </div>\n  );\n};\n","import { Overflow } from '@databricks/design-system';\nimport { useMemo } from 'react';\nimport { type LoggedModelProto } from '../../types';\nimport { ExperimentLoggedModelDatasetButton } from './ExperimentLoggedModelDatasetButton';\n\nexport const ExperimentLoggedModelAllDatasetsList = ({\n  loggedModel,\n  empty,\n}: {\n  loggedModel: LoggedModelProto;\n  empty?: React.ReactElement;\n}) => {\n  const uniqueDatasets = useMemo(() => {\n    const allMetrics = loggedModel.data?.metrics ?? [];\n    return allMetrics.reduce<{ dataset_name: string; dataset_digest: string; run_id: string | undefined }[]>(\n      (aggregate, { dataset_digest, dataset_name, run_id }) => {\n        if (\n          dataset_name &&\n          dataset_digest &&\n          !aggregate.find(\n            (dataset) => dataset.dataset_name === dataset_name && dataset.dataset_digest === dataset_digest,\n          )\n        ) {\n          aggregate.push({ dataset_name, dataset_digest, run_id });\n        }\n        return aggregate;\n      },\n      [],\n    );\n  }, [loggedModel]);\n\n  if (!uniqueDatasets.length) {\n    return empty ?? <>-</>;\n  }\n\n  return (\n    <Overflow>\n      {uniqueDatasets.map(({ dataset_digest, dataset_name, run_id }) => (\n        <ExperimentLoggedModelDatasetButton\n          datasetName={dataset_name}\n          datasetDigest={dataset_digest}\n          runId={run_id ?? null}\n          key={[dataset_name, dataset_digest].join('.')}\n        />\n      ))}\n    </Overflow>\n  );\n};\n","import { Overflow, Tag, useDesignSystemTheme } from '@databricks/design-system';\nimport { type LoggedModelProto } from '../../types';\nimport { useExperimentLoggedModelRegisteredVersions } from './hooks/useExperimentLoggedModelRegisteredVersions';\nimport { isEmpty } from 'lodash';\nimport { Link } from '../../../common/utils/RoutingUtils';\nimport { useMemo } from 'react';\nimport { ReactComponent as RegisteredModelOkIcon } from '../../../common/static/registered-model-grey-ok.svg';\n\nexport const ExperimentLoggedModelDetailsModelVersionsList = ({\n  loggedModel,\n  empty,\n}: {\n  loggedModel: LoggedModelProto;\n  empty?: React.ReactElement;\n}) => {\n  const loggedModels = useMemo(() => [loggedModel], [loggedModel]);\n  const { theme } = useDesignSystemTheme();\n  const { modelVersions } = useExperimentLoggedModelRegisteredVersions({ loggedModels });\n\n  if (isEmpty(modelVersions)) {\n    return empty ?? <>-</>;\n  }\n\n  return (\n    <Overflow>\n      {modelVersions?.map(({ displayedName, version, link }) => (\n        <Link\n          to={link}\n          key={`${displayedName}-${version}`}\n          css={{ display: 'flex', alignItems: 'center', gap: theme.spacing.sm }}\n        >\n          <span css={{ display: 'flex', alignItems: 'center', gap: theme.spacing.sm, wordBreak: 'break-all' }}>\n            <RegisteredModelOkIcon css={{ flexShrink: 0 }} /> {displayedName}{' '}\n          </span>\n          <Tag componentId=\"mlflow.logged_model.details.registered_model_version_tag\">v{version}</Tag>\n        </Link>\n      ))}\n    </Overflow>\n  );\n};\n","import { GenericSkeleton, useDesignSystemTheme } from '@databricks/design-system';\nimport { LoggedModelProto, RunEntity } from '../../../types';\nimport { useIntl } from 'react-intl';\nimport { ExperimentLoggedModelTableDateCell } from '../ExperimentLoggedModelTableDateCell';\nimport { ExperimentLoggedModelStatusIndicator } from '../ExperimentLoggedModelStatusIndicator';\nimport { DetailsOverviewCopyableIdBox } from '../../DetailsOverviewCopyableIdBox';\nimport { Link } from '../../../../common/utils/RoutingUtils';\nimport Routes from '../../../routes';\nimport { KeyValueProperty, NoneCell, AsideSections } from '@databricks/web-shared/utils';\nimport { ExperimentLoggedModelSourceBox } from '../ExperimentLoggedModelSourceBox';\nimport { ExperimentLoggedModelAllDatasetsList } from '../ExperimentLoggedModelAllDatasetsList';\nimport { ExperimentLoggedModelDetailsModelVersionsList } from '../ExperimentLoggedModelDetailsModelVersionsList';\nimport { MLFLOW_LOGGED_MODEL_USER_TAG } from '../../../constants';\n\nenum ExperimentLoggedModelDetailsMetadataSections {\n  DETAILS = 'DETAILS',\n  DATASETS = 'DATASETS',\n  MODEL_VERSIONS = 'MODEL_VERSIONS',\n}\n\nexport const useExperimentLoggedModelDetailsMetadataV2 = ({\n  loggedModel,\n  relatedRunsLoading,\n  relatedSourceRun,\n}: {\n  loggedModel?: LoggedModelProto;\n  relatedRunsLoading?: boolean;\n  relatedSourceRun?: RunEntity;\n}): AsideSections => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  const detailsContent = loggedModel && (\n    <>\n      <KeyValueProperty\n        keyValue={intl.formatMessage({\n          defaultMessage: 'Created at',\n          description: 'Label for the creation timestamp of a logged model on the logged model details page',\n        })}\n        value={<ExperimentLoggedModelTableDateCell value={loggedModel?.info?.creation_timestamp_ms} />}\n      />\n      <KeyValueProperty\n        keyValue={intl.formatMessage({\n          defaultMessage: 'Created by',\n          description: 'Label for the creator of a logged model on the logged model details page',\n        })}\n        value={loggedModel.info?.tags?.find((tag) => tag.key === MLFLOW_LOGGED_MODEL_USER_TAG)?.value ?? '-'}\n      />\n      <KeyValueProperty\n        keyValue={intl.formatMessage({\n          defaultMessage: 'Status',\n          description: 'Label for the status of a logged model on the logged model details page',\n        })}\n        value={<ExperimentLoggedModelStatusIndicator data={loggedModel} />}\n      />\n      <KeyValueProperty\n        keyValue={intl.formatMessage({\n          defaultMessage: 'Model ID',\n          description: 'Label for the model ID of a logged model on the logged model details page',\n        })}\n        value={\n          <DetailsOverviewCopyableIdBox\n            value={loggedModel.info?.model_id ?? ''}\n            css={{\n              whiteSpace: 'nowrap',\n            }}\n          />\n        }\n      />\n      {loggedModel.info?.source_run_id &&\n        loggedModel.info?.experiment_id &&\n        (relatedRunsLoading || relatedSourceRun) && (\n          <KeyValueProperty\n            keyValue={intl.formatMessage({\n              defaultMessage: 'Source run',\n              description: 'Label for the source run name of a logged model on the logged model details page',\n            })}\n            value={\n              // Display a skeleton while loading\n              relatedRunsLoading ? (\n                <GenericSkeleton css={{ width: 200, height: theme.spacing.md }} />\n              ) : (\n                <Link to={Routes.getRunPageRoute(loggedModel.info?.experiment_id, loggedModel.info?.source_run_id)}>\n                  {relatedSourceRun?.info?.runName}\n                </Link>\n              )\n            }\n          />\n        )}\n      {loggedModel.info?.source_run_id && (\n        <KeyValueProperty\n          keyValue={intl.formatMessage({\n            defaultMessage: 'Source run ID',\n            description: 'Label for the source run ID of a logged model on the logged model details page',\n          })}\n          value={\n            <DetailsOverviewCopyableIdBox\n              value={loggedModel.info?.source_run_id ?? ''}\n              element={\n                loggedModel.info?.experiment_id ? (\n                  <Link to={Routes.getRunPageRoute(loggedModel.info?.experiment_id, loggedModel.info?.source_run_id)}>\n                    {loggedModel.info?.source_run_id}\n                  </Link>\n                ) : undefined\n              }\n            />\n          }\n        />\n      )}\n      <KeyValueProperty\n        keyValue={intl.formatMessage({\n          defaultMessage: 'Logged from',\n          description:\n            'Label for the source (where it was logged from) of a logged model on the logged model details page. It can be e.g. a notebook or a file.',\n        })}\n        value={\n          <ExperimentLoggedModelSourceBox\n            loggedModel={loggedModel}\n            displayDetails\n            css={{ paddingTop: theme.spacing.xs, paddingBottom: theme.spacing.xs, wordBreak: 'break-all' }}\n          />\n        }\n      />\n    </>\n  );\n\n  return [\n    {\n      id: ExperimentLoggedModelDetailsMetadataSections.DETAILS,\n      title: intl.formatMessage({\n        defaultMessage: 'About this logged model',\n        description: 'Title for the details sidebar of a logged model on the logged model details page',\n      }),\n      content: detailsContent,\n    },\n    {\n      id: ExperimentLoggedModelDetailsMetadataSections.DATASETS,\n      title: intl.formatMessage({\n        defaultMessage: 'Datasets used',\n        description: 'Label for the datasets used by a logged model on the logged model details page',\n      }),\n      content: loggedModel && <ExperimentLoggedModelAllDatasetsList loggedModel={loggedModel} empty={<NoneCell />} />,\n    },\n    {\n      id: ExperimentLoggedModelDetailsMetadataSections.MODEL_VERSIONS,\n      title: intl.formatMessage({\n        defaultMessage: 'Model versions',\n        description: 'Label for the model versions of a logged model on the logged model details page',\n      }),\n      content: loggedModel && (\n        <ExperimentLoggedModelDetailsModelVersionsList empty={<NoneCell />} loggedModel={loggedModel} />\n      ),\n    },\n  ];\n};\n","import { Alert, GenericSkeleton, Spacer, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport type { LoggedModelProto } from '../../types';\nimport { KeyValueEntity } from '../../../common/types';\nimport { DetailsOverviewMetadataTable } from '../DetailsOverviewMetadataTable';\nimport { DetailsOverviewMetadataRow } from '../DetailsOverviewMetadataRow';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentLoggedModelTableDateCell } from './ExperimentLoggedModelTableDateCell';\nimport { ExperimentLoggedModelStatusIndicator } from './ExperimentLoggedModelStatusIndicator';\nimport { DetailsOverviewCopyableIdBox } from '../DetailsOverviewCopyableIdBox';\nimport { ExperimentLoggedModelDescription } from './ExperimentLoggedModelDescription';\nimport { DetailsOverviewParamsTable } from '../DetailsOverviewParamsTable';\nimport { useMemo } from 'react';\nimport { isEmpty, keyBy } from 'lodash';\nimport { ExperimentLoggedModelDetailsMetricsTable } from './ExperimentLoggedModelDetailsMetricsTable';\nimport { ExperimentLoggedModelDetailsPageRunsTable } from './ExperimentLoggedModelDetailsRunsTable';\nimport { useRelatedRunsDataForLoggedModels } from '../../hooks/logged-models/useRelatedRunsDataForLoggedModels';\nimport { Link } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\nimport { ExperimentLoggedModelAllDatasetsList } from './ExperimentLoggedModelAllDatasetsList';\nimport { ExperimentLoggedModelOpenDatasetDetailsContextProvider } from './hooks/useExperimentLoggedModelOpenDatasetDetails';\nimport { ExperimentLoggedModelDetailsModelVersionsList } from './ExperimentLoggedModelDetailsModelVersionsList';\nimport { useExperimentTrackingDetailsPageLayoutStyles } from '../../hooks/useExperimentTrackingDetailsPageLayoutStyles';\nimport { ExperimentLoggedModelSourceBox } from './ExperimentLoggedModelSourceBox';\nimport { DetailsPageLayout } from '../../../common/components/details-page-layout/DetailsPageLayout';\nimport { useExperimentLoggedModelDetailsMetadataV2 } from './hooks/useExperimentLoggedModelDetailsMetadataV2';\nimport { MLFLOW_LOGGED_MODEL_USER_TAG } from '../../constants';\n\nexport const ExperimentLoggedModelDetailsOverview = ({\n  onDataUpdated,\n  loggedModel,\n}: {\n  onDataUpdated: () => void | Promise<any>;\n  loggedModel?: LoggedModelProto;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const { usingUnifiedDetailsLayout } = useExperimentTrackingDetailsPageLayoutStyles();\n\n  // Fetch related runs data for the logged model\n  const {\n    data: relatedRunsData,\n    loading: relatedRunsLoading,\n    error: relatedRunsDataError,\n  } = useRelatedRunsDataForLoggedModels({ loggedModels: loggedModel ? [loggedModel] : [] });\n\n  const relatedSourceRun = useMemo(\n    () => relatedRunsData?.find((r) => r.info?.runUuid === loggedModel?.info?.source_run_id),\n    [loggedModel?.info?.source_run_id, relatedRunsData],\n  );\n\n  const paramsDictionary = useMemo(\n    () =>\n      keyBy(\n        (loggedModel?.data?.params ?? []).filter(({ key, value }) => !isEmpty(key) && !isEmpty(value)),\n        'key',\n      ) as Record<string, KeyValueEntity>,\n    [loggedModel?.data?.params],\n  );\n\n  const renderDetails = () => {\n    if (!loggedModel) {\n      return null;\n    }\n    return (\n      <DetailsOverviewMetadataTable>\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Created at\"\n              description=\"Label for the creation timestamp of a logged model on the logged model details page\"\n            />\n          }\n          value={<ExperimentLoggedModelTableDateCell value={loggedModel.info?.creation_timestamp_ms} />}\n        />\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Created by\"\n              description=\"Label for the creator of a logged model on the logged model details page\"\n            />\n          }\n          value={loggedModel.info?.tags?.find((tag) => tag.key === MLFLOW_LOGGED_MODEL_USER_TAG)?.value ?? '-'}\n        />\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Status\"\n              description=\"Label for the status of a logged model on the logged model details page\"\n            />\n          }\n          value={<ExperimentLoggedModelStatusIndicator data={loggedModel} />}\n        />\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Model ID\"\n              description=\"Label for the model ID of a logged model on the logged model details page\"\n            />\n          }\n          value={<DetailsOverviewCopyableIdBox value={loggedModel.info?.model_id ?? ''} />}\n        />\n        {/* If the logged model has a source run, display the source run name after its loaded */}\n        {loggedModel.info?.source_run_id &&\n          loggedModel.info?.experiment_id &&\n          (relatedRunsLoading || relatedSourceRun) && (\n            <DetailsOverviewMetadataRow\n              title={\n                <FormattedMessage\n                  defaultMessage=\"Source run\"\n                  description=\"Label for the source run name of a logged model on the logged model details page\"\n                />\n              }\n              value={\n                // Display a skeleton while loading\n                relatedRunsLoading ? (\n                  <GenericSkeleton css={{ width: 200, height: theme.spacing.md }} />\n                ) : (\n                  <Link to={Routes.getRunPageRoute(loggedModel.info?.experiment_id, loggedModel.info?.source_run_id)}>\n                    {relatedSourceRun?.info?.runName}\n                  </Link>\n                )\n              }\n            />\n          )}\n        {loggedModel.info?.source_run_id && (\n          <DetailsOverviewMetadataRow\n            title={\n              <FormattedMessage\n                defaultMessage=\"Source run ID\"\n                description=\"Label for the source run ID of a logged model on the logged model details page\"\n              />\n            }\n            value={<DetailsOverviewCopyableIdBox value={loggedModel.info?.source_run_id ?? ''} />}\n          />\n        )}\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Logged from\"\n              description=\"Label for the source (where it was logged from) of a logged model on the logged model details page. It can be e.g. a notebook or a file.\"\n            />\n          }\n          value={<ExperimentLoggedModelSourceBox loggedModel={loggedModel} displayDetails />}\n        />\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Datasets used\"\n              description=\"Label for the datasets used by a logged model on the logged model details page\"\n            />\n          }\n          value={<ExperimentLoggedModelAllDatasetsList loggedModel={loggedModel} />}\n        />\n        <DetailsOverviewMetadataRow\n          title={\n            <FormattedMessage\n              defaultMessage=\"Model versions\"\n              description=\"Label for the model versions of a logged model on the logged model details page\"\n            />\n          }\n          value={<ExperimentLoggedModelDetailsModelVersionsList loggedModel={loggedModel} />}\n        />\n      </DetailsOverviewMetadataTable>\n    );\n  };\n\n  const detailsSectionsV2 = useExperimentLoggedModelDetailsMetadataV2({\n    loggedModel,\n    relatedRunsLoading,\n    relatedSourceRun,\n  });\n\n  return (\n    <ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n      <DetailsPageLayout\n        css={{ flex: 1 }}\n        // Enable sidebar layout based on feature flag\n        usingSidebarLayout={usingUnifiedDetailsLayout}\n        secondarySections={detailsSectionsV2}\n      >\n        <ExperimentLoggedModelDescription loggedModel={loggedModel} onDescriptionChanged={onDataUpdated} />\n        {!usingUnifiedDetailsLayout && (\n          <>\n            <Typography.Title level={4}>\n              <FormattedMessage\n                defaultMessage=\"Details\"\n                description=\"Title for the details section on the logged model details page\"\n              />\n            </Typography.Title>\n            {renderDetails()}\n          </>\n        )}\n        {relatedRunsDataError?.message && (\n          <>\n            <Alert\n              closable={false}\n              message={\n                <FormattedMessage\n                  defaultMessage=\"Error when fetching related runs data: {error}\"\n                  description=\"Error message displayed when logged model details page couldn't fetch related runs data\"\n                  values={{\n                    error: relatedRunsDataError.message,\n                  }}\n                />\n              }\n              type=\"error\"\n              componentId=\"mlflow.logged_model.details.related_runs.error\"\n            />\n            <Spacer size=\"md\" />\n          </>\n        )}\n        <div\n          css={[\n            // Use different grid setup for unified details page layout\n            usingUnifiedDetailsLayout\n              ? {\n                  display: 'flex',\n                  flexDirection: 'column',\n                }\n              : {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gridTemplateRows: '400px 400px',\n                  marginBottom: theme.spacing.md,\n                },\n            { gap: theme.spacing.lg, overflow: 'hidden' },\n          ]}\n        >\n          <ExperimentLoggedModelDetailsMetricsTable\n            loggedModel={loggedModel}\n            relatedRunsLoading={relatedRunsLoading}\n            relatedRunsData={relatedRunsData ?? undefined}\n          />\n          <DetailsOverviewParamsTable params={paramsDictionary} />\n          <ExperimentLoggedModelDetailsPageRunsTable\n            loggedModel={loggedModel}\n            relatedRunsLoading={relatedRunsLoading}\n            relatedRunsData={relatedRunsData ?? undefined}\n          />\n        </div>\n      </DetailsPageLayout>\n    </ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n  );\n};\n","import type { LoggedModelProto } from '../../types';\nimport ArtifactPage from '../ArtifactPage';\n\nexport const ExperimentLoggedModelDetailsArtifacts = ({ loggedModel }: { loggedModel: LoggedModelProto }) => (\n  <div css={{ height: '100%', overflow: 'hidden', display: 'flex' }}>\n    <ArtifactPage\n      isLoggedModelsMode\n      loggedModelId={loggedModel.info?.model_id ?? ''}\n      artifactRootUri={loggedModel?.info?.artifact_uri ?? ''}\n      useAutoHeight\n      experimentId={loggedModel?.info?.experiment_id ?? ''}\n      entityTags={loggedModel?.info?.tags}\n    />\n  </div>\n);\n","import { Alert, CopyIcon, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { CodeSnippet } from '@databricks/web-shared/snippet';\nimport { FormattedMessage } from 'react-intl';\nimport { CopyButton } from '../../../shared/building_blocks/CopyButton';\n\nexport const ExperimentLoggedModelDetailsTracesIntroductionText = ({ modelId }: { modelId: string }) => {\n  const { theme } = useDesignSystemTheme();\n  const code = `import mlflow\n          \nmlflow.set_active_model(model_id=\"${modelId}\")`;\n\n  return (\n    <>\n      <Typography.Paragraph>\n        <FormattedMessage\n          defaultMessage=\"This tab displays all the traces logged to this logged model. MLflow supports automatic tracing for many popular generative AI frameworks. Follow the steps below to log your first trace. For more information about MLflow Tracing, visit the <a>MLflow documentation</a>.\"\n          description=\"Message that explains the function of the 'Traces' tab in logged model page. This message is followed by a tutorial explaining how to get started with MLflow Tracing.\"\n          values={{\n            a: (text: string) => (\n              <Typography.Link\n                componentId=\"mlflow.logged_model.traces.traces_table.quickstart_docs_link\"\n                href=\"https://mlflow.org/docs/latest/llms/tracing/index.html\"\n                openInNewTab\n              >\n                {text}\n              </Typography.Link>\n            ),\n          }}\n        />\n      </Typography.Paragraph>\n      <Typography.Paragraph>\n        <FormattedMessage\n          defaultMessage=\"You can start logging traces to this logged model by calling {code} first:\"\n          description='Introductory text for the code example for logging traces to an existing logged model. The code contains reference to \"mlflow.set_active_model\" function call'\n          values={{\n            code: <code>mlflow.set_active_model</code>,\n          }}\n        />\n      </Typography.Paragraph>\n      <Typography.Paragraph>\n        <div css={{ position: 'relative', width: 'min-content' }}>\n          <CopyButton\n            componentId=\"mlflow.logged_model.traces.traces_table.set_active_model_quickstart_snippet_copy\"\n            css={{ zIndex: 1, position: 'absolute', top: theme.spacing.xs, right: theme.spacing.xs }}\n            showLabel={false}\n            copyText={code}\n            icon={<CopyIcon />}\n          />\n          <CodeSnippet\n            showLineNumbers\n            theme={theme.isDarkMode ? 'duotoneDark' : 'light'}\n            style={{\n              padding: `${theme.spacing.sm}px ${theme.spacing.md}px`,\n            }}\n            language=\"python\"\n          >\n            {code}\n          </CodeSnippet>\n        </div>\n      </Typography.Paragraph>\n      <Typography.Paragraph>\n        <FormattedMessage\n          defaultMessage=\"Next, you can log traces to this logged model depending on your framework:\"\n          description=\"Introductory text for the code example for logging traces to an existing logged model. This part is displayed after the code example for setting the active model.\"\n        />\n      </Typography.Paragraph>\n    </>\n  );\n};\n","import { useEffect, useMemo } from 'react';\nimport type { LoggedModelProto } from '../../types';\nimport { TracesView } from '../traces/TracesView';\nimport { ExperimentLoggedModelDetailsTracesIntroductionText } from './ExperimentLoggedModelDetailsTracesIntroductionText';\nimport { TracesViewTableNoTracesQuickstartContextProvider } from '../traces/quickstart/TracesViewTableNoTracesQuickstartContext';\n\nexport const ExperimentLoggedModelDetailsTraces = ({ loggedModel }: { loggedModel: LoggedModelProto }) => {\n  const experimentIds = useMemo(() => [loggedModel.info?.experiment_id ?? ''], [loggedModel.info?.experiment_id]);\n\n  if (!loggedModel.info?.experiment_id) {\n    return null;\n  }\n  return (\n    <div css={{ height: '100%', overflow: 'hidden' }}>\n      <TracesViewTableNoTracesQuickstartContextProvider\n        introductionText={\n          loggedModel.info?.model_id && (\n            <ExperimentLoggedModelDetailsTracesIntroductionText modelId={loggedModel.info.model_id} />\n          )\n        }\n        displayVersionWarnings={false}\n      >\n        <TracesComponent experimentIds={experimentIds} loggedModelId={loggedModel.info?.model_id} />\n      </TracesViewTableNoTracesQuickstartContextProvider>\n    </div>\n  );\n};\n\nconst TracesComponent = ({\n  experimentIds,\n  loggedModelId,\n}: {\n  experimentIds: string[];\n  loggedModelId: string | undefined;\n}) => {\n  return (\n    <TracesView\n      experimentIds={experimentIds}\n      loggedModelId={loggedModelId}\n      baseComponentId=\"mlflow.logged_model.traces\"\n    />\n  );\n};\n","import { Alert, PageWrapper, TableSkeleton, useDesignSystemTheme } from '@databricks/design-system';\nimport invariant from 'invariant';\nimport { useParams } from '../../../common/utils/RoutingUtils';\nimport { ExperimentLoggedModelDetailsHeader } from '../../components/experiment-logged-models/ExperimentLoggedModelDetailsHeader';\nimport { ExperimentLoggedModelPageWrapper } from './ExperimentLoggedModelPageWrapper';\nimport { ExperimentLoggedModelDetailsNav } from '../../components/experiment-logged-models/ExperimentLoggedModelDetailsNav';\nimport { ExperimentLoggedModelDetailsOverview } from '../../components/experiment-logged-models/ExperimentLoggedModelDetailsOverview';\nimport { useGetLoggedModelQuery } from '../../hooks/logged-models/useGetLoggedModelQuery';\nimport { useGetExperimentQuery } from '../../hooks/useExperimentQuery';\nimport React from 'react';\nimport { ExperimentLoggedModelDetailsArtifacts } from '../../components/experiment-logged-models/ExperimentLoggedModelDetailsArtifacts';\nimport { useUserActionErrorHandler } from '@databricks/web-shared/metrics';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentLoggedModelDetailsTraces } from '../../components/experiment-logged-models/ExperimentLoggedModelDetailsTraces';\n\n/**\n * Temporary \"in construction\" placeholder box, to be removed after implementing the actual content.\n */\nconst PlaceholderBox = ({ children }: { children: React.ReactNode }) => {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: theme.spacing.md,\n        border: `4px dashed ${theme.colors.border}`,\n        marginBottom: theme.spacing.md,\n        flex: 1,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst ExperimentLoggedModelDetailsPageImpl = () => {\n  const { experimentId, loggedModelId, tabName } = useParams();\n  const { clearUserActionError, currentUserActionError } = useUserActionErrorHandler();\n\n  invariant(experimentId, 'Experiment ID must be defined');\n  invariant(loggedModelId, 'Logged model ID must be defined');\n\n  const { theme } = useDesignSystemTheme();\n  const {\n    data: loggedModel,\n    isLoading: loggedModelLoading,\n    error: loggedModelLoadError,\n    refetch,\n  } = useGetLoggedModelQuery({ loggedModelId });\n  const {\n    data: experimentData,\n    loading: experimentLoading,\n    apiError: experimentApiError,\n    apolloError: experimentApolloError,\n  } = useGetExperimentQuery({ experimentId });\n\n  // If there is an unrecoverable error loading the model, throw it to be handled by the error boundary\n  if (loggedModelLoadError) {\n    throw loggedModelLoadError;\n  }\n\n  const experimentLoadError = experimentApiError ?? experimentApolloError;\n\n  const renderSelectedTab = () => {\n    if (loggedModelLoading) {\n      return <TableSkeleton lines={12} />;\n    }\n\n    // TODO: implement error handling\n    if (!loggedModel) {\n      return null;\n    }\n\n    if (tabName === 'traces') {\n      return <ExperimentLoggedModelDetailsTraces loggedModel={loggedModel} />;\n    } else if (tabName === 'artifacts') {\n      return <ExperimentLoggedModelDetailsArtifacts loggedModel={loggedModel} />;\n    }\n\n    return <ExperimentLoggedModelDetailsOverview onDataUpdated={refetch} loggedModel={loggedModel} />;\n  };\n\n  return (\n    <>\n      <ExperimentLoggedModelDetailsHeader\n        experimentId={experimentId}\n        experiment={experimentData}\n        loggedModel={loggedModel}\n        loading={loggedModelLoading || experimentLoading}\n        onSuccess={refetch}\n      />\n      {currentUserActionError && (\n        <Alert\n          componentId=\"mlflow.logged_model.details.user-action-error\"\n          css={{ marginBottom: theme.spacing.sm }}\n          type=\"error\"\n          message={currentUserActionError.displayMessage ?? currentUserActionError.message}\n          onClose={clearUserActionError}\n        />\n      )}\n      {experimentLoadError?.message && (\n        <Alert\n          componentId=\"mlflow.logged_model.details.experiment-error\"\n          css={{ marginBottom: theme.spacing.sm }}\n          type=\"error\"\n          message={\n            <FormattedMessage\n              defaultMessage=\"Experiment load error: {errorMessage}\"\n              description=\"Error message displayed on logged models page when experiment data fails to load\"\n              values={{ errorMessage: experimentLoadError.message }}\n            />\n          }\n          closable={false}\n        />\n      )}\n      <ExperimentLoggedModelDetailsNav experimentId={experimentId} modelId={loggedModelId} activeTabName={tabName} />\n      <div css={{ overflow: 'auto', flex: 1 }}>{renderSelectedTab()}</div>\n    </>\n  );\n};\n\nconst ExperimentLoggedModelDetailsPage = () => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <ExperimentLoggedModelPageWrapper>\n      <PageWrapper\n        css={{\n          paddingTop: theme.spacing.md,\n          display: 'flex',\n          paddingBottom: theme.spacing.md,\n          overflow: 'hidden',\n          height: '100%',\n          flexDirection: 'column',\n        }}\n      >\n        <ExperimentLoggedModelDetailsPageImpl />\n      </PageWrapper>\n    </ExperimentLoggedModelPageWrapper>\n  );\n};\n\nexport default ExperimentLoggedModelDetailsPage;\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport Utils from '../../utils/Utils';\n\ntype Props = {\n  showServerError?: boolean;\n};\n\ntype State = any;\n\nexport class SectionErrorBoundary extends React.Component<Props, State> {\n  state = { error: null };\n\n  componentDidCatch(error: any, errorInfo: any) {\n    this.setState({ error });\n    // eslint-disable-next-line no-console -- TODO(FEINF-3587)\n    console.error(error, errorInfo);\n  }\n\n  renderErrorMessage(error: any) {\n    return this.props.showServerError ? <div>Error message: {error.message}</div> : '';\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error } = this.state;\n    if (error) {\n      return (\n        <div>\n          <p>\n            <i\n              data-testid=\"icon-fail\"\n              className=\"fa fa-exclamation-triangle mlflow-icon-fail\"\n              css={classNames.wrapper}\n            />\n            <span> Something went wrong with this section. </span>\n            <span>If this error persists, please report an issue </span>\n            {/* Reported during ESLint upgrade */}\n            {/* eslint-disable-next-line react/jsx-no-target-blank */}\n            <a href={Utils.getSupportPageUrl()} target=\"_blank\">\n              here\n            </a>\n            .{this.renderErrorMessage(error)}\n          </p>\n        </div>\n      );\n    }\n\n    return children;\n  }\n}\n\nconst classNames = {\n  wrapper: {\n    marginLeft: -2, // to align the failure icon with the collapsable section caret toggle\n  },\n};\n","import spinner from '../static/mlflow-spinner.png';\nimport { Interpolation, keyframes, Theme } from '@emotion/react';\n\ntype Props = {\n  showImmediately?: boolean;\n};\n\nexport function Spinner({ showImmediately }: Props) {\n  return (\n    <div css={(theme) => styles.spinner(theme, showImmediately)}>\n      <img alt=\"Page loading...\" src={spinner} />\n    </div>\n  );\n}\n\nconst styles = {\n  spinner: (theme: Theme, immediate?: boolean): Interpolation<Theme> => ({\n    width: 100,\n    marginTop: 100,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n\n    img: {\n      position: 'absolute',\n      opacity: 0,\n      top: '50%',\n      left: '50%',\n      width: theme.general.heightBase * 2,\n      height: theme.general.heightBase * 2,\n      marginTop: -theme.general.heightBase,\n      marginLeft: -theme.general.heightBase,\n      animation: `${keyframes`\n          0% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 1;\n            -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n            }\n          `} 3s linear infinite`,\n      animationDelay: immediate ? '0s' : '0.5s',\n    },\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getApis } from '../../experiment-tracking/reducers/Reducers';\nimport { Spinner } from './Spinner';\nimport { ErrorCodes } from '../constants';\nimport { ErrorWrapper } from '../utils/ErrorWrapper';\nimport { ReduxState } from '../../redux-types';\n\nexport const DEFAULT_ERROR_MESSAGE = 'A request error occurred.';\n\ntype RequestStateWrapperProps = {\n  children?: React.ReactNode;\n  customSpinner?: React.ReactNode;\n  shouldOptimisticallyRender?: boolean;\n  requests: any[];\n  requestIds?: string[];\n  requestIdsWith404sToIgnore?: string[];\n  description?: any; // TODO: PropTypes.oneOf(Object.values(LoadingDescription))\n  permissionDeniedView?: React.ReactNode;\n  suppressErrorThrow?: boolean;\n  customRequestErrorHandlerFn?: (\n    failedRequests: {\n      id: string;\n      active?: boolean;\n      error: Error | ErrorWrapper;\n    }[],\n  ) => void;\n};\n\ntype RequestStateWrapperState = any;\n\nexport class RequestStateWrapper extends Component<RequestStateWrapperProps, RequestStateWrapperState> {\n  static defaultProps = {\n    requests: [],\n    requestIdsWith404sToIgnore: [],\n    shouldOptimisticallyRender: false,\n  };\n\n  state = {\n    shouldRender: false,\n    shouldRenderError: false,\n  };\n\n  static getErrorRequests(requests: any, requestIdsWith404sToIgnore: any) {\n    return requests.filter((r: any) => {\n      if (r.error !== undefined) {\n        return !(\n          requestIdsWith404sToIgnore &&\n          requestIdsWith404sToIgnore.includes(r.id) &&\n          r.error.getErrorCode() === ErrorCodes.RESOURCE_DOES_NOT_EXIST\n        );\n      }\n      return false;\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps: any) {\n    const shouldRender = nextProps.requests.length\n      ? nextProps.requests.every((r: any) => r && r.active === false)\n      : false;\n\n    const requestErrors = RequestStateWrapper.getErrorRequests(\n      nextProps.requests,\n      nextProps.requestIdsWith404sToIgnore,\n    );\n\n    return {\n      shouldRender,\n      shouldRenderError: requestErrors.length > 0,\n      requestErrors,\n    };\n  }\n\n  getRenderedContent() {\n    const { children, requests, customSpinner, permissionDeniedView, suppressErrorThrow, customRequestErrorHandlerFn } =\n      this.props;\n    // @ts-expect-error TS(2339): Property 'requestErrors' does not exist on type '{... Remove this comment to see the full error message\n    const { shouldRender, shouldRenderError, requestErrors } = this.state;\n    const permissionDeniedErrors = requestErrors.filter((failedRequest: any) => {\n      return failedRequest.error.getErrorCode() === ErrorCodes.PERMISSION_DENIED;\n    });\n\n    if (typeof children === 'function') {\n      return children(!shouldRender, shouldRenderError, requests, requestErrors);\n    } else if (shouldRender || shouldRenderError || this.props.shouldOptimisticallyRender) {\n      if (permissionDeniedErrors.length > 0 && permissionDeniedView) {\n        return permissionDeniedView;\n      }\n      if (shouldRenderError && !suppressErrorThrow) {\n        customRequestErrorHandlerFn ? customRequestErrorHandlerFn(requestErrors) : triggerError(requestErrors);\n      }\n\n      return children;\n    }\n\n    return customSpinner || <Spinner />;\n  }\n\n  render() {\n    return this.getRenderedContent();\n  }\n}\n\nexport const triggerError = (requests: any) => {\n  // This triggers the OOPS error boundary.\n  // eslint-disable-next-line no-console -- TODO(FEINF-3587)\n  console.error('ERROR', requests);\n  throw Error(`${DEFAULT_ERROR_MESSAGE}: ${requests.error}`);\n};\n\nconst mapStateToProps = (state: ReduxState, ownProps: Omit<RequestStateWrapperProps, 'requests'>) => ({\n  requests: getApis(ownProps.requestIds, state),\n});\n\nexport default connect(mapStateToProps)(RequestStateWrapper);\n","import type { LoggedModelProto, RunEntity } from '../../types';\nimport { useEffect, useMemo } from 'react';\nimport { compact, sortBy, uniq } from 'lodash';\nimport { QueryFunctionContext, useQueries } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../sdk/MlflowService';\nimport { useArrayMemo } from '../../../common/hooks/useArrayMemo';\n\ntype UseRegisteredModelRelatedRunNamesQueryKey = ['USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS', { runUuid: string }];\n\nconst getQueryKey = (runUuid: string): UseRegisteredModelRelatedRunNamesQueryKey => [\n  'USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS',\n  { runUuid },\n];\n\nconst queryFn = async ({\n  queryKey: [, { runUuid }],\n}: QueryFunctionContext<UseRegisteredModelRelatedRunNamesQueryKey>): Promise<RunEntity | null> => {\n  try {\n    const data = await MlflowService.getRun({ run_id: runUuid });\n    return data?.run;\n  } catch (e) {\n    return null;\n  }\n};\n\n/**\n * Hook used to fetch necessary run data based on metadata found in logged models\n */\nexport const useRelatedRunsDataForLoggedModels = ({ loggedModels = [] }: { loggedModels?: LoggedModelProto[] }) => {\n  const runUuids = useMemo(() => {\n    // Extract all run ids found in metrics and source run ids\n    const allMetricRunUuids = compact(\n      loggedModels?.flatMap((loggedModel) => loggedModel?.data?.metrics?.map((metric) => metric.run_id)),\n    );\n    const allSourceRunUuids = compact(loggedModels?.map((loggedModel) => loggedModel?.info?.source_run_id));\n    const distinctRunUuids = sortBy(uniq([...allMetricRunUuids, ...allSourceRunUuids]));\n\n    return distinctRunUuids;\n  }, [loggedModels]);\n\n  const queryResults = useQueries({\n    queries: runUuids.map((runUuid) => ({\n      queryKey: getQueryKey(runUuid),\n      queryFn,\n      cacheTime: Infinity,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false,\n      retry: false,\n    })),\n  });\n\n  const loading = queryResults.some(({ isLoading }) => isLoading);\n  const error = queryResults.find(({ error }) => error)?.error as Error | undefined;\n\n  const memoizedQueryResults = useArrayMemo(queryResults.map(({ data }) => data));\n\n  const data = useMemo(\n    () => memoizedQueryResults.map((data) => data).filter(Boolean) as RunEntity[],\n    [memoizedQueryResults],\n  );\n\n  return {\n    data,\n    loading,\n    error,\n  };\n};\n","import { useRef } from 'react';\n\n/**\n * A custom hook that memoizes an array based on the reference of its elements, not the array itself.\n */\nexport function useArrayMemo<T>(array: T[]) {\n  // This holds reference to previous value\n  const ref = useRef<T[]>();\n  // Check if each element of the old and new array match\n  const areArraysConsideredTheSame =\n    ref.current && array.length === ref.current.length\n      ? array.every((element, i) => {\n          return element === ref.current?.[i];\n        })\n      : // Initially there's no old array defined/stored, so set to false\n        false;\n\n  if (!areArraysConsideredTheSame) {\n    ref.current = array;\n  }\n\n  return areArraysConsideredTheSame && ref.current ? ref.current : array;\n}\n","import React from 'react';\nimport { CodeSnippet } from '@databricks/web-shared/snippet';\nimport { isObject } from 'lodash';\n\ninterface JsonPreviewProps {\n  json: string;\n  wrapperStyle?: React.CSSProperties;\n  overlayStyle?: React.CSSProperties;\n  codeSnippetStyle?: React.CSSProperties;\n}\n\nexport const JsonPreview: React.FC<JsonPreviewProps> = ({ json, wrapperStyle, overlayStyle, codeSnippetStyle }) => {\n  const { formattedJson, isJsonContent } = useFormattedJson(json);\n\n  const defaultWrapperStyle: React.CSSProperties = {\n    position: 'relative',\n    maxHeight: 'calc(1.5em * 9)',\n    overflow: 'hidden',\n  };\n\n  const defaultOverlayStyle: React.CSSProperties = {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    left: 6,\n    height: '2em',\n    background: 'linear-gradient(transparent, white)',\n  };\n\n  const defaultCodeSnippetStyle: React.CSSProperties = {\n    padding: '5px',\n    overflowX: 'hidden',\n  };\n\n  return (\n    <div style={{ ...defaultWrapperStyle, ...wrapperStyle }}>\n      {isJsonContent ? (\n        <>\n          <CodeSnippet language=\"json\" style={{ ...defaultCodeSnippetStyle, ...codeSnippetStyle }}>\n            {formattedJson}\n          </CodeSnippet>\n          <div css={{ ...defaultOverlayStyle, ...overlayStyle }} />\n        </>\n      ) : (\n        <>{json}</>\n      )}\n    </div>\n  );\n};\n\nfunction useFormattedJson(json: string) {\n  return React.useMemo(() => {\n    try {\n      const parsed = JSON.parse(json);\n      const isJson = isObject(parsed) && typeof parsed !== 'function' && !(parsed instanceof Date);\n      return {\n        formattedJson: isJson ? JSON.stringify(parsed, null, 2) : json,\n        isJsonContent: isJson,\n      };\n    } catch (e) {\n      return {\n        formattedJson: json,\n        isJsonContent: false,\n      };\n    }\n  }, [json]);\n}\n\nexport const FormattedJsonDisplay: React.FC<{ json: string }> = ({ json }) => {\n  const { formattedJson, isJsonContent } = useFormattedJson(json);\n\n  return (\n    <div css={{ whiteSpace: 'pre-wrap' }}>\n      {isJsonContent ? (\n        <CodeSnippet language=\"json\" wrapLongLines>\n          {formattedJson}\n        </CodeSnippet>\n      ) : (\n        <span>{json}</span>\n      )}\n    </div>\n  );\n};\n","import { difference, replaceAt } from './utils'\nimport { notifyManager } from './notifyManager'\nimport { QueryObserver } from './queryObserver'\nimport { Subscribable } from './subscribable'\nimport type {\n  DefaultedQueryObserverOptions,\n  QueryObserverOptions,\n  QueryObserverResult,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { NotifyOptions } from './queryObserver'\n\ntype QueriesObserverListener = (result: QueryObserverResult[]) => void\n\nexport class QueriesObserver extends Subscribable<QueriesObserverListener> {\n  private client: QueryClient\n  private result: QueryObserverResult[]\n  private queries: QueryObserverOptions[]\n  private observers: QueryObserver[]\n  private observersMap: Record<string, QueryObserver>\n\n  constructor(client: QueryClient, queries?: QueryObserverOptions[]) {\n    super()\n\n    this.client = client\n    this.queries = []\n    this.result = []\n    this.observers = []\n    this.observersMap = {}\n\n    if (queries) {\n      this.setQueries(queries)\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (this.listeners.size === 1) {\n      this.observers.forEach((observer) => {\n        observer.subscribe((result) => {\n          this.onUpdate(observer, result)\n        })\n      })\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.listeners.size) {\n      this.destroy()\n    }\n  }\n\n  destroy(): void {\n    this.listeners = new Set()\n    this.observers.forEach((observer) => {\n      observer.destroy()\n    })\n  }\n\n  setQueries(\n    queries: QueryObserverOptions[],\n    notifyOptions?: NotifyOptions,\n  ): void {\n    this.queries = queries\n\n    notifyManager.batch(() => {\n      const prevObservers = this.observers\n\n      const newObserverMatches = this.findMatchingObservers(this.queries)\n\n      // set options for the new observers to notify of changes\n      newObserverMatches.forEach((match) =>\n        match.observer.setOptions(match.defaultedQueryOptions, notifyOptions),\n      )\n\n      const newObservers = newObserverMatches.map((match) => match.observer)\n      const newObserversMap = Object.fromEntries(\n        newObservers.map((observer) => [observer.options.queryHash, observer]),\n      )\n      const newResult = newObservers.map((observer) =>\n        observer.getCurrentResult(),\n      )\n\n      const hasIndexChange = newObservers.some(\n        (observer, index) => observer !== prevObservers[index],\n      )\n      if (prevObservers.length === newObservers.length && !hasIndexChange) {\n        return\n      }\n\n      this.observers = newObservers\n      this.observersMap = newObserversMap\n      this.result = newResult\n\n      if (!this.hasListeners()) {\n        return\n      }\n\n      difference(prevObservers, newObservers).forEach((observer) => {\n        observer.destroy()\n      })\n\n      difference(newObservers, prevObservers).forEach((observer) => {\n        observer.subscribe((result) => {\n          this.onUpdate(observer, result)\n        })\n      })\n\n      this.notify()\n    })\n  }\n\n  getCurrentResult(): QueryObserverResult[] {\n    return this.result\n  }\n\n  getQueries() {\n    return this.observers.map((observer) => observer.getCurrentQuery())\n  }\n\n  getObservers() {\n    return this.observers\n  }\n\n  getOptimisticResult(queries: QueryObserverOptions[]): QueryObserverResult[] {\n    return this.findMatchingObservers(queries).map((match) =>\n      match.observer.getOptimisticResult(match.defaultedQueryOptions),\n    )\n  }\n\n  private findMatchingObservers(\n    queries: QueryObserverOptions[],\n  ): QueryObserverMatch[] {\n    const prevObservers = this.observers\n    const prevObserversMap = new Map(\n      prevObservers.map((observer) => [observer.options.queryHash, observer]),\n    )\n\n    const defaultedQueryOptions = queries.map((options) =>\n      this.client.defaultQueryOptions(options),\n    )\n\n    const matchingObservers: QueryObserverMatch[] =\n      defaultedQueryOptions.flatMap((defaultedOptions) => {\n        const match = prevObserversMap.get(defaultedOptions.queryHash)\n        if (match != null) {\n          return [{ defaultedQueryOptions: defaultedOptions, observer: match }]\n        }\n        return []\n      })\n\n    const matchedQueryHashes = new Set(\n      matchingObservers.map((match) => match.defaultedQueryOptions.queryHash),\n    )\n    const unmatchedQueries = defaultedQueryOptions.filter(\n      (defaultedOptions) => !matchedQueryHashes.has(defaultedOptions.queryHash),\n    )\n\n    const matchingObserversSet = new Set(\n      matchingObservers.map((match) => match.observer),\n    )\n    const unmatchedObservers = prevObservers.filter(\n      (prevObserver) => !matchingObserversSet.has(prevObserver),\n    )\n\n    const getObserver = (options: QueryObserverOptions): QueryObserver => {\n      const defaultedOptions = this.client.defaultQueryOptions(options)\n      const currentObserver = this.observersMap[defaultedOptions.queryHash!]\n      return currentObserver ?? new QueryObserver(this.client, defaultedOptions)\n    }\n\n    const newOrReusedObservers: QueryObserverMatch[] = unmatchedQueries.map(\n      (options, index) => {\n        if (options.keepPreviousData) {\n          // return previous data from one of the observers that no longer match\n          const previouslyUsedObserver = unmatchedObservers[index]\n          if (previouslyUsedObserver !== undefined) {\n            return {\n              defaultedQueryOptions: options,\n              observer: previouslyUsedObserver,\n            }\n          }\n        }\n        return {\n          defaultedQueryOptions: options,\n          observer: getObserver(options),\n        }\n      },\n    )\n\n    const sortMatchesByOrderOfQueries = (\n      a: QueryObserverMatch,\n      b: QueryObserverMatch,\n    ): number =>\n      defaultedQueryOptions.indexOf(a.defaultedQueryOptions) -\n      defaultedQueryOptions.indexOf(b.defaultedQueryOptions)\n\n    return matchingObservers\n      .concat(newOrReusedObservers)\n      .sort(sortMatchesByOrderOfQueries)\n  }\n\n  private onUpdate(observer: QueryObserver, result: QueryObserverResult): void {\n    const index = this.observers.indexOf(observer)\n    if (index !== -1) {\n      this.result = replaceAt(this.result, index, result)\n      this.notify()\n    }\n  }\n\n  private notify(): void {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({ listener }) => {\n        listener(this.result)\n      })\n    })\n  }\n}\n\ntype QueryObserverMatch = {\n  defaultedQueryOptions: DefaultedQueryObserverOptions\n  observer: QueryObserver\n}\n","'use client'\nimport * as React from 'react'\n\nimport { QueriesObserver, notifyManager } from '@tanstack/query-core'\nimport { useSyncExternalStore } from './useSyncExternalStore'\nimport { useQueryClient } from './QueryClientProvider'\nimport { useIsRestoring } from './isRestoring'\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary'\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary,\n} from './errorBoundaryUtils'\nimport {\n  ensureStaleTime,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch,\n} from './suspense'\nimport type { OmitKeyof, QueryFunction, QueryKey } from '@tanstack/query-core'\nimport type {\n  DefinedUseQueryResult,\n  UseQueryOptions,\n  UseQueryResult,\n} from './types'\n\n// This defines the `UseQueryOptions` that are accepted in `QueriesOptions` & `GetOptions`.\n// - `context` is omitted as it is passed as a root-level option to `useQueries` instead.\ntype UseQueryOptionsForUseQueries<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> = OmitKeyof<\n  UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  'context'\n>\n\n// Avoid TS depth-limit error in case of large array literal\ntype MAXIMUM_DEPTH = 20\n\ntype GetOptions<T> =\n  // Part 1: responsible for applying explicit type parameter to function arguments, if object { queryFnData: TQueryFnData, error: TError, data: TData }\n  T extends {\n    queryFnData: infer TQueryFnData\n    error?: infer TError\n    data: infer TData\n  }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData>\n    : T extends { queryFnData: infer TQueryFnData; error?: infer TError }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError>\n    : T extends { data: infer TData; error?: infer TError }\n    ? UseQueryOptionsForUseQueries<unknown, TError, TData>\n    : // Part 2: responsible for applying explicit type parameter to function arguments, if tuple [TQueryFnData, TError, TData]\n    T extends [infer TQueryFnData, infer TError, infer TData]\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData>\n    : T extends [infer TQueryFnData, infer TError]\n    ? UseQueryOptionsForUseQueries<TQueryFnData, TError>\n    : T extends [infer TQueryFnData]\n    ? UseQueryOptionsForUseQueries<TQueryFnData>\n    : // Part 3: responsible for inferring and enforcing type if no explicit parameter was provided\n    T extends {\n        queryFn?: QueryFunction<infer TQueryFnData, infer TQueryKey>\n        select: (data: any) => infer TData\n      }\n    ? UseQueryOptionsForUseQueries<TQueryFnData, unknown, TData, TQueryKey>\n    : T extends { queryFn?: QueryFunction<infer TQueryFnData, infer TQueryKey> }\n    ? UseQueryOptionsForUseQueries<\n        TQueryFnData,\n        unknown,\n        TQueryFnData,\n        TQueryKey\n      >\n    : // Fallback\n      UseQueryOptionsForUseQueries\n\n// A defined initialData setting should return a DefinedUseQueryResult rather than UseQueryResult\ntype GetDefinedOrUndefinedQueryResult<T, TData, TError = unknown> = T extends {\n  initialData?: infer TInitialData\n}\n  ? unknown extends TInitialData\n    ? UseQueryResult<TData, TError>\n    : TInitialData extends TData\n    ? DefinedUseQueryResult<TData, TError>\n    : TInitialData extends () => infer TInitialDataResult\n    ? unknown extends TInitialDataResult\n      ? UseQueryResult<TData, TError>\n      : TInitialDataResult extends TData\n      ? DefinedUseQueryResult<TData, TError>\n      : UseQueryResult<TData, TError>\n    : UseQueryResult<TData, TError>\n  : UseQueryResult<TData, TError>\n\ntype GetUseQueryResult<T> =\n  // Part 1: responsible for mapping explicit type parameter to function result, if object\n  T extends { queryFnData: any; error?: infer TError; data: infer TData }\n    ? GetDefinedOrUndefinedQueryResult<T, TData, TError>\n    : T extends { queryFnData: infer TQueryFnData; error?: infer TError }\n    ? GetDefinedOrUndefinedQueryResult<T, TQueryFnData, TError>\n    : T extends { data: infer TData; error?: infer TError }\n    ? GetDefinedOrUndefinedQueryResult<T, TData, TError>\n    : // Part 2: responsible for mapping explicit type parameter to function result, if tuple\n    T extends [any, infer TError, infer TData]\n    ? GetDefinedOrUndefinedQueryResult<T, TData, TError>\n    : T extends [infer TQueryFnData, infer TError]\n    ? GetDefinedOrUndefinedQueryResult<T, TQueryFnData, TError>\n    : T extends [infer TQueryFnData]\n    ? GetDefinedOrUndefinedQueryResult<T, TQueryFnData>\n    : // Part 3: responsible for mapping inferred type to results, if no explicit parameter was provided\n    T extends {\n        queryFn?: QueryFunction<unknown, any>\n        select: (data: any) => infer TData\n      }\n    ? GetDefinedOrUndefinedQueryResult<T, TData>\n    : T extends { queryFn?: QueryFunction<infer TQueryFnData, any> }\n    ? GetDefinedOrUndefinedQueryResult<T, TQueryFnData>\n    : // Fallback\n      UseQueryResult\n\n/**\n * QueriesOptions reducer recursively unwraps function arguments to infer/enforce type param\n */\nexport type QueriesOptions<\n  T extends any[],\n  TResult extends any[] = [],\n  TDepth extends ReadonlyArray<number> = [],\n> = TDepth['length'] extends MAXIMUM_DEPTH\n  ? UseQueryOptionsForUseQueries[]\n  : T extends []\n  ? []\n  : T extends [infer Head]\n  ? [...TResult, GetOptions<Head>]\n  : T extends [infer Head, ...infer Tail]\n  ? QueriesOptions<[...Tail], [...TResult, GetOptions<Head>], [...TDepth, 1]>\n  : unknown[] extends T\n  ? T\n  : // If T is *some* array but we couldn't assign unknown[] to it, then it must hold some known/homogenous type!\n  // use this to infer the param types in the case of Array.map() argument\n  T extends UseQueryOptionsForUseQueries<\n      infer TQueryFnData,\n      infer TError,\n      infer TData,\n      infer TQueryKey\n    >[]\n  ? UseQueryOptionsForUseQueries<TQueryFnData, TError, TData, TQueryKey>[]\n  : // Fallback\n    UseQueryOptionsForUseQueries[]\n\n/**\n * QueriesResults reducer recursively maps type param to results\n */\nexport type QueriesResults<\n  T extends any[],\n  TResults extends any[] = [],\n  TDepth extends ReadonlyArray<number> = [],\n> = TDepth['length'] extends MAXIMUM_DEPTH\n  ? UseQueryResult[]\n  : T extends []\n  ? []\n  : T extends [infer Head]\n  ? [...TResults, GetUseQueryResult<Head>]\n  : T extends [infer Head, ...infer Tail]\n  ? QueriesResults<\n      [...Tail],\n      [...TResults, GetUseQueryResult<Head>],\n      [...TDepth, 1]\n    >\n  : T extends UseQueryOptionsForUseQueries<\n      infer TQueryFnData,\n      infer TError,\n      infer TData,\n      any\n    >[]\n  ? // Dynamic-size (homogenous) UseQueryOptions array: map directly to array of results\n    UseQueryResult<unknown extends TData ? TQueryFnData : TData, TError>[]\n  : // Fallback\n    UseQueryResult[]\n\nexport function useQueries<T extends any[]>({\n  queries,\n  context,\n}: {\n  queries: readonly [...QueriesOptions<T>]\n  context?: UseQueryOptions['context']\n}): QueriesResults<T> {\n  const queryClient = useQueryClient({ context })\n  const isRestoring = useIsRestoring()\n  const errorResetBoundary = useQueryErrorResetBoundary()\n\n  const defaultedQueries = React.useMemo(\n    () =>\n      queries.map((options) => {\n        const defaultedOptions = queryClient.defaultQueryOptions(options)\n\n        // Make sure the results are already in fetching state before subscribing or updating options\n        defaultedOptions._optimisticResults = isRestoring\n          ? 'isRestoring'\n          : 'optimistic'\n\n        return defaultedOptions\n      }),\n    [queries, queryClient, isRestoring],\n  )\n\n  defaultedQueries.forEach((query) => {\n    ensureStaleTime(query)\n    ensurePreventErrorBoundaryRetry(query, errorResetBoundary)\n  })\n\n  useClearResetErrorBoundary(errorResetBoundary)\n\n  const [observer] = React.useState(\n    () => new QueriesObserver(queryClient, defaultedQueries),\n  )\n\n  const optimisticResult = observer.getOptimisticResult(defaultedQueries)\n\n  useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        isRestoring\n          ? () => undefined\n          : observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer, isRestoring],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setQueries(defaultedQueries, { listeners: false })\n  }, [defaultedQueries, observer])\n\n  const shouldAtLeastOneSuspend = optimisticResult.some((result, index) =>\n    shouldSuspend(defaultedQueries[index], result, isRestoring),\n  )\n\n  const suspensePromises = shouldAtLeastOneSuspend\n    ? optimisticResult.flatMap((result, index) => {\n        const options = defaultedQueries[index]\n        const queryObserver = observer.getObservers()[index]\n\n        if (options && queryObserver) {\n          if (shouldSuspend(options, result, isRestoring)) {\n            return fetchOptimistic(options, queryObserver, errorResetBoundary)\n          } else if (willFetch(result, isRestoring)) {\n            void fetchOptimistic(options, queryObserver, errorResetBoundary)\n          }\n        }\n        return []\n      })\n    : []\n\n  if (suspensePromises.length > 0) {\n    throw Promise.all(suspensePromises)\n  }\n  const observerQueries = observer.getQueries()\n  const firstSingleResultWhichShouldThrow = optimisticResult.find(\n    (result, index) =>\n      getHasError({\n        result,\n        errorResetBoundary,\n        useErrorBoundary: defaultedQueries[index]?.useErrorBoundary ?? false,\n        query: observerQueries[index]!,\n      }),\n  )\n\n  if (firstSingleResultWhichShouldThrow?.error) {\n    throw firstSingleResultWhichShouldThrow.error\n  }\n\n  return optimisticResult as QueriesResults<T>\n}\n"],"names":["c","e","u","i","l","a","r","o","f","v","d","m","s","g","h","x","E","current","b","window","p","TypeError","y","leading","w","trailing","O","flushOnExit","F","L","debounceOnServer","A","Math","max","maxWait","D","n","t","apply","cancelAnimationFrame","requestAnimationFrame","setTimeout","Date","now","min","S","slice","call","arguments","global","document","visibilityState","flush","addEventListener","cancel","clearTimeout","isPending","removeEventListener","equalityFn","_ref","name","styles","PageFallback","error","_error$message","_jsx","PageWrapper","css","children","Empty","title","FormattedMessage","id","defaultMessage","description","message","image","DangerIcon","ExperimentLoggedModelPageWrapper","resetKey","ErrorBoundary","FallbackComponent","resetKeys","UserActionErrorHandler","useValidateLoggedModelSignature","loggedModel","useCallback","async","_loggedModel$info","_loggedModel$info2","_yamlContent$signatur","_yamlContent$signatur2","info","model_id","artifact_uri","artifactLocation","getLoggedModelArtifactLocationUrl","MLMODEL_FILE_NAME","blob","getArtifactBlob","yamlContent","load","text","undefined","signature","inputs","outputs","ExperimentLoggedModelDetailsRegisterButton","onSuccess","intl","useIntl","handleSuccess","data","_data$value$status","_data$value","successTitle","formatMessage","Utils","displayGlobalInfoNotification","value","status","handleError","_ref2","errorTitle","ErrorWrapper","getMessageField","String","displayGlobalErrorNotification","RegisterModel","modelPath","modelRelativePath","disabled","loggedModelId","buttonType","showButton","onRegisterSuccess","onRegisterFailure","ExperimentLoggedModelDetailsHeader","experimentId","experiment","loading","theme","useDesignSystemTheme","modelDisplayName","navigate","useNavigate","modalElement","DeleteModalElement","openModal","useExperimentLoggedModelDeleteModal","_mutation$error","open","setOpen","useState","mutation","useMutation","mutationFn","loggedModelsDataRequest","getAjaxUrl","mutate","isLoading","reset","resetMutation","_jsxs","Modal","componentId","visible","onCancel","okText","okButtonProps","danger","onOk","cancelText","_Fragment","Alert","closable","type","Spacer","Routes","getExperimentPageTabRoute","ExperimentPageTabName","Models","breadcrumbs","Link","to","ExperimentLoggedModelDetailsHeaderSkeleton","PageHeader","ExperimentLoggedModelDetailsHeaderIcon","dangerouslyAppendEmotionCSS","h2","display","gap","spacing","sm","wordBreak","DropdownMenu","Root","Trigger","asChild","Button","icon","OverflowIcon","Content","align","Item","onClick","_css","alignItems","justifyContent","backgroundColor","colors","tagDefault","width","general","heightSm","height","borderRadius","legacyBorders","borderRadiusMd","ModelsIcon","color","textSecondary","marginBottom","lg","GenericSkeleton","md","marginTop","xs","ExperimentLoggedModelDetailsNav","modelId","activeTabName","NavigationMenu","List","active","getExperimentLoggedModelDetailsPageRoute","ExperimentLoggedModelDescription","onDescriptionChanged","_loggedModel$info$tag","_loggedModel$info$tag2","_loggedModel$info$tag3","descriptionContent","tags","find","tag","key","NOTE_CONTENT_TAG","showNoteEditor","setShowDescriptionEditor","patch","usePatchLoggedModelsTags","mutateAsync","requestBody","entries","variables","map","useUserActionErrorHandler","isEmpty","Typography","Title","level","size","PencilIcon","Hint","EditableNote","defaultMarkdown","onSubmit","markdown","handleCancelEditDescription","showEditor","ExperimentLoggedModelDetailsTableRunCellRenderer","getValue","_getValue","runName","runId","getDirectRunPageRoute","SingleDatasetCellRenderer","datasetDigest","datasetName","ExperimentLoggedModelDatasetButton","ExperimentLoggedModelDetailsMetricsTable","relatedRunsData","relatedRunsLoading","usingUnifiedDetailsLayout","detailsPageTableStyles","detailsPageNoEntriesStyles","detailsPageNoResultsWrapperStyles","useExperimentTrackingDetailsPageLayoutStyles","filter","setFilter","metricsWithRunData","useMemo","_loggedModel$data$met","_loggedModel$data","_loggedModel$data$met2","metrics","metric","_relatedRunsData$find","_relatedRunsData$find2","run","_run$info","runUuid","run_id","experiment_id","filteredMetrics","dataset_name","dataset_digest","filterLower","toLowerCase","includes","columns","accessorKey","header","enableResizing","accessorFn","cell","meta","minWidth","table","useReactTable","getCoreRowModel","getExpandedRowModel","getRowId","row","_join","join","enableColumnResizing","columnResizeMode","values","length","padding","border","borderDecorative","borderRadiusBase","flex","flexDirection","overflow","renderTableContent","TableSkeleton","lines","areAllResultsFiltered","Input","prefix","SearchIcon","placeholder","onChange","target","allowClear","Table","ref","element","setAttribute","scrollable","empty","TableRow","isHeader","getLeafHeaders","index","_header$column$column","TableHeader","column","setColumnSizing","isResizing","getIsResizing","flexGrow","getCanResize","columnDef","style","flexBasis","getSize","flexRender","getContext","getRowModel","rows","getAllCells","_cell$column$columnDe","TableCell","DatasetListCellRenderer","datasets","Overflow","ExperimentLoggedModelDetailsPageRunsTable","runsWithDatasets","allMetrics","runsByDatasets","groupBy","source_run_id","distinctDatasets","uniqBy","dataset","Boolean","filteredRunsWithDatasets","_d$datasetName","multiline","ExperimentLoggedModelAllDatasetsList","uniqueDatasets","reduce","aggregate","push","ExperimentLoggedModelDetailsModelVersionsList","loggedModels","modelVersions","useExperimentLoggedModelRegisteredVersions","displayedName","version","link","RegisteredModelOkIcon","Tag","ExperimentLoggedModelDetailsMetadataSections","ExperimentLoggedModelDetailsOverview","onDataUpdated","_loggedModel$data2","relatedRunsDataError","useRelatedRunsDataForLoggedModels","relatedSourceRun","_r$info","paramsDictionary","_loggedModel$data$par","keyBy","params","detailsSectionsV2","useExperimentLoggedModelDetailsMetadataV2","_loggedModel$info2$ta","_loggedModel$info2$ta2","_loggedModel$info$mod","_loggedModel$info3","_loggedModel$info4","_loggedModel$info5","_loggedModel$info6","_loggedModel$info7","_relatedSourceRun$inf","_loggedModel$info8","_loggedModel$info$sou","_loggedModel$info9","_loggedModel$info0","_loggedModel$info1","_loggedModel$info10","_loggedModel$info11","detailsContent","KeyValueProperty","keyValue","ExperimentLoggedModelTableDateCell","creation_timestamp_ms","MLFLOW_LOGGED_MODEL_USER_TAG","ExperimentLoggedModelStatusIndicator","DetailsOverviewCopyableIdBox","getRunPageRoute","ExperimentLoggedModelSourceBox","displayDetails","paddingTop","paddingBottom","DETAILS","content","DATASETS","NoneCell","MODEL_VERSIONS","ExperimentLoggedModelOpenDatasetDetailsContextProvider","DetailsPageLayout","usingSidebarLayout","secondarySections","renderDetails","_loggedModel$info4$ta","_loggedModel$info4$ta2","DetailsOverviewMetadataTable","DetailsOverviewMetadataRow","gridTemplateColumns","gridTemplateRows","DetailsOverviewParamsTable","ExperimentLoggedModelDetailsArtifacts","_loggedModel$info$art","_loggedModel$info$exp","ArtifactPage","isLoggedModelsMode","artifactRootUri","useAutoHeight","entityTags","ExperimentLoggedModelDetailsTracesIntroductionText","code","Paragraph","href","openInNewTab","CopyButton","zIndex","position","top","right","showLabel","copyText","CopyIcon","CodeSnippet","showLineNumbers","isDarkMode","language","ExperimentLoggedModelDetailsTraces","experimentIds","TracesViewTableNoTracesQuickstartContextProvider","introductionText","displayVersionWarnings","TracesComponent","TracesView","baseComponentId","ExperimentLoggedModelDetailsPageImpl","_currentUserActionErr","tabName","useParams","clearUserActionError","currentUserActionError","invariant","loggedModelLoading","loggedModelLoadError","refetch","useGetLoggedModelQuery","experimentData","experimentLoading","apiError","experimentApiError","apolloError","experimentApolloError","useGetExperimentQuery","experimentLoadError","displayMessage","onClose","errorMessage","ExperimentLoggedModelDetailsPage","SectionErrorBoundary","React","constructor","args","state","componentDidCatch","errorInfo","this","setState","console","renderErrorMessage","props","showServerError","render","className","classNames","wrapper","getSupportPageUrl","marginLeft","Spinner","showImmediately","spinner","alt","src","immediate","marginRight","img","opacity","left","heightBase","animation","keyframes","animationDelay","RequestStateWrapper","Component","shouldRender","shouldRenderError","getErrorRequests","requests","requestIdsWith404sToIgnore","getErrorCode","ErrorCodes","RESOURCE_DOES_NOT_EXIST","getDerivedStateFromProps","nextProps","every","requestErrors","getRenderedContent","customSpinner","permissionDeniedView","suppressErrorThrow","customRequestErrorHandlerFn","permissionDeniedErrors","failedRequest","PERMISSION_DENIED","shouldOptimisticallyRender","triggerError","defaultProps","Error","connect","mapStateToProps","ownProps","getApis","requestIds","getQueryKey","queryFn","queryKey","MlflowService","getRun","_queryResults$find","runUuids","allMetricRunUuids","compact","flatMap","allSourceRunUuids","sortBy","uniq","queryResults","useQueries","queries","cacheTime","Infinity","staleTime","refetchOnWindowFocus","retry","some","memoizedQueryResults","array","useRef","areArraysConsideredTheSame","_ref$current","useArrayMemo","JsonPreview","json","wrapperStyle","overlayStyle","codeSnippetStyle","formattedJson","isJsonContent","useFormattedJson","maxHeight","overflowX","bottom","background","parsed","JSON","parse","isJson","isObject","stringify","FormattedJsonDisplay","wrapLongLines","QueriesObserver","Subscribable","client","super","result","observers","observersMap","setQueries","onSubscribe","listeners","forEach","observer","subscribe","onUpdate","onUnsubscribe","destroy","Set","notifyOptions","notifyManager","batch","prevObservers","newObserverMatches","findMatchingObservers","match","setOptions","defaultedQueryOptions","newObservers","newObserversMap","Object","fromEntries","options","queryHash","newResult","getCurrentResult","hasIndexChange","hasListeners","difference","notify","getQueries","getCurrentQuery","getObservers","getOptimisticResult","prevObserversMap","Map","defaultQueryOptions","matchingObservers","defaultedOptions","get","matchedQueryHashes","unmatchedQueries","has","matchingObserversSet","unmatchedObservers","prevObserver","getObserver","currentObserver","QueryObserver","newOrReusedObservers","keepPreviousData","previouslyUsedObserver","concat","sort","sortMatchesByOrderOfQueries","indexOf","replaceAt","listener","context","defaultedQueries","_optimisticResults","isRestoring","query","ensurePreventErrorBoundaryRetry","errorResetBoundary","queryClient","optimisticResult","useSyncExternalStore","onStoreChange","batchCalls","suspensePromises","queryObserver","fetchOptimistic","Promise","all","observerQueries","_defaultedQueries$ind","_defaultedQueries$ind2","getHasError","firstSingleResultWhichShouldThrow"],"ignoreList":[],"sourceRoot":""}