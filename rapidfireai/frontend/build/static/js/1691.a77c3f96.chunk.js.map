{"version":3,"file":"static/js/1691.a77c3f96.chunk.js","mappings":"6QAgBA,IAAIA,EAA+B,KAE5B,MAAMC,EAAuBA,IAE9BD,IAGJA,EAAa,IAAIE,EAAAA,UACjBF,EAAWG,UAVmB,UAWvBH,GAQHI,EAAmB,CACvBC,YAAa,CACX,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,aACA,IACA,IACA,KACA,KACA,KACA,KACA,MACA,IACA,IACA,SACA,KACA,SACA,OACA,KACA,KACA,MACA,QACA,QACA,QACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,IACA,OACA,OACA,MACA,KACA,KACA,KACA,UACA,SACA,MACA,UACA,UAEFC,kBAAmB,CACjBC,EAAG,CAAC,OAAQ,OAAQ,UACpBC,IAAK,CAAC,MAAO,YACbC,IAAK,CAAC,YAAa,cAIVC,EAAyBC,GAC7BC,IAAaD,EAAWP,GAGpBS,EAAwBC,GAC5BA,EAAKC,QAAQ,IAAIC,OAAO,KAAM,KAAM,sBAGhCC,EAAuBA,KAClCC,EAAAA,EAAAA,aAAaC,IACX,MACML,EADYb,IACKmB,SAASD,GAChC,OAAOT,EAAsBI,IAC5B,G,8JCrGE,MAAMO,EAAkCA,EAC7CC,YACAC,gBAKA,MAAM,MAAEC,IAAUC,EAAAA,EAAAA,MACXC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAyBC,EAAAA,GAAeC,0BAEhF,OACEC,EAAAA,EAAAA,IAACC,EAAAA,EAAK,CACJC,SAAO,EACPC,YAAY,gEACZC,SAAUb,EACVc,OACEC,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,2BAInBC,YACEJ,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,sBAInBE,QACEL,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,YAInBG,KAAMA,IAAMpB,EAAUG,GAAckB,SAAA,EAEpCP,EAAAA,EAAAA,GAACQ,EAAAA,EAAWC,UAAS,CAAAF,UACnBP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,+JAInBT,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQC,cAAe,SAAUC,IAAK3B,EAAM4B,QAAQC,GAAIC,aAAc9B,EAAM4B,QAAQC,IAAI,IAACT,SAAA,EAC5GP,EAAAA,EAAAA,GAACkB,EAAAA,MAAK,CACJC,QAAS9B,IAAiBG,EAAAA,GAAe4B,kBACzCC,SAAUA,IAAM/B,EAAgBE,EAAAA,GAAe4B,mBAAmBb,UAElEP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,IAAKqB,EAAAA,GAA6B9B,EAAAA,GAAe4B,wBAEpEpB,EAAAA,EAAAA,GAACkB,EAAAA,MAAK,CACJC,QAAS9B,IAAiBG,EAAAA,GAAeC,yBACzC4B,SAAUA,IAAM/B,EAAgBE,EAAAA,GAAeC,0BAA0Bc,UAEzEP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,IAAKqB,EAAAA,GAA6B9B,EAAAA,GAAeC,oC,kFClDrE,MAAM8B,EAA2BC,IACtCC,EAAAA,EAAAA,GAA4E,CAC1EC,WAAYA,EAAGC,eAAcC,UAC3BC,EAAAA,EAAcC,iBAAiB,CAC7BC,cAAeJ,EACfK,IAAK,wBACLC,MAAOL,IACNM,KAAK,SAAAC,EAAA,OAAmB,QAAnBA,EAAe,OAATX,QAAS,IAATA,OAAS,EAATA,WAAa,IAAAW,EAAAA,EAAIC,QAAQC,a,0JCTtC,MAAMC,EAAyBA,EACpCX,eACAY,sBACAC,WAAU,EACVC,iBACAC,2BAQA,MAAM,eAAEC,EAAgBC,UAAWC,GCRMC,GACzCnB,eACAa,cAKA,MAAM,KAAEO,EAAI,UAAEH,IAAcI,EAAAA,EAAAA,GAC1B,CAdc,6BAcFrB,GACZsB,UACEC,IAAUvB,EAAc,4BACxB,MAAMwB,EAAgB,CAACxB,GAEvB,OAAOE,EAAAA,EAAcuB,oBAAoBD,EAAe,yBAAqBE,OAAWA,EAAW,IAErG,CACEb,QAASA,GAAWc,QAAQ3B,KAKhC,MAAO,CACLgB,gBAFsBC,KAAcW,EAAAA,EAAAA,SAAY,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMS,QAGlDZ,UAAWA,GAAaJ,GAAWc,QAAQ3B,KDfkBmB,CAA4B,CACzFnB,eACAa,aAGKiB,EAAaC,IAAkBnE,EAAAA,EAAAA,WAAS,IAEzC,aAAEoE,EAAcf,UAAWgB,GEdcC,GAC/ClC,eACAa,cAKA,MAAM,KAAEO,EAAI,UAAEH,EAAS,MAAEkB,IAAUd,EAAAA,EAAAA,GACjC,CAdc,oCAcFrB,GACZsB,UACEC,IAAUvB,EAAc,4BACxB,MAAMwB,EAAgB,CAACxB,GAOvB,aALkBE,EAAAA,EAAckC,WAAW,CACzCC,eAAgBb,EAChBc,YAAa,KAKjB,CACEzB,QAASc,QAAQ3B,IAAiBa,IAMtC,MAAO,CACLmB,cAHmBO,EAAAA,EAAAA,SAAQ,KAAOtB,KAAcW,EAAAA,EAAAA,SAAY,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMoB,MAAO,CAACvB,EAAWG,IAIjFH,UAAWA,GAAaJ,GAAWc,QAAQ3B,KFfsBkC,CAAkC,CACnGlC,eACAa,YAGII,EAAYJ,IAAYD,GAAuBM,GAA2Be,GAE1EQ,GAAyBF,EAAAA,EAAAA,SAAQ,KACrC,GAAK1B,IAAWI,IAAaa,EAG7B,OAAId,EACKnD,EAAAA,GAAe6E,2BAEpBV,EACKnE,EAAAA,GAAe8E,kCAEjB9E,EAAAA,GAAe+E,kBACrB,CAED/B,EACAiB,EACAb,EACAD,EACAgB,IAGIa,GAA4BN,EAAAA,EAAAA,SAAQ,IACpCE,IAA2B5E,EAAAA,GAAe6E,2BACrCI,EAAAA,GAAsBC,OAE3BN,IAA2B5E,EAAAA,GAAe8E,kCACrCG,EAAAA,GAAsBE,UAD/B,EAIC,CAACP,IASJ,OANAQ,EAAAA,EAAAA,WAAU,KACJR,KAA2BS,EAAAA,EAAAA,IAAyBT,IACtD1B,EAAqB,CAAEf,aAA0B,OAAZA,QAAY,IAAZA,EAAAA,EAAgB,GAAIC,KAAMwC,KAEhE,CAACzC,EAAcyC,EAAwB1B,IAEnC,CACLE,YACAwB,yBACAI,4BACAM,QAASA,IAAMpB,GAAe,I,2KG1C3B,SAASqB,GAAa,KAAEC,IAC7B,MAAMC,GACJjF,EAAAA,EAAAA,GAACkF,EAAAA,KAAI,CAAA3E,SAEFyE,EAAKG,IAAI,EAAGjF,KAAIkF,WAAUC,UAASC,UAASC,MAE3CvF,EAAAA,EAAAA,GAACkF,EAAAA,KAAKM,KAAI,CAAUH,QAASA,EAASC,KAAMA,EAAM,cAAapF,KAAQqF,EAAUhF,SAC9E6E,GADalF,MAQtB,OAAO8E,EAAKS,OAAS,GACnBzF,EAAAA,EAAAA,GAAC0F,EAAAA,SAAQ,CAACC,QAASV,EAAcW,QAAS,CAAC,SAAUC,UAAU,aAAaC,OAAK,EAAAvF,UAC/EP,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,kEACZmG,MAAMhG,EAAAA,EAAAA,GAACiG,EAAAA,aAAY,IACnB,cAAY,wBACZ,aAAW,gCAGb,IACN,CAAC,IAAAC,EAAA,CAAAC,KAAA,UAAAC,OAAA,iBAsBM,SAASC,EAAWC,GACzB,MAAM,MACJvG,EAAK,YACLwG,EAAc,GAAE,YAChBC,EAAc,GAAE,QAChBC,EAAO,SACPlG,EAAQ,WACRmG,EAAU,WACVC,GAAa,EAAK,4BAClBC,GACEN,GACE,MAAEnH,IAAUC,EAAAA,EAAAA,MACLyH,EAAAA,EAAAA,KAEb,OACEnH,EAAAA,EAAAA,IAAAoH,EAAAA,GAAA,CAAAvG,SAAA,EACEP,EAAAA,EAAAA,GAAC+G,EAAAA,OAAM,CACLR,YACEA,EAAYd,OAAS,IACnBzF,EAAAA,EAAAA,GAACgH,EAAAA,WAAU,CAACC,sBAAoB,EAAA1G,SAC7BgG,EAAYpB,IAAI,CAAC+B,EAAGC,KACnBnH,EAAAA,EAAAA,GAACgH,EAAAA,WAAWxB,KAAI,CAAAjF,SAAU2G,GAAJC,MAK9BC,QAAS7G,EACTR,MAAOA,EAEPyG,aACE9G,EAAAA,EAAAA,IAAAoH,EAAAA,GAAA,CAAAvG,SAAA,CACGkG,IAAWzG,EAAAA,EAAAA,GAACqH,EAAAA,EAAY,CAAC3G,IAAGwF,IAC5BM,KAGLI,4BAA6BA,KAE/B5G,EAAAA,EAAAA,GAACsH,EAAAA,EACC,CACA5G,KAAGC,EAAAA,EAAAA,IAAE,CAEH4G,WAAY,KACRZ,EAAa,CAAE/F,QAAS,QAAW,CAAC,GACzC,IACD4G,KAAMd,MAId,C,wGCtHO,MAAMe,EAA0BA,EACrCC,aACAF,WAKA,MAAMG,GAAOd,EAAAA,EAAAA,KAEb,OACE7G,EAAAA,EAAAA,GAACQ,EAAAA,EAAWoH,KAAI,CACdJ,KAAMA,EACNK,wBAAyB,CACvBC,SAAU,CACRC,KAAML,EAAWvB,KACjBH,MAAMhG,EAAAA,EAAAA,GAACgI,EAAAA,SAAQ,IACfC,SAAU,CACRN,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,cAGjBwH,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,qB,yPC5B7B,MAAMgI,EAAWA,IAAM,oCAEVC,EAAmCA,CAACC,EAAaC,KAC5D,MAAMC,EAAYC,IAAAA,SAAWH,EAAK,CAChC5C,OAAQ6C,IAEV,OAAOE,IAAAA,UAAYD,EAAYE,GAAkB,OAATA,GAAeC,KAAK,KAUjDC,EAAoBA,CAACN,EAAaO,KAC7C,GAAIP,EAAI5C,OAASmD,EAAQ,CACvB,MAAMC,EAAeC,KAAKC,OAAOH,EAAS,GAAK,GACzCI,EAAcJ,EAAS,EAAIC,EACjC,OAAOR,EAAIY,UAAU,EAAGJ,GAAgB,MAAQR,EAAIY,UAAUZ,EAAI5C,OAASuD,EAAaX,EAAI5C,OAC9F,CACE,OAAO4C,GAQLa,EAAU,oEASHC,EAAYC,IACvB,IAAIC,EAAS,GACTlC,EAAI,EAER,MAAMmC,EAASC,EAAaH,GAE5B,KAAOjC,EAAImC,EAAO7D,QAAQ,CACxB,MAAM+D,EAAOF,EAAOG,WAAWtC,KACzBuC,EAAOJ,EAAOG,WAAWtC,KACzBwC,EAAOL,EAAOG,WAAWtC,KAEzByC,EAAOJ,GAAQ,EACfK,GAAgB,EAAPL,IAAa,EAAME,GAAQ,EAC1C,IAAII,GAAgB,GAAPJ,IAAc,EAAMC,GAAQ,EACrCI,EAAc,GAAPJ,EAEPK,MAAMN,IACRK,EAAO,GACPD,EAAOC,GACEC,MAAML,KACfI,EAAO,IAGTV,EAASA,EAASH,EAAQe,OAAOL,GAAQV,EAAQe,OAAOJ,GAAQX,EAAQe,OAAOH,GAAQZ,EAAQe,OAAOF,EACxG,CAEA,OAAOV,GASIa,EAAYd,IACvB,IAAIC,EAAS,GACTlC,EAAI,EAER,MAAMmC,GAAc,OAALF,QAAK,IAALA,OAAK,EAALA,EAAO1K,QAAQ,mBAAoB,MAAO,GAEzD,KAAOyI,EAAImC,EAAO7D,QAAQ,CACxB,MAAMmE,EAAOV,EAAQiB,QAAQb,EAAOW,OAAO9C,MACrC0C,EAAOX,EAAQiB,QAAQb,EAAOW,OAAO9C,MACrC2C,EAAOZ,EAAQiB,QAAQb,EAAOW,OAAO9C,MACrC4C,EAAOb,EAAQiB,QAAQb,EAAOW,OAAO9C,MAErCqC,EAAQI,GAAQ,EAAMC,GAAQ,EAC9BH,GAAgB,GAAPG,IAAc,EAAMC,GAAQ,EACrCH,GAAgB,EAAPG,IAAa,EAAKC,EAEjCV,GAAUe,OAAOC,aAAab,GAEjB,KAATM,IACFT,GAAUe,OAAOC,aAAaX,IAGnB,KAATK,IACFV,GAAUe,OAAOC,aAAaV,GAElC,CAEA,OAAOW,EAAajB,IAShBE,EAAeA,CAACgB,EAAS,MAC7B,MAAMjB,EAASiB,EAAO7L,QAAQ,QAAS,MACvC,IAAI8L,EAAU,GAEd,IAAK,IAAIC,EAAI,EAAGA,EAAInB,EAAO7D,OAAQgF,IAAK,CACtC,MAAMC,EAAIpB,EAAOG,WAAWgB,GAG1BD,GADEE,EAAI,IACKN,OAAOC,aAAaK,GACtBA,EAAI,KAAOA,EAAI,KACbN,OAAOC,aAAcK,GAAK,EAAK,KAAON,OAAOC,aAAkB,GAAJK,EAAU,KAG9EN,OAAOC,aAAcK,GAAK,GAAM,KAChCN,OAAOC,aAAeK,GAAK,EAAK,GAAM,KACtCN,OAAOC,aAAkB,GAAJK,EAAU,IAErC,CAEA,OAAOF,GASHF,EAAeA,CAACE,EAAU,MAC9B,IAAID,EAAS,GACTpD,EAAI,EAER,KAAOA,EAAIqD,EAAQ/E,QAAQ,CACzB,MAAMiF,EAAIF,EAAQf,WAAWtC,GAE7B,GAAIuD,EAAI,IACNH,GAAUH,OAAOC,aAAaK,GAC9BvD,SACK,GAAIuD,EAAI,KAAOA,EAAI,IAAK,CAC7B,MAAMC,EAAKH,EAAQf,WAAWtC,EAAI,GAClCoD,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,EAAW,GAALC,GACjDxD,GAAK,CACP,KAAO,CACL,MAAMwD,EAAKH,EAAQf,WAAWtC,EAAI,GAC5ByD,EAAKJ,EAAQf,WAAWtC,EAAI,GAClCoD,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,IAAa,GAALC,IAAY,EAAW,GAALC,GACrEzD,GAAK,CACP,CACF,CACA,OAAOoD,GAOIM,EAAmBzB,GACvB0B,OAAOC,OAAOC,OAAO,WAAW,IAAIC,aAAcC,OAAO9B,IAAQlH,KAAMiJ,GACrEC,MAAMC,UAAUlG,IAAImG,KAAK,IAAIC,WAAWJ,GAAeK,IAAO,KAAOA,EAAEC,SAAS,KAAKC,OAAO,IAAIhD,KAAK,KAI1GiD,EAAiC,WAE1BC,EAAsB3I,UACjC,MACM4I,SADa1D,KACK2D,QAAQ/D,GAGhC,GAAsB,qBAAXgE,OAAwB,CACjC,MAAMC,EAAaD,OAAOE,KAAKJ,GAAYJ,SAAS,UACpD,MAAO,GAAGE,IAAiCK,GAC7C,CAGA,MAAME,EAAed,MAAMa,KAAKJ,EAAaM,GAAS/B,OAAOgC,cAAcD,IAAOzD,KAAK,IACvF,MAAO,GAAGiD,IAAiCU,KAAKH,MAGrCI,EAAwBrJ,UACnC,MAAMsJ,QAAapE,IACnB,IAAKqE,EAAeC,WAAWd,GAC7B,MAAM,IAAIe,MAAM,mDAElB,MAAMC,EAA8BH,EAAed,MAAMC,GAGzD,GAAsB,qBAAXI,OAAwB,CACjC,MAAMG,EAAeH,OAAOE,KAAKU,EAA6B,UAC9D,OAAOJ,EAAKK,QAIVV,EACA,CAAEW,GAAI,UAEV,CAGA,MAAMX,EAAeY,KAAKH,GAC1B,OAAOJ,EAAKK,QACVrB,WAAWU,KAAKC,EAAea,IAAC,IAAAC,EAAA,OAAqB,QAArBA,EAAKD,EAAEE,YAAY,UAAE,IAAAD,EAAAA,EAAI,IACzD,CAAEH,GAAI,YAIGK,EAA2BnF,GAAiBA,EAAK0E,WAAWd,E,8QCnMzE,MAAMwB,EAAgB,CACpBC,OACEpN,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,SAEnC6F,MAAMhG,EAAAA,EAAAA,GAACqN,EAAAA,EAAQ,IACfC,SAAW3L,GAAyB4L,EAAAA,GAAOC,0BAA0B7L,EAAc8C,EAAAA,GAAsBE,OAGrG8I,EAAkB,CACtBL,OACEpN,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,WAEnC6F,MAAMhG,EAAAA,EAAAA,GAAC0N,EAAAA,eAAc,IACrBJ,SAAW3L,GAAyB4L,EAAAA,GAAOC,0BAA0B7L,EAAc8C,EAAAA,GAAsBC,SAGrGiJ,EAAkB,CACtBP,OACEpN,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,aAInB6F,MAAMhG,EAAAA,EAAAA,GAAC4N,EAAAA,WAAU,IACjBN,SAAW3L,GAAyB4L,EAAAA,GAAOC,0BAA0B7L,EAAc8C,EAAAA,GAAsBoJ,SAG9FC,EAA4C,CACvD,CAACrJ,EAAAA,GAAsBC,QAAS+I,EAChC,CAAChJ,EAAAA,GAAsBoJ,QAASF,GAGrBI,EAAyCD,EAEzCE,EAA6C,CACxD,CAACvJ,EAAAA,GAAsBE,MAAOwI,EAC9B,CAAC1I,EAAAA,GAAsBoJ,QAAS,IAC3BF,EACHP,OACEpN,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,YAKrB,CAACsE,EAAAA,GAAsBC,QAAS+I,GAGrBQ,EAAoC,IAC5CD,G,eC7BH,IAAAE,EAAA,CAAA/H,KAAA,SAAAC,OAAA,gBAEK,MAAM+H,EAAiBA,EAAGC,qBAA2D,IAADlI,EACzF,MAAM,aAAEvE,EAAY,QAAE0M,IAAYC,EAAAA,EAAAA,MAC5B,MAAEnP,IAAUC,EAAAA,EAAAA,MACXmP,IAAYC,EAAAA,EAAAA,OAGXC,gBAAiBC,IAAqBC,EAAAA,EAAAA,KAE9C,IAAIC,GAAoBC,EAAAA,EAAAA,IAAapK,EAAAA,GAAuB4J,OAAShL,GACjEuL,IAAsBnK,EAAAA,GAAsBqK,WAG9CF,EAAoBnK,EAAAA,GAAsBsK,gBAExCH,IAAsBnK,EAAAA,GAAsBuK,kBAG9CJ,EAAoBnK,EAAAA,GAAsBwK,kBAG5C,MAAMC,EA1Ceb,IAAoB,CAAC,QAAS,QAAS,YAAYc,SAASd,GA2C3Ee,CAAcb,GACT9J,EAAAA,GAAsBE,KA3CX0J,IAAoB,CAAC,UAAUc,SAASd,GA4CjDgB,CAAed,GACjB9J,EAAAA,GAAsBC,OAEtB6J,EAILe,EAAiD,QAAxCpJ,EAAmB,OAAhBwI,QAAgB,IAAhBA,EAAAA,EAAoBE,SAAiB,IAAA1I,EAAAA,EAAIgJ,EAErDK,EAnDyBnB,KAC/B,OAAQA,GACN,KAAK5O,EAAAA,GAAe4B,kBACpB,KAAK5B,EAAAA,GAAe6E,2BAClB,OAAOmL,EAAAA,EAAAA,MACHzB,EACAD,EACN,KAAKtO,EAAAA,GAAeC,yBACpB,KAAKD,EAAAA,GAAe8E,kCACpB,KAAK9E,EAAAA,GAAeiQ,YACpB,KAAKjQ,EAAAA,GAAekQ,WACpB,KAAKlQ,EAAAA,GAAemQ,OACpB,KAAKnQ,EAAAA,GAAeoQ,eAClB,OAAO5B,EACT,QACE,OAAOC,IAoCQ4B,CAAsC,OAAdzB,QAAc,IAAdA,EAAAA,EAAkB5O,EAAAA,GAAe+E,kBAE5E,OACEvE,EAAAA,EAAAA,GAAC8P,EAAAA,sBAAqB,CACpB7N,MAAOqN,EACPnJ,KAAK,iBACLtG,YAAY,4CACZkQ,sBAAoB,EACpBrP,KAAGC,EAAAA,EAAAA,IAAE,CACHqP,YAAa,SACb,CAAC7Q,EAAM8Q,WAAWC,aAAaC,IAAK,CAClC,mBAAoB,CAClBvP,QAAS,eAEX,2BAA4B,CAC1BA,QAAS,UAGd,IAACL,SAED6P,OAAOC,QAAQd,GAAYpK,IAAI,EAAEkJ,EAASiC,MACzC,MAAMC,EAAWlC,IAAYiB,EAE7B,OACE5P,EAAAA,EAAAA,IAAC8Q,EAAAA,SAAc,CAAAjQ,SAAA,EACbP,EAAAA,EAAAA,GAACyQ,EAAAA,GAAI,CACH/P,IAAGwN,EACHwC,UAAU,gBAEV7D,GAAIyD,EAAUhD,SAAqB,OAAZ3L,QAAY,IAAZA,EAAAA,EAAgB,IAAIpB,UAE3CP,EAAAA,EAAAA,GAAC2Q,EAAAA,uBAAsB,CACrB,cAAa,4BAA4BtC,KAAWkC,EAAW,SAAW,aAC1EG,UAAU,gBACVzO,MAAOoM,EACPrI,KAAMsK,EAAUtK,KAAKzF,UAErBP,EAAAA,EAAAA,GAAA,QAAAO,SAAO+P,EAAUlD,WATd,GAAGiB,WAYVrO,EAAAA,EAAAA,GAACyQ,EAAAA,GAAI,CACHC,UAAU,wBAEV7D,GAAIyD,EAAUhD,SAAqB,OAAZ3L,QAAY,IAAZA,EAAAA,EAAgB,IAAIpB,UAE3CP,EAAAA,EAAAA,GAAC2Q,EAAAA,uBAAsB,CACrB,cAAa,4BAA4BtC,KAAWkC,EAAW,SAAW,aAC1EG,UAAU,wBACVzO,MAAOoM,EACPrI,MACEhG,EAAAA,EAAAA,GAAC4Q,EAAAA,EAAO,CACNC,cAAe,EACfC,SACE9Q,EAAAA,EAAAA,GAAA,QAAAO,SAEG+P,EAAUlD,QAGfvN,YAAa,+CAA+CwO,IAAU9N,UAEtEP,EAAAA,EAAAA,GAAA,QAAAO,SAAO+P,EAAUtK,YAlBlB,GAAGqI,eAlBSA,Q,0BCjFmD,IAAAnI,EAAA,CAAAC,KAAA,UAAAC,OAAA,kDAAA8H,EAAA,CAAA/H,KAAA,UAAAC,OAAA,kCAAA2K,EAAA,CAAA5K,KAAA,UAAAC,OAAA,6DAO3E,MAAM4K,EAAyBR,EAAAA,KACpC,EACE9I,aACAtD,yBACA6M,oBACAC,UACAC,aACAC,6BASA,MAAM,MAAEjS,IAAUC,EAAAA,EAAAA,KAGlB,MAAM+D,GAAgBe,EAAAA,EAAAA,SAAQ,IAAOwD,EAAa,CAAW,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAY/F,cAAgB,GAAK,CAAC+F,IAE/E2J,GAA2BnN,EAAAA,EAAAA,SAAQ,IAAMwD,EAAWvB,KAAKmL,MAAM,KAAKC,MAAO,CAAC7J,EAAWvB,OA6CvFiI,EAAuC,OAAtBhK,QAAsB,IAAtBA,EAAAA,GAA0BoN,EAAAA,EAAAA,IAA0B9J,EAAW+J,MAEtF,OACE/R,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQC,cAAe,SAAUC,IAAK3B,EAAM4B,QAAQ2Q,GAAIzQ,aAAc9B,EAAM4B,QAAQC,IAAI,IAACT,SAAA,EAC5GP,EAAAA,EAAAA,GAACgH,EAAAA,WAAU,CAACC,sBAAoB,EAAA1G,SApDC,GAqDlB4E,IAAI,CAACwM,EAAYC,KAC5B5R,EAAAA,EAAAA,GAACgH,EAAAA,WAAWxB,KAAI,CAAAjF,SAAcoR,GAARC,OAG1BlS,EAAAA,EAAAA,IAAA,OAAKgB,IAAGwF,EAA0D3F,SAAA,EAChEb,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQE,IAAK3B,EAAM4B,QAAQC,GAAI6Q,WAAY,SAAUC,SAAU,SAAUC,SAAU,KAAK,IAACxR,SAAA,EAEzGP,EAAAA,EAAAA,GAAC4Q,EAAAA,EAAO,CACNE,QAASO,EACTxR,YAAY,wDAAuDU,UAEnEP,EAAAA,EAAAA,GAAA,QACEU,IAAGwN,EAGD3N,UAEFP,EAAAA,EAAAA,GAACQ,EAAAA,EAAWwR,MAAK,CACfC,gBAAc,EACdC,MAAO,EACPxR,IAAGqQ,EAIDxQ,SAED8Q,QAIND,GA7ELpR,EAAAA,EAAAA,GAAA,OAAKmS,MAAO,CAAEvR,QAAS,OAAQwR,YAAajT,EAAM4B,QAAQC,IAAKT,UAC7DP,EAAAA,EAAAA,GAACqS,EAAAA,YAAW,CAACC,UAAU,OAAM/R,UAC3Bb,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTC,cAAe,SACfC,IAAK3B,EAAM4B,QAAQ2Q,GACnBa,SAAU,UACX,IACD,cAAY,8CAA6ChS,SAAA,EAEzDb,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,SAEf,KACCuH,EAAWvB,KAAO,KACrBnG,EAAAA,EAAAA,GAACyH,EAAAA,EAAuB,CAACC,WAAYA,EAAYF,KAAK,WAExD9H,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,kBAEf,KACCuH,EAAW/F,aAAe,KAC7B3B,EAAAA,EAAAA,GAACyS,EAAAA,EAA8B,CAAC/K,WAAYA,QAE9ChI,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,sBAEf,MACAH,EAAAA,EAAAA,GAAC0S,EAAAA,EAA8B,CAACC,iBAAkBjL,EAAWiL,mBAAqB,KACpF3S,EAAAA,EAAAA,GAAC4S,EAAAA,EAAkC,CAAClL,WAAYA,kBA+CtD1H,EAAAA,EAAAA,GAACmO,EAAc,CAACC,eAAgBA,KAChCpO,EAAAA,EAAAA,GAAA,OACEU,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQE,IAAK3B,EAAM4B,QAAQC,GAAI6R,eAAgB,WAAYC,WAAY3T,EAAM4B,QAAQC,IAAI,IAACT,UAE1GP,EAAAA,EAAAA,GAAC+S,EAAAA,EAA+B,CAC9B5P,cAAeA,EACf8N,kBAAmBA,EACnBC,QAASA,cAOrB,IAAA8B,EAAA,CAAA7M,KAAA,UAAAC,OAAA,eAAA6M,EAAA,CAAA9M,KAAA,UAAAC,OAAA,kDAEK,SAAS8M,IACd,MAAM,MAAE/T,IAAUC,EAAAA,EAAAA,KAElB,OACEM,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQC,cAAe,SAAUC,IAAK3B,EAAM4B,QAAQ2Q,IAAI,IAACnR,SAAA,EAC5EP,EAAAA,EAAAA,GAACmT,EAAAA,kBAAiB,CAACzS,IAAGsS,EAAkBI,SAAO,KAC/C1T,EAAAA,EAAAA,IAAA,OAAKgB,IAAGuS,EAA0D1S,SAAA,EAChEP,EAAAA,EAAAA,GAACqT,EAAAA,cAAa,CAAC3S,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAO,IAAKC,OAAQpU,EAAMqU,QAAQC,UAAU,IAAEL,SAAO,KAC3EpT,EAAAA,EAAAA,GAACqT,EAAAA,cAAa,CAAC3S,KAAGC,EAAAA,EAAAA,IAAE,CAAE4S,OAAQpU,EAAMqU,QAAQC,SAAUC,UAAW,UAAU,IAAEN,SAAO,KACpFpT,EAAAA,EAAAA,GAACqT,EAAAA,cAAa,CAAC3S,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAOnU,EAAM4B,QAAQ4S,GAAIJ,OAAQpU,EAAMqU,QAAQC,SAAUC,UAAW,SAAS,IAAEN,SAAO,SAIpH,C,yIChK0C,IAAAlN,EAAA,CAAAC,KAAA,SAAAC,OAAA,wBAMnC,MAAMwN,EAAUA,EAAGC,eACxBnU,EAAAA,EAAAA,IAAA,OAAKgB,IAAGwF,EAA8B3F,SAAA,EACpCP,EAAAA,EAAAA,GAAC8T,EAAAA,EAAK,CACJjU,YAAY,+DACZkU,UAAQ,EACR9R,MAAO4R,EACP,cAAY,cAEd7T,EAAAA,EAAAA,GAACgU,EAAAA,EAAU,CAACH,SAAUA,OCLbI,EAAeA,EAAGrU,UAASE,WAAUoU,WAE9ClU,EAAAA,EAAAA,GAACL,EAAAA,EAAK,CACJE,YAAY,mFACZE,OAAOC,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,aACxCP,QAASA,EACTE,SAAUA,EAASS,UAEnBP,EAAAA,EAAAA,GAAC4T,EAAO,CAACC,SAAUK,M,sGCkDzB,IAAAhO,EAAA,CAAAC,KAAA,UAAAC,OAAA,wBAAA8H,EAAA,CAAA/H,KAAA,SAAAC,OAAA,UAKO,MAAM+N,EAA8BA,EACzCrU,WACAF,UACAuD,gBACA8N,oBACAC,cAEA,MAAOkD,EAAgBC,IAAqB9U,EAAAA,EAAAA,UAAiB,KACtD+U,EAAgBC,IAAqBhV,EAAAA,EAAAA,WAAS,IAC9CiV,EAAgBC,IAAqBlV,EAAAA,EAAAA,UAAoC,OACzEgP,IAAYC,EAAAA,EAAAA,MAEbkG,GAAWC,EAAAA,EAAAA,MAEXC,GAAmB1Q,EAAAA,EAAAA,SAAQ,SAAY+M,KAAsBC,IAAY,CAACD,EAAmBC,IAE7F2D,GAAwBhW,EAAAA,EAAAA,aAC5BoE,UACE,GAAIE,EAAcsC,OAAS,EAIzB,OAHA8O,GAAkB,GAClBE,EAAkBK,QAClBT,EAAkBU,OAAOC,SAAS1P,MAGpCiP,GAAkB,GAClB,MAAO5S,GAAgBwB,EACvB,IACE,MAAMJ,OA7DkBE,WAC1BgS,EAAAA,EAAAA,OACKrJ,EAAAA,EAAAA,IAAoBsJ,KAAKC,UAAUL,IAErCI,KAAKC,UAAUL,GAyDGM,CAAwBN,GACrCO,QAAaxK,EAAAA,EAAAA,IAAgB9H,GAE7BuS,EAAU,GAAGC,EAAAA,KAA8CF,UAE3DX,GAASc,EAAAA,EAAAA,IAAoB7T,EAAc2T,EAASvS,IAE1DwR,GAAkB,GAClBE,EAAkBK,GAElBT,EAhEgBoB,EAAC9T,EAAsB+T,EAAwBnH,KAErE,MAAMoH,EAAQpI,EAAAA,GAAOqI,uBAAuBjU,GAGtCkU,EAAc,IAAIC,gBAGxBD,EAAYE,IAAIC,EAAAA,GAAgDN,GAG5DnH,GACFsH,EAAYE,IAAIE,EAAAA,EAA2C1H,GAI7D,MAAM2H,EAASL,EAAYpK,WACrB0K,EAAY,GAAGR,IAAc,OAANO,QAAM,IAANA,GAAAA,EAAQzJ,WAAW,KAAO,GAAK,MAAMyJ,IAElE,MADiB,GAAGnB,OAAOC,SAASoB,SAASrB,OAAOC,SAASqB,YAAYF,KA8CjDV,CAAgB9T,EAAc0T,EAAM9G,GACxD,CAAE,MAAO+H,GAEP,MADAC,EAAAA,EAAMC,sBAAsB,kDACtBF,CACR,GAEF,CAAC5B,EAAUvR,EAAeoL,IAU5B,OAPA3J,EAAAA,EAAAA,WAAU,KACHhF,GAAW4U,IAAmBI,GAGnCC,EAAsBD,IACrB,CAAChV,EAASiV,EAAuBL,EAAgBI,KAGlD5U,EAAAA,EAAAA,GAACL,EAAAA,EAAK,CACJE,YAAY,8HACZE,OACEC,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,uBAInBP,QAASA,EACTE,SAAUA,EAASS,UAEnBb,EAAAA,EAAAA,IAAA,OAAKgB,IAAGwF,EAA8B3F,SAAA,CACnC+T,GACCtU,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,CAAC/V,IAAGwN,KAEpBlO,EAAAA,EAAAA,GAAC8T,EAAAA,EAAK,CACJjU,YAAY,8HACZ6W,YAAY,sDACZzU,MAAOmS,EACPL,UAAQ,KAGZ/T,EAAAA,EAAAA,GAACgU,EAAAA,EAAU,CAACZ,QAASkB,EAAgBT,SAAUO,EAAgB,cAAY,iCCzItErB,EAAkCA,EAC7C9B,oBACAC,UACA/N,oBAMA,MAAOwT,EAAkBC,IAAuBrX,EAAAA,EAAAA,WAAS,GAEzD,OACEG,EAAAA,EAAAA,IAAAoH,EAAAA,GAAA,CAAAvG,SAAA,CACG0Q,GAAqBC,GAAW/N,GAC/BnD,EAAAA,EAAAA,GAACmU,EAA2B,CAC1BlD,kBAAmBA,EACnBC,QAASA,EACTtR,QAAS+W,EACT7W,SAAUA,IAAM8W,GAAoB,GACpCzT,cAAeA,KAGjBnD,EAAAA,EAAAA,GAACiU,EAAY,CACXC,KAAMa,OAAOC,SAAS1P,KACtB1F,QAAS+W,EACT7W,SAAUA,IAAM8W,GAAoB,MAIxC5W,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,iIACZgX,KAAK,UACLxR,QAASA,IAAMuR,GAAoB,GACnC,cAAY,eAAcrW,UAE1BP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,e,2MC3ClC,MAEMqR,EACX/O,IAEoB,IAAAqU,EAAA,OAEN,OAAdrU,QAAc,IAAdA,GAAkE,QAApDqU,EAAdrU,EAAgBsU,KAAMC,GAPe,0BAOPA,EAAIhV,YAAgC,IAAA8U,OAApD,EAAdA,EAAoE7U,OAEzD4C,EAA4BuJ,GACvCA,IAAmB5O,EAAAA,GAAe6E,4BAClC+J,IAAmB5O,EAAAA,GAAe8E,mCAClC8J,IAAmB5O,EAAAA,GAAe+E,kBAClC6J,IAAmB5O,EAAAA,GAAe4B,mBAClCgN,IAAmB5O,EAAAA,GAAeC,0BAClC2O,IAAmB5O,EAAAA,GAAeyX,MAEvBC,EAAmC9I,GAC1CA,IAAmB5O,EAAAA,GAAe6E,2BAC7B7E,EAAAA,GAAe4B,kBAEpBgN,IAAmB5O,EAAAA,GAAe8E,kCAC7B9E,EAAAA,GAAeC,yBAEjB2O,EAGI9M,EAA0E,CACrF,CAAC9B,EAAAA,GAAe4B,oBAAoB+V,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAChDC,eAAe,wBAGjB,CAACX,EAAAA,GAAeC,2BAA2B0X,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACvDC,eAAe,qBAGjB,CAACX,EAAAA,GAAe6E,6BAA6B8S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzDC,eAAe,wBAGjB,CAACX,EAAAA,GAAe8E,oCAAoC6S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAChEC,eAAe,qBAGjB,CAACX,EAAAA,GAAe+E,mBAAmB4S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC/CC,eAAe,SAGjB,CAACX,EAAAA,GAAe4X,aAAaD,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzCC,eAAe,eAGjB,CAACX,EAAAA,GAAekQ,aAAayH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzCC,eAAe,eAGjB,CAACX,EAAAA,GAAeoQ,iBAAiBuH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC7CC,eAAe,mBAGjB,CAACX,EAAAA,GAAeiQ,cAAc0H,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC1CC,eAAe,gBAGjB,CAACX,EAAAA,GAAemQ,SAASwH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACrCC,eAAe,WAGjB,CAACX,EAAAA,GAAeyX,QAAQE,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACpCC,eAAe,UAKNkX,EAAuE,CAClF,CAAC7X,EAAAA,GAAe4B,oBAAoB+V,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAChDC,eAAe,wBAGjB,CAACX,EAAAA,GAAeC,2BAA2B0X,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACvDC,eAAe,qBAGjB,CAACX,EAAAA,GAAe6E,6BAA6B8S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzDC,eAAe,wBAIjB,CAACX,EAAAA,GAAe8E,oCAAoC6S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAChEC,eAAe,qBAGjB,CAACX,EAAAA,GAAe+E,mBAAmB4S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC/CC,eAAe,SAGjB,CAACX,EAAAA,GAAe4X,aAAaD,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzCC,eAAe,eAGjB,CAACX,EAAAA,GAAekQ,aAAayH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACzCC,eAAe,eAGjB,CAACX,EAAAA,GAAeoQ,iBAAiBuH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC7CC,eAAe,mBAGjB,CAACX,EAAAA,GAAeiQ,cAAc0H,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SAC1CC,eAAe,gBAGjB,CAACX,EAAAA,GAAemQ,SAASwH,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACrCC,eAAe,WAGjB,CAACX,EAAAA,GAAeyX,QAAQE,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACpCC,eAAe,UAMNmX,EAA+BA,IAAM,CAChD9X,EAAAA,GAAe4B,kBACf5B,EAAAA,GAAeC,yB,8HCzHjB,MAAM8X,GAAsCpS,EAAAA,EAAAA,KAC1C,CACE,CAACqS,EAAAA,GAAWC,uBAAwBhT,EAAAA,GAAsBE,KAC1D,CAAC6S,EAAAA,GAAWE,yBAA0BjT,EAAAA,GAAsBC,OAC5D,CAAC8S,EAAAA,GAAWG,yBAA0BlT,EAAAA,GAAsBoJ,QAE9D,CAACQ,EAASuJ,KAAS,CAAQA,YAAWvJ,aAc3BM,EAAuCA,KAClD,MAAM,SAAE0H,IAAawB,EAAAA,EAAAA,MAEfnJ,GAAmBxK,EAAAA,EAAAA,SAAQ,KAC/B,KAAK4T,EAAAA,EAAAA,MACH,OAEF,MAAMzJ,EAjBuBgI,KAAgB,IAAA0B,EAAA,OAGoB,QAHpBA,EAC/CR,EAEGR,KAAK,EAAGa,eAAgBtU,SAAQ0U,EAAAA,EAAAA,IAAUJ,EAAWvB,YAAW,IAAA0B,OAAA,EAFnEA,EAEqE1J,SAcnD4J,CAAwB5B,GACxC,OAAOhI,GACN,CAACgI,IACJ,MAAO,CACLhI,QAASK,EACTD,gBAAgCC,G,6ICnC7B,MAAMuH,EAA4C,kBAE5CiC,EAAmCA,IAAqC,QAG/EC,EAAqG,CACzGC,OAASzW,GAAyB4L,EAAAA,GAAOC,0BAA0B7L,EAAc8C,EAAAA,GAAsBoJ,SAO5FW,EAA4BA,KAIvC,MAAO0H,EAAQmC,IAAaC,EAAAA,EAAAA,MACtBC,GAAWC,EAAAA,EAAAA,MAuBjB,MAAO,CApBJtC,EAAOuC,IAAIxC,IACZiC,IACcQ,CAACC,EAAmDhX,KAElE,GAAIgX,KAAsBR,GAAsBxW,EAAc,CAAC,IAADiX,EAC5D,MAAMjD,EAA8C,QAAzCiD,EAAGT,EAAmBQ,UAAmB,IAAAC,OAAA,EAAtCA,EAAAtN,KAAA6M,EAAyCxW,GACvD,GAAIgU,EAEF,YADA4C,EAAS5C,EAGb,CACA0C,EACGQ,IACCA,EAAc9C,IAAIE,EAA2C0C,GAAsB,IAC5EE,GAET,CAAEna,SAAS,M,wGClCV,MAAM+T,EAAiCA,EAAG/K,iBAC/C,MAAMC,GAAOd,EAAAA,EAAAA,KAEb,OACE7G,EAAAA,EAAAA,GAACQ,EAAAA,EAAWoH,KAAI,CACdJ,KAAK,KACLK,wBAAyB,CACvBC,SAAU,CACRC,KAAML,EAAW/F,aACjBqE,MAAMhG,EAAAA,EAAAA,GAACgI,EAAAA,SAAQ,IACfC,SAAU,CACRN,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,uBAGjBwH,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,8B,mHCtBuD,IAAA+F,EAAA,CAAAC,KAAA,UAAAC,OAAA,aAQ7E,MAAM4N,EAAaA,EAAGH,WAAUiF,aAAY,EAAMjZ,iBAAgBkZ,MACvE,MAAOC,EAAaC,IAAkB1Z,EAAAA,EAAAA,WAAS,GAc/C,OACES,EAAAA,EAAAA,GAACkZ,EAAAA,cAAa,CACZnZ,OACEC,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,WAEnC0H,wBAAyB,CACvBjI,QAASoZ,GACTzY,UAEFP,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAwB,OAAXA,QAAW,IAAXA,EAAAA,EAAe,4BAC5BgX,KAAK,UACLxR,QAxBc8T,KAClBC,UAAUC,UAAUC,UAAUzF,GAC9BoF,GAAe,GACfM,WAAW,KACTN,GAAe,IACd,MAoBCO,aAjBmBC,KACvBR,GAAe,IAiBXvY,IAAGwF,EAEH3F,SACEuY,GAAY9Y,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,cAAsDkD,KAEjG0V,M,kOCxBL,MAAMW,EAAuBlJ,EAAAA,KAClC,EACE9I,aACAuJ,oBACAC,UACAyI,2BACAxI,iBAQA,MAAM5K,GAAcrC,EAAAA,EAAAA,SAClB,IAAM,EACJlE,EAAAA,EAAAA,GAACyQ,EAAAA,GAAI,CAEH5D,GAAIU,EAAAA,GAAOqM,4BACX,cAAY,8BAA6BrZ,UAEzCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,iBALZoN,EAAAA,GAAOqM,8BAUhB,KAII,MAAEza,KAFc+E,EAAAA,EAAAA,SAAQ,IAAOwD,EAAa,CAAW,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAY/F,cAAgB,GAAK,CAAC+F,KAEnEtI,EAAAA,EAAAA,MAKZiS,GAA2BnN,EAAAA,EAAAA,SAAQ,IAAMwD,EAAWvB,KAAKmL,MAAM,KAAKC,MAAO,CAAC7J,EAAWvB,OA+D7F,OACEnG,EAAAA,EAAAA,GAACqG,EAAAA,EAAU,CACTtG,OACEC,EAAAA,EAAAA,GAAA,OACEU,KAAGC,EAAAA,EAAAA,IAAE,CACH,CAACxB,EAAM8Q,WAAWC,aAAawB,IAAK,CAClC9Q,QAAS,SACTiZ,UAAW,aAEb,CAAC1a,EAAM8Q,WAAWC,aAAalP,IAAK,CAClCJ,QAAS,eACT4R,WAAY,SACZV,SAAU,SACVgI,aAAc,WACdC,cAAe,WAElB,IACDha,MAAOsR,EAAyB9Q,SAE/B8Q,IAGL7K,YAAa,EAjFbxG,EAAAA,EAAAA,GAAA,OAAKmS,MAAO,CAAEvR,QAAS,QAASL,UAC9BP,EAAAA,EAAAA,GAACqS,EAAAA,YAAW,CAACC,UAAU,OAAM/R,UAC3Bb,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTC,cAAe,SACfC,IAAK3B,EAAM4B,QAAQ2Q,GACnBa,SAAU,UACX,IACD,cAAY,8CAA6ChS,SAAA,EAEzDb,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,SAEf,KACCuH,EAAWvB,KAAO,KACrBnG,EAAAA,EAAAA,GAACyH,EAAAA,EAAuB,CAACC,WAAYA,EAAYF,KAAK,WAExD9H,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,kBAEf,KACCuH,EAAW/F,aAAe,KAC7B3B,EAAAA,EAAAA,GAACyS,EAAAA,EAA8B,CAAC/K,WAAYA,QAE9ChI,EAAAA,EAAAA,IAAA,OAAKyS,MAAO,CAAEK,WAAY,UAAWjS,SAAA,EACnCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,sBAEf,MACAH,EAAAA,EAAAA,GAAC0S,EAAAA,EAA8B,CAACC,iBAAkBjL,EAAWiL,mBAAqB,KACpF3S,EAAAA,EAAAA,GAAC4S,EAAAA,EAAkC,CAAClL,WAAYA,cAkDtDiS,IAzCF3Z,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,yHACZ2H,KAAK,QACLnC,QAASA,KACP8L,GAAW,IAEbzQ,KAAGC,EAAAA,EAAAA,IAAE,CACHmS,WAAY3T,EAAM4B,QAAQC,GAC1BgZ,WAAY,GAAG7a,EAAM8a,OAAOC,iCAC5BC,OAAQ,QACT,IAAC5Z,UAEFP,EAAAA,EAAAA,GAACQ,EAAAA,EAAWoH,KAAI,CAACJ,KAAK,KAAIjH,SAAC,uBA8B3B6Z,OAAO9W,SACTiD,YAAaA,EACbG,WAAW,KACXE,4BAA6B,CAC3B,CAACzH,EAAM8Q,WAAWC,aAAalP,IAAK,CAElC,UAAW,CACTuR,SAAU,UAGZ8H,GAAI,CACFzZ,QAAS,OACTkR,SAAU,gBAQtB,IAAA5L,EAAA,CAAAC,KAAA,UAAAC,OAAA,8CAEK,SAASkU,IACd,MAAM,MAAEnb,IAAUC,EAAAA,EAAAA,KAElB,OACEM,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAE4S,OAAQ,EAAIpU,EAAMqU,QAAQC,UAAU,IAAClT,SAAA,EAC/CP,EAAAA,EAAAA,GAAA,OAAKU,KAAGC,EAAAA,EAAAA,IAAE,CAAE4S,OAAQpU,EAAM4B,QAAQ4S,IAAI,IAACpT,UACrCP,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,CAAC/V,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAO,IAAKC,OAAQpU,EAAM4B,QAAQwZ,IAAI,IAAEnH,SAAO,OAEzE1T,EAAAA,EAAAA,IAAA,OAAKgB,IAAGwF,EAAuD3F,SAAA,EAC7DP,EAAAA,EAAAA,GAAA,OAAAO,UACEP,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,CAAC/V,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAO,IAAKC,OAAQpU,EAAMqU,QAAQC,UAAU,IAAEL,SAAO,OAE/E1T,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQE,IAAK3B,EAAM4B,QAAQC,IAAI,IAACT,SAAA,EACnDP,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,CAAC/V,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAO,IAAKC,OAAQpU,EAAMqU,QAAQC,UAAU,IAAEL,SAAO,KAC7EpT,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,CAAC/V,KAAGC,EAAAA,EAAAA,IAAE,CAAE2S,MAAO,GAAIC,OAAQpU,EAAMqU,QAAQC,UAAU,IAAEL,SAAO,YAKtF,C,uECnLA,MAAMoH,EAAuBC,EAAAA,EAAG;;;;;;;;;;;;;;;;;;;;;EA4BnBC,EAAwBA,EACnC/Y,eACAgZ,UAAU,CAAC,MAIN,IAADC,EACJ,MAAM,KACJ7X,EAAI,QACJqQ,EACAtP,MAAO+W,EAAW,QAClBC,IACE9X,EAAAA,EAAAA,IAAsEwX,EAAsB,CAC9FO,UAAW,CACT3R,MAAO,CACLzH,iBAGJqZ,MAAOrZ,KACJgZ,IAUL,MAAO,CACLvH,UACArQ,KAR8E,OAAJA,QAAI,IAAJA,GAAyB,QAArB6X,EAAJ7X,EAAMkY,2BAAmB,IAAAL,OAArB,EAAJA,EAA2BlT,WASrGoT,UACAD,YAAaA,EACbK,SATkBC,MAAO,IAADC,EACxB,OAAW,OAAJrY,QAAI,IAAJA,GAAyB,QAArBqY,EAAJrY,EAAMkY,2BAAmB,IAAAG,OAArB,EAAJA,EAA2BF,UAQxBC,I,oBCpBdE,EAAOC,QA5BS,SAASC,EAAWC,EAAQtd,EAAGgJ,EAAGwD,EAAG+Q,EAAGnF,EAAGoF,GAOzD,IAAKH,EAAW,CACd,IAAIzX,EACJ,QAAeT,IAAXmY,EACF1X,EAAQ,IAAI4I,MACV,qIAGG,CACL,IAAIiP,EAAO,CAACzd,EAAGgJ,EAAGwD,EAAG+Q,EAAGnF,EAAGoF,GACvBE,EAAW,GACf9X,EAAQ,IAAI4I,MACV8O,EAAO9c,QAAQ,MAAO,WAAa,OAAOid,EAAKC,IAAa,KAExDzV,KAAO,qBACf,CAGA,MADArC,EAAM+X,YAAc,EACd/X,CACR,CACF,C,gFCxCO,MAAM4O,EAAiCA,EAAGC,uBACxC3S,EAAAA,EAAAA,GAAA8G,EAAAA,GAAA,CAAAvG,SAAGoS,G,wGCCL,MAAMC,EAAqCA,EAAGlL,iBACnD,MAAMC,GAAOd,EAAAA,EAAAA,KAEb,OACE7G,EAAAA,EAAAA,GAACQ,EAAAA,EAAWoH,KAAI,CACdJ,KAAK,KACLK,wBAAyB,CACvBC,SAAU,CACRC,KAAML,EAAWiL,iBACjB3M,MAAMhG,EAAAA,EAAAA,GAACgI,EAAAA,SAAQ,IACfC,SAAU,CACRN,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,2BAGjBwH,EAAKO,cAAc,CAAAhI,GAAA,SACjBC,eAAe,kC,wBCxBtB,SAAS0O,EACdiN,EACA7Z,EACA8Z,GAEA,QAAc1Y,IAAVpB,GAAiC,OAAVA,GAAmC,kBAAVA,EAClD,OAAO8Z,EAET,IAAK,MAAMC,KAAKF,EACd,GAAIA,EAAQE,KAAO/Z,EAAO,OAAO6Z,EAAQE,GAE3C,OAAOD,CACT,C,oKCyBA,MA9BA,SAAgCE,EAA6BC,GAC3D,MAAOC,EAAaC,IAAkB7c,EAAAA,EAAAA,UAAwB,MA0B9D,OAxBAqF,EAAAA,EAAAA,WAAU,KACR,GAAIqX,EAAII,SAAWH,EAAS,CAC1B,MAAMI,EAAeA,KACnB,IAAKL,EAAII,QACP,OAEF,MAAME,EAAeN,EAAII,QAAQG,YAC3BC,EAAarM,OAAOsM,KAAKR,GAC5B9B,OAAQpY,GAAQka,EAAQla,IAAQua,GAChCI,KAAK,CAACze,EAAGgJ,IAAMgV,EAAQhe,GAAKge,EAAQhV,IAAI,GAE3CkV,EAAeK,IAGjBH,IAEA,MAAMM,EAAiB,IAAIC,eAAeP,GAG1C,OAFAM,EAAeE,QAAQb,EAAII,SAEpB,IAAMO,EAAeG,YAC9B,GAEC,CAACd,EAAKC,IAEFC,CACT,E,WCnBA,MAAMa,EAAiB,CACrBhc,GAAI,IACJ2S,GAAI,KAKOsJ,EAAiBA,EAC5Bra,YACAsa,gBACA3c,WACA4c,eAAc,EACdC,cAAc,KACdC,yBASA,MAAM,MAAEle,IAAUC,EAAAA,EAAAA,KACZke,GAAeC,EAAAA,EAAAA,QAAuB,MAEtCC,EAAuG,UAArFC,EAAuBH,EAAc,CAAEI,MAAOve,EAAM8Q,WAAW0N,YAAYhK,KAG7FiK,EAA4D,eAAvBP,EAErCQ,EAAoBb,EAAeI,GACnCU,EAAoBD,EA3BD,GA6BnBE,EAAyBP,EAC3BI,EACE,CAAEtK,MAAO,QACT,CAAE0K,aAAc,aAAa7e,EAAM8a,OAAOE,SAAU7G,MAAO,QAC7DsK,EACA,CACEtK,MAAOwK,GAET,CACEG,cAAe9e,EAAM4B,QAAQC,GAC7BsS,MAAOwK,GAGb,OACEpe,EAAAA,EAAAA,IAAA,OACE,cAAY,4BACZuc,IAAKqB,EACL5c,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTC,cAAe2c,EAAmBI,EAAqC,SAAW,iBAAoB,MACtG9c,IAAK3B,EAAM4B,QAAQ4S,IACpB,IAACpT,SAAA,EAEFP,EAAAA,EAAAA,GAAA,OACEU,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTsd,SAAU,EACVrd,cAAe,SACfC,IAAK3B,EAAM4B,QAAQwZ,GACnBjH,MAAOkK,EAAkB,OAAS,eAAeK,QAClD,IAACtd,SAEDqC,GAAY5C,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,IAAMlW,KAErCP,EAAAA,EAAAA,GAAA,OACEmS,MAAO,CACLvR,QAAS,UACLuc,GAAe,CAAEgB,WAAYhf,EAAM4B,QAAQwZ,KAC/Cha,UAEFb,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTC,cAAe,SACfC,IAAK3B,EAAM4B,QAAQ4S,MAChBoK,GACJ,IAACxd,SAAA,CAEDqC,IAAa5C,EAAAA,EAAAA,GAACyW,EAAAA,gBAAe,KAC5B7T,IAAa5C,EAAAA,EAAAA,GAACoe,EAAc,CAACC,kBAAmBnB,aAOtDkB,EAAiBA,EAAGC,wBAEtBre,EAAAA,EAAAA,GAAA,OAAAO,SACG8d,EACEjE,OAAQkE,GAAwB,OAAZA,GACpBlE,OAAQkE,GAAiC,QAAd,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAASxN,UAC7B3L,IAAI,EAAGpF,QAAOwe,iBAAgBzN,UAAS5Q,MAAM0R,KAC5C5R,EAAAA,EAAAA,GAACwe,EAAY,CAACze,MAAOA,EAAOwe,eAAgBA,EAAgBzN,QAASA,EAAkBc,MAAOA,GAAX1R,MAMhFue,EAAoBA,EAAGle,eAClC,MAAM,MAAEpB,IAAUC,EAAAA,EAAAA,KAClB,OACEY,EAAAA,EAAAA,GAACQ,EAAAA,EAAWwR,MAAK,CACfE,MAAO,EACPC,MAAO,CACLK,WAAY,SACZJ,YAAajT,EAAM4B,QAAQ4S,GAC3BwK,UAAW,GACX5d,SAEDA,KAKDie,EAAeA,EACnBze,QACA+Q,UACAc,QACA2M,kBAAiB,MAIjB,MAAM,MAAEpf,IAAUC,EAAAA,EAAAA,KAEZsf,EAAiBH,GACrBve,EAAAA,EAAAA,GAACmT,EAAAA,kBAAiB,CAChB/F,OACEpN,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,4BAKnBJ,GACFC,EAAAA,EAAAA,GAACye,EAAiB,CAAAle,SAAER,IAClB,KAEE4e,EAAgB,CAAEC,QAAS,GAAGzf,EAAM4B,QAAQwZ,UAAUpb,EAAM4B,QAAQwZ,UAE1E,OACE7a,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,IACAge,KACW,IAAV/M,EAAc,CAAC,EAAI,CAAEiN,UAAW,aAAa1f,EAAM8a,OAAOE,WAC/D,IAAC5Z,SAAA,CAEDme,EACA5N,MAGL,IAAA5K,EAAA,CAAAC,KAAA,UAAAC,OAAA,2CAEK,MAAM0Y,EAAmBA,EAC9BC,WACA9c,QACA+c,eAMA,MAAM,MAAE7f,IAAUC,EAAAA,EAAAA,KAClB,OACEM,EAAAA,EAAAA,IAAA,OACEgB,KAAGC,EAAAA,EAAAA,IAAE,CACHC,QAAS,OACTiR,WAAY,SACZ,eAAgB,CACd5Q,aAAc9B,EAAM4B,QAAQ2Q,IAE9BsN,SAAkB,OAARA,QAAQ,IAARA,EAAAA,EAzKQ,IA0KlBnF,UAAW,aACXoF,WAAY9f,EAAM+f,WAAWC,cAC9B,IAAC5e,SAAA,EAEFP,EAAAA,EAAAA,GAAA,OACEU,KAAGC,EAAAA,EAAAA,IAAE,CACHye,MAAOjgB,EAAM8a,OAAOoF,cACpBC,KAAM,GACN5L,UAAW,SACZ,IAACnT,SAEDwe,KAEH/e,EAAAA,EAAAA,GAAA,OACEU,IAAGwF,EAID3F,SAED0B,QAMIsd,EAAWA,KAEpBvf,EAAAA,EAAAA,GAACQ,EAAAA,EAAWoH,KAAI,CAACwX,MAAM,YAAW7e,UAChCP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,U,2MCzNyE,IAAA+F,EAAA,CAAAC,KAAA,SAAAC,OAAA,mCAAA8H,EAAA,CAAA/H,KAAA,UAAAC,OAAA,sDAAA2K,EAAA,CAAA5K,KAAA,SAAAC,OAAA,UAAA4M,EAAA,CAAA7M,KAAA,UAAAC,OAAA,mBAEzG,MAAMoZ,EAAoCA,EAC/Cjf,WACA6D,yBACAlF,YACAD,YACAwgB,0BAAyB,MAQzB,MAAM9X,GAAOd,EAAAA,EAAAA,MACP,MAAE1H,IAAUC,EAAAA,EAAAA,KAElB,OACEM,EAAAA,EAAAA,IAAA,OAAKgB,IAAGwF,EAA6C3F,SAAA,CAClDA,GACDb,EAAAA,EAAAA,IAACggB,EAAAA,GAAQC,KAAI,CAAC9f,YAAY,kEAAkE+f,MAAI,EAACC,OAAO,EAAMtf,SAAA,EAC5GP,EAAAA,EAAAA,GAAC0f,EAAAA,GAAQI,QAAO,CAACC,SAAO,EAAAxf,UACtBP,EAAAA,EAAAA,GAAA,OAAKU,IAAGwN,OAEVxO,EAAAA,EAAAA,IAACggB,EAAAA,GAAQM,QAAO,CAACtf,KAAG,EAAAH,SAAA,EAClBP,EAAAA,EAAAA,GAAC0f,EAAAA,GAAQO,MAAK,KACdvgB,EAAAA,EAAAA,IAAA,OAAKgB,KAAGC,EAAAA,EAAAA,IAAE,CAAEC,QAAS,OAAQiR,WAAY,aAAc/Q,IAAK3B,EAAM4B,QAAQC,IAAI,IAACT,SAAA,EAC7Eb,EAAAA,EAAAA,IAAA,OAAKgB,IAAGqQ,EAAcxQ,SAAA,EACpBP,EAAAA,EAAAA,GAACQ,EAAAA,EAAWC,UAAS,CAACC,IAAGsS,EAAoBzS,UAC3CP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,2JAEf+f,OAAQ,CACNC,UAAWxY,EAAKO,cAAcmP,EAAAA,GAA0BjT,IACxDgc,WAAYX,QAIlBzf,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,0EACZwF,QAASnG,EACT2X,KAAK,UACLrP,KAAK,QAAOjH,UAEZP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,kBAKrBH,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,0EACZwF,QAASpG,EACT+G,MAAMhG,EAAAA,EAAAA,GAACqgB,EAAAA,EAAS,IAChB7Y,KAAK,uBChCjB,IAAAtB,EAAA,CAAAC,KAAA,UAAAC,OAAA,kBAEK,MAAMka,EAAmCA,EAC9Cre,QACAmC,yBACA/C,WACAkf,aACAxM,YAAW,MAQX,MAAMyM,GAAgBtc,EAAAA,EAAAA,SACpB,KACEmM,EAAAA,EAAAA,SAAQ/O,EAAAA,IAA8B8Y,OAAO,EAAEpY,MAC7CsV,EAAAA,EAAAA,MAA+BnI,SAASnN,IAE5C,IAGIye,GAAevc,EAAAA,EAAAA,SAAQ,IACvBE,GACK8S,EAAAA,EAAAA,IAAgC9S,IAElCyK,EAAAA,EAAAA,IAAarP,EAAAA,GAAgByC,EAAOzC,EAAAA,GAAe+E,kBACzD,CAACtC,EAAOmC,IAELsc,EA1CgBC,EAAC/e,EAAsBmS,IACzCnS,IAASpC,EAAAA,GAAe+E,kBAAoB3C,IAASpC,EAAAA,GAAeyX,MAClElD,EAEKzS,EAAAA,GAA6B9B,EAAAA,GAAe+E,mBAE9C4S,EAAAA,EAAAA,IAAc,CAAAjX,GAAA,SACnBC,eAAe,kBAIZmB,EAAAA,GAA6BM,GA+Bf+e,CAAgBF,EAAc1M,IAC5C6M,EAAcC,IAAmBthB,EAAAA,EAAAA,WAAS,IAC1CuhB,EAAyBC,IAA8BxhB,EAAAA,EAAAA,UAC5D+D,QAAQc,IAA2B2P,IAAYlP,EAAAA,EAAAA,IAAyBT,KAIpE4c,GAAgBnc,EAAAA,EAAAA,IAAyB4b,KAAkB1M,EAE3DkN,GACJvhB,EAAAA,EAAAA,IAACwhB,EAAAA,IAAG,CACFlb,KAAMua,GAAavgB,EAAAA,EAAAA,GAACmhB,EAAAA,EAAO,CAAC3Z,KAAK,UAAa,KAC9C3H,YAAY,yDACZa,IAAGwF,EAEHb,QAAU2b,EAA4B,YAAZ3d,EAAqB9C,SAAA,CAE9CmgB,IAAgB1gB,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,IAAKygB,IAAiB,IAAEM,IAAiBhhB,EAAAA,EAAAA,GAACohB,EAAAA,gBAAe,OAIzFC,GAAwBrhB,EAAAA,EAAAA,GAACshB,EAAqB,CAAA/gB,SAAE0gB,IAEtD,GAAIlN,EACF,OAAOsN,EAGT,MAAME,GACJ7hB,EAAAA,EAAAA,IAAC8hB,EAAAA,aAAa7B,KAAI,CAChBE,OAAO,EACPD,KAAMgB,EACNa,aAAe7B,IACbmB,GAA2B,GAC3BF,EAAgBjB,IAChBrf,SAAA,EAGFP,EAAAA,EAAAA,GAACshB,EAAqB,CAAA/gB,UACpBP,EAAAA,EAAAA,GAACwhB,EAAAA,aAAa1B,QAAO,CAACC,SAAO,EAAAxf,SAAE0gB,OAEjCvhB,EAAAA,EAAAA,IAAC8hB,EAAAA,aAAaxB,QAAO,CAAC0B,MAAM,QAAOnhB,SAAA,EACjCP,EAAAA,EAAAA,GAACwhB,EAAAA,aAAavB,MAAK,KACnBjgB,EAAAA,EAAAA,GAACwhB,EAAAA,aAAaG,MAAK,CAAAphB,UACjBP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,sBAIlBqgB,EAAcrb,IAAI,EAAEnD,EAAKoL,MACxB,MAAMwU,EAAa5f,IAAQye,EAC3B,OACE/gB,EAAAA,EAAAA,IAAC8hB,EAAAA,aAAaK,aAAY,CAExBhiB,YAAa,0DAA0DmC,IACvEqD,QAASA,IAAc,OAARhE,QAAQ,IAARA,OAAQ,EAARA,EAAWW,GAC1Bb,QAASygB,EAAWrhB,SAAA,EAEpBP,EAAAA,EAAAA,GAACwhB,EAAAA,aAAaM,cAAa,KAC3B9hB,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,IAAKmN,MANjBpL,WAcjB,OAAI8e,GAA2B1c,GAE3BpE,EAAAA,EAAAA,GAACwf,EAAiC,CAChCpb,uBAAwBA,EACxBlF,UAAW+D,UACLmB,IACM,OAAR/C,QAAQ,IAARA,GAAAA,GAAW6V,EAAAA,EAAAA,IAAgC9S,KAE7C2c,GAA2B,IAE7B9hB,UAAWA,IAAM8hB,GAA2B,GAC5CtB,wBAAwB5a,EAAAA,EAAAA,IAAyB4b,GAAclgB,SAE9DygB,EAAgBO,EAAkBF,IAKlCL,EAAgBO,EAAkBF,GAGrCC,EAAwBA,EAAG/gB,eAC/BP,EAAAA,EAAAA,GAAC4Q,EAAAA,EAAO,CACN/Q,YAAY,iEACZiR,SACE9Q,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,oBAGlBI,SAEAA,G,oNC9HL,MAGMwhB,EAAkB,CACtB,CAAC,SAAU,OAAQ,SAAU,iBAC7B,CAAC,OAAQ,OAAQ,SACjB,CAAC,iBAAkB,iBAGfC,GAAYpkB,EAAAA,EAAAA,MAEZqkB,EAA2BnjB,IAC/B,GAAIA,EAAU,CACZ,MAAMojB,GAAY7jB,EAAAA,EAAAA,IAAsB2jB,EAAUjjB,SAASD,IAC3D,OAAON,EAAAA,EAAAA,IAAqB0jB,EAC9B,CACA,OAAO,MAGIC,EAAiCA,EAC5Cza,aACA0a,UACAjR,aACAkR,8BACAC,gBACAC,mBASA,MAAMC,GAAaC,EAAAA,EAAAA,IAAa3N,IAC9B,MAAMrD,GAAOiR,EAAAA,EAAAA,IAAkBhb,EAAW/F,aAAcmT,GACxD,OAAOrD,EApCkBA,KAAoC,IAAAkR,EAAA,OACJ,QAA3DA,EAAAvS,OAAO8P,OAAOzO,GAAMsF,KAAM6L,GAAMA,EAAE5gB,MAAQ6gB,EAAAA,UAAiB,IAAAF,OAAA,EAA3DA,EAA6D1gB,aAASoB,GAmCtDyf,CAAoBrR,GAAQ,KAE5C4Q,GAA6BG,GAE7B,MAAMO,EAAgBP,GAAcD,GAC7BS,EAASC,IAAc1jB,EAAAA,EAAAA,UAASwjB,IAChCG,EAAaC,IAAkB5jB,EAAAA,EAAAA,UAA0C,UACzE6jB,EAAYC,IAAiB9jB,EAAAA,EAAAA,WAAS,IAEvC,MAAEJ,IAAUC,EAAAA,EAAAA,KAGZkkB,EADsB,GACsB,EAAInkB,EAAM4B,QAAQC,GAK9D0T,GAAWC,EAAAA,EAAAA,MAEX4O,GAAuB1kB,EAAAA,EAAAA,aAC1B2kB,IACCrS,GAAW,GACXkR,GAA6BmB,GAC7B,MAAMC,GAASjO,EAAAA,EAAAA,IAAoB9N,EAAW/F,aAAckhB,EAAAA,EAAkBW,GAC9E9O,EAAS+O,GAAQvhB,KAAKogB,IAExB,CAAC5a,EAAW/F,aAAc+S,EAAUvD,EAAYkR,EAA6BC,IAG/E,OACE5iB,EAAAA,EAAAA,IAAA,OAAAa,SAAA,CACGwiB,IACCrjB,EAAAA,EAAAA,IAAA,OACEyS,MAAO,CACLK,WAAY4Q,EAAa,SAAW,WACpCnE,WAAY9f,EAAM+f,WAAWC,aAC7BnF,WAAY7a,EAAM8a,OAAOC,oBACzBtZ,QAAS,OACTiR,WAAY,aACZ+M,QAASzf,EAAM4B,QAAQ2Q,IACvBnR,SAAA,EAEFP,EAAAA,EAAAA,GAAA,OACEmS,MAAO,CACL+L,SAAU,EACV9L,YAnCe,GAoCfN,SAAU,SACV4R,aAAcN,EAAa,kBAAe/f,EAC1Cub,QAAS,GAAGzf,EAAM4B,QAAQC,YAC1B2iB,UAAWP,EAAa,OAASE,EAAsB,KACvDzJ,UAAW,cACXtZ,UAEFP,EAAAA,EAAAA,GAAA,OAEE4jB,wBAAyB,CAAEC,OAAQ5B,EAAwBc,SAG/D/iB,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,0HACZmG,MAAMhG,EAAAA,EAAAA,GAAC8jB,EAAAA,WAAU,IACjBze,QAASA,IAAM8L,GAAW,GAC1BgB,MAAO,CAAEyM,QAAS,OAAOzf,EAAM4B,QAAQC,UAExCoiB,GACCpjB,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,0HACZmG,MAAMhG,EAAAA,EAAAA,GAAC+jB,EAAAA,cAAa,IACpB1e,QAASA,IAAMge,GAAc,GAC7BlR,MAAO,CAAEyM,QAAS,OAAOzf,EAAM4B,QAAQC,WAGzChB,EAAAA,EAAAA,GAAC+F,EAAAA,EAAM,CACLlG,YAAY,0HACZmG,MAAMhG,EAAAA,EAAAA,GAACohB,EAAAA,gBAAe,IACtB/b,QAASA,IAAMge,GAAc,GAC7BlR,MAAO,CAAEyM,QAAS,OAAOzf,EAAM4B,QAAQC,cAK/ChB,EAAAA,EAAAA,GAACL,EAAAA,EAAK,CACJE,YAAY,0HACZE,OACEC,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,oBAInBP,QAASwiB,EACT/hB,QACEL,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,SAEnCC,YACEJ,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SAACC,eAAe,WAEnCG,KAAMA,KACJijB,EAAqBP,GACrB7R,GAAW,IAEbrR,SAAUA,KACRmjB,EAAWF,GACX5R,GAAW,IACX5Q,UAEFP,EAAAA,EAAAA,GAACwQ,EAAAA,SAAc,CAAAjQ,UACbP,EAAAA,EAAAA,GAACgkB,EAAAA,QAAQ,CACP/hB,MAAO+gB,EACPiB,gBA/FgB,IAgGhBC,gBA/FgB,IAgGhBC,iBA/FiB,GAgGjBpC,gBAAiBA,EACjB1gB,SAAWY,GAAUghB,EAAWhhB,GAChCihB,YAAaA,EACbkB,YAAcC,GAAWlB,EAAekB,GACxCC,wBAAyBA,IAAMliB,QAAQC,QAAQ4f,EAAwBe,IACvEuB,QAAUpe,IACRnG,EAAAA,EAAAA,GAACkZ,EAAAA,cAAa,CAACnZ,MAAOoG,EAAK5F,UACzBP,EAAAA,EAAAA,GAAA,QAAMU,KAAGC,EAAAA,EAAAA,IAAE,CAAEye,MAAOjgB,EAAM8a,OAAOuK,aAAa,IAACjkB,UAC7CP,EAAAA,EAAAA,GAACykB,EAAAA,QAAO,CAACze,KAAMG,iB,8HClL1B,MAAMkB,EAAeA,EAAGqJ,gBAC7B,MAAM,MAAEvR,IAAUC,EAAAA,EAAAA,KAClB,OACEY,EAAAA,EAAAA,GAACkhB,EAAAA,IAAG,CACFrhB,YAAY,oEACZ6Q,UAAWA,EACXhQ,KAAGC,EAAAA,EAAAA,IAAE,CAAEmS,WAAY3T,EAAM4B,QAAQ2Q,IAAI,IACrC0N,MAAM,YAAW7e,UAEjBP,EAAAA,EAAAA,GAACC,EAAAA,EAAgB,CAAAC,GAAA,SACfC,eAAe,mB","sources":["common/utils/MarkdownUtils.ts","experiment-tracking/components/experiment-page/components/header/ExperimentViewInferredKindModal.tsx","experiment-tracking/components/experiment-page/hooks/useUpdateExperimentKind.tsx","experiment-tracking/components/experiment-page/hooks/useInferExperimentKind.tsx","experiment-tracking/components/traces/hooks/useExperimentContainsTraces.tsx","experiment-tracking/components/traces/hooks/useExperimentContainsTrainingRuns.tsx","shared/building_blocks/PageHeader.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyTitle.tsx","common/utils/StringUtils.ts","experiment-tracking/components/experiment-page/components/header/tab-selector-bar/TabSelectorBarConstants.tsx","experiment-tracking/components/experiment-page/components/header/tab-selector-bar/TabSelectorBar.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeaderV2.tsx","shared/building_blocks/CopyBox.tsx","experiment-tracking/components/modals/GetLinkModal.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentGetShareLinkModal.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeaderShareButton.tsx","experiment-tracking/utils/ExperimentKindUtils.ts","experiment-tracking/components/experiment-page/hooks/useGetExperimentPageActiveTabByRoute.tsx","experiment-tracking/components/experiment-page/hooks/useExperimentPageViewMode.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyExperimentId.tsx","shared/building_blocks/CopyButton.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeader.tsx","experiment-tracking/hooks/useExperimentQuery.tsx","../node_modules/invariant/browser.js","experiment-tracking/components/experiment-page/components/ExperimentViewArtifactLocation.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyArtifactLocation.tsx","shared/web-shared/utils/coerceToEnum.ts","shared/web-shared/utils/unified-details/useResponsiveContainer.ts","shared/web-shared/utils/unified-details/index.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewInferredKindPopover.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeaderKindSelector.tsx","experiment-tracking/components/experiment-page/components/ExperimentViewDescriptionNotes.tsx","shared/building_blocks/PreviewBadge.tsx"],"sourcesContent":["/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport { useCallback } from 'react';\nimport sanitizeHtml from 'sanitize-html';\n// @ts-expect-error TS(7016): Could not find a declaration file for module 'show... Remove this comment to see the full error message\nimport { Converter } from 'showdown';\n\n// Use Github-like Markdown (i.e. support for tasklists, strikethrough,\n// simple line breaks, code blocks, emojis)\nconst DEFAULT_MARKDOWN_FLAVOR = 'github';\n\nlet _converter: Converter | null = null;\n\nexport const getMarkdownConverter = () => {\n  // Reuse the same converter instance if available\n  if (_converter) {\n    return _converter;\n  }\n  _converter = new Converter();\n  _converter.setFlavor(DEFAULT_MARKDOWN_FLAVOR);\n  return _converter;\n};\n\n// Options for HTML sanitizer.\n// See https://www.npmjs.com/package/sanitize-html#what-are-the-default-options for usage.\n// These options were chosen to be similar to Github's allowlist but simpler (i.e. we don't\n// do any transforms of the contained HTML and we disallow script entirely instead of\n// removing contents).\nconst sanitizerOptions = {\n  allowedTags: [\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'h7',\n    'h8',\n    'blockquote',\n    'p',\n    'a',\n    'ul',\n    'ol',\n    'nl',\n    'li',\n    'ins',\n    'b',\n    'i',\n    'strong',\n    'em',\n    'strike',\n    'code',\n    'hr',\n    'br',\n    'div',\n    'table',\n    'thead',\n    'tbody',\n    'tr',\n    'th',\n    'td',\n    'pre',\n    'del',\n    'sup',\n    'sub',\n    'dl',\n    'dt',\n    'dd',\n    'kbd',\n    'q',\n    'samp',\n    'samp',\n    'var',\n    'hr',\n    'rt',\n    'rp',\n    'summary',\n    'iframe',\n    'img',\n    'caption',\n    'figure',\n  ],\n  allowedAttributes: {\n    a: ['href', 'name', 'target'],\n    img: ['src', 'longdesc'],\n    div: ['itemscope', 'itemtype'],\n  },\n};\n\nexport const sanitizeConvertedHtml = (dirtyHtml: any) => {\n  return sanitizeHtml(dirtyHtml, sanitizerOptions);\n};\n\nexport const forceAnchorTagNewTab = (html: any) => {\n  return html.replace(new RegExp('<a', 'g'), '<a target=\"_blank\"');\n};\n\nexport const useMarkdownConverter = () =>\n  useCallback((markdown?: string) => {\n    const converter = getMarkdownConverter();\n    const html = converter.makeHtml(markdown);\n    return sanitizeConvertedHtml(html);\n  }, []);\n","import { Modal, Radio, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentKind } from '../../../../constants';\nimport { ExperimentKindDropdownLabels } from '../../../../utils/ExperimentKindUtils';\n\nexport const ExperimentViewInferredKindModal = ({\n  onDismiss,\n  onConfirm,\n}: {\n  onDismiss?: () => void;\n  onConfirm: (kind: ExperimentKind) => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const [selectedKind, setSelectedKind] = useState<ExperimentKind>(ExperimentKind.CUSTOM_MODEL_DEVELOPMENT);\n\n  return (\n    <Modal\n      visible\n      componentId=\"mlflow.experiment_view.header.experiment_kind_inference_modal\"\n      onCancel={onDismiss}\n      title={\n        <FormattedMessage\n          defaultMessage=\"Choose experiment type\"\n          description=\"A title for the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      cancelText={\n        <FormattedMessage\n          defaultMessage=\"I'll choose later\"\n          description=\"A label for the dismissal button in the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      okText={\n        <FormattedMessage\n          defaultMessage=\"Confirm\"\n          description=\"A label for the confirmation button in the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      onOk={() => onConfirm(selectedKind)}\n    >\n      <Typography.Paragraph>\n        <FormattedMessage\n          defaultMessage=\"We support multiple experiment types, each with its own set of features. Please select the type you'd like to use. You can change this later if needed.\"\n          description=\"Popover message displayed when the experiment type could not not inferred\"\n        />\n      </Typography.Paragraph>\n      <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.sm, marginBottom: theme.spacing.sm }}>\n        <Radio\n          checked={selectedKind === ExperimentKind.GENAI_DEVELOPMENT}\n          onChange={() => setSelectedKind(ExperimentKind.GENAI_DEVELOPMENT)}\n        >\n          <FormattedMessage {...ExperimentKindDropdownLabels[ExperimentKind.GENAI_DEVELOPMENT]} />\n        </Radio>\n        <Radio\n          checked={selectedKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT}\n          onChange={() => setSelectedKind(ExperimentKind.CUSTOM_MODEL_DEVELOPMENT)}\n        >\n          <FormattedMessage {...ExperimentKindDropdownLabels[ExperimentKind.CUSTOM_MODEL_DEVELOPMENT]} />\n        </Radio>\n      </div>\n    </Modal>\n  );\n};\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { ExperimentKind } from '../../../constants';\nimport { MlflowService } from '../../../sdk/MlflowService';\n\n/**\n * An utility wrapper hook to update the experiment kind.\n * The success callback is optional but it's part of the mutation to include it in the loading state.\n */\nexport const useUpdateExperimentKind = (onSuccess?: () => void) =>\n  useMutation<unknown, Error, { experimentId: string; kind: ExperimentKind }>({\n    mutationFn: ({ experimentId, kind }) =>\n      MlflowService.setExperimentTag({\n        experiment_id: experimentId,\n        key: 'mlflow.experimentKind',\n        value: kind,\n      }).then(() => onSuccess?.() ?? Promise.resolve()),\n  });\n","import { useEffect, useMemo, useState } from 'react';\nimport { useExperimentContainsTraces } from '../../traces/hooks/useExperimentContainsTraces';\nimport { ExperimentKind, ExperimentPageTabName } from '../../../constants';\nimport { useExperimentContainsTrainingRuns } from '../../traces/hooks/useExperimentContainsTrainingRuns';\nimport { isEditableExperimentKind } from '../../../utils/ExperimentKindUtils';\n\nexport const useInferExperimentKind = ({\n  experimentId,\n  isLoadingExperiment,\n  enabled = true,\n  experimentTags,\n  updateExperimentKind,\n}: {\n  experimentId?: string;\n  isLoadingExperiment: boolean;\n  enabled?: boolean;\n  experimentTags?: { key?: string | null; value?: string | null }[] | null;\n  updateExperimentKind: (params: { experimentId: string; kind: ExperimentKind }) => void;\n}) => {\n  const { containsTraces, isLoading: isTracesBeingDetermined } = useExperimentContainsTraces({\n    experimentId,\n    enabled,\n  });\n\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  const { containsRuns, isLoading: isTrainingRunsBeingDetermined } = useExperimentContainsTrainingRuns({\n    experimentId,\n    enabled,\n  });\n\n  const isLoading = enabled && (isLoadingExperiment || isTracesBeingDetermined || isTrainingRunsBeingDetermined);\n\n  const inferredExperimentKind = useMemo(() => {\n    if (!enabled || isLoading || isDismissed) {\n      return undefined;\n    }\n    if (containsTraces) {\n      return ExperimentKind.GENAI_DEVELOPMENT_INFERRED;\n    }\n    if (containsRuns) {\n      return ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED;\n    }\n    return ExperimentKind.NO_INFERRED_TYPE;\n  }, [\n    // prettier-ignore\n    enabled,\n    isDismissed,\n    isLoading,\n    containsTraces,\n    containsRuns,\n  ]);\n\n  const inferredExperimentPageTab = useMemo(() => {\n    if (inferredExperimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED) {\n      return ExperimentPageTabName.Traces;\n    }\n    if (inferredExperimentKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED) {\n      return ExperimentPageTabName.Runs;\n    }\n    return undefined;\n  }, [inferredExperimentKind]);\n\n  // automatically update the experiment type if it's not user-editable\n  useEffect(() => {\n    if (inferredExperimentKind && !isEditableExperimentKind(inferredExperimentKind)) {\n      updateExperimentKind({ experimentId: experimentId ?? '', kind: inferredExperimentKind });\n    }\n  }, [experimentId, inferredExperimentKind, updateExperimentKind]);\n\n  return {\n    isLoading,\n    inferredExperimentKind,\n    inferredExperimentPageTab,\n    dismiss: () => setIsDismissed(true),\n  };\n};\n","import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../../sdk/MlflowService';\nimport { isEmpty } from 'lodash';\nimport invariant from 'invariant';\n\nconst QUERY_KEY = 'EXPERIMENT_CONTAINS_TRACES';\n\n/**\n * Hook for checking if there are any traces for a given experiment.\n * Returns `containsTraces` set to `true` if there's at least one trace, `false` otherwise.\n */\nexport const useExperimentContainsTraces = ({\n  experimentId,\n  enabled,\n}: {\n  experimentId?: string;\n  enabled?: boolean;\n}) => {\n  const { data, isLoading } = useQuery(\n    [QUERY_KEY, experimentId],\n    async () => {\n      invariant(experimentId, 'experimentId is required');\n      const experimentIds = [experimentId];\n\n      return MlflowService.getExperimentTraces(experimentIds, 'timestamp_ms DESC', undefined, undefined, 1);\n    },\n    {\n      enabled: enabled && Boolean(experimentId),\n    },\n  );\n\n  const containsTraces = !isLoading && !isEmpty(data?.traces);\n  return {\n    containsTraces,\n    isLoading: isLoading && enabled && Boolean(experimentId),\n  };\n};\n","import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../../sdk/MlflowService';\nimport { isEmpty } from 'lodash';\nimport invariant from 'invariant';\nimport { useMemo } from 'react';\n\nconst QUERY_KEY = 'EXPERIMENT_CONTAINS_TRAINING_RUNS';\n\n/**\n * Hook for checking if there are any runs in a given experiment.\n * Returns `containsRuns` set to `true` if there's at least one run, `false` otherwise.\n */\nexport const useExperimentContainsTrainingRuns = ({\n  experimentId,\n  enabled,\n}: {\n  experimentId?: string;\n  enabled?: boolean;\n}) => {\n  const { data, isLoading, error } = useQuery(\n    [QUERY_KEY, experimentId],\n    async () => {\n      invariant(experimentId, 'experimentId is required');\n      const experimentIds = [experimentId];\n\n      const ret = await MlflowService.searchRuns({\n        experiment_ids: experimentIds,\n        max_results: 1,\n      });\n\n      return ret;\n    },\n    {\n      enabled: Boolean(experimentId) && enabled,\n    },\n  );\n\n  const containsRuns = useMemo(() => !isLoading && !isEmpty(data?.runs), [isLoading, data]);\n\n  return {\n    containsRuns,\n    isLoading: isLoading && enabled && Boolean(experimentId),\n  };\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport {\n  Breadcrumb,\n  Button,\n  Spacer,\n  Dropdown,\n  Menu,\n  Header,\n  OverflowIcon,\n  useDesignSystemTheme,\n  type HeaderProps,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { PreviewBadge } from './PreviewBadge';\n\ntype OverflowMenuProps = {\n  menu?: {\n    id: string;\n    itemName: React.ReactNode;\n    onClick?: (...args: any[]) => any;\n    href?: string;\n  }[];\n};\n\nexport function OverflowMenu({ menu }: OverflowMenuProps) {\n  const overflowMenu = (\n    <Menu>\n      {/* @ts-expect-error TS(2532): Object is possibly 'undefined'. */}\n      {menu.map(({ id, itemName, onClick, href, ...otherProps }) => (\n        // @ts-expect-error TS(2769): No overload matches this call.\n        <Menu.Item key={id} onClick={onClick} href={href} data-testid={id} {...otherProps}>\n          {itemName}\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n  return menu.length > 0 ? (\n    <Dropdown overlay={overflowMenu} trigger={['click']} placement=\"bottomLeft\" arrow>\n      <Button\n        componentId=\"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54\"\n        icon={<OverflowIcon />}\n        data-testid=\"overflow-menu-trigger\"\n        aria-label=\"Open header dropdown menu\"\n      />\n    </Dropdown>\n  ) : null;\n}\n\ntype PageHeaderProps = Pick<HeaderProps, 'dangerouslyAppendEmotionCSS'> & {\n  title: React.ReactNode;\n  breadcrumbs?: React.ReactNode[];\n  preview?: boolean;\n  feedbackOrigin?: string;\n  infoPopover?: React.ReactNode;\n  children?: React.ReactNode;\n  spacerSize?: 'xs' | 'sm' | 'md' | 'lg';\n  hideSpacer?: boolean;\n  titleAddOns?: React.ReactNode | React.ReactNode[];\n};\n\n/**\n * A page header that includes:\n *   - title,\n *   - optional breadcrumb content,\n *   - optional preview mark,\n *   - optional feedback origin: shows the \"Send feedback\" button when not empty, and\n *   - optional info popover, safe to have link inside.\n */\nexport function PageHeader(props: PageHeaderProps) {\n  const {\n    title, // required\n    breadcrumbs = [],\n    titleAddOns = [],\n    preview,\n    children,\n    spacerSize,\n    hideSpacer = false,\n    dangerouslyAppendEmotionCSS,\n  } = props;\n  const { theme } = useDesignSystemTheme();\n  const intl = useIntl();\n\n  return (\n    <>\n      <Header\n        breadcrumbs={\n          breadcrumbs.length > 0 && (\n            <Breadcrumb includeTrailingCaret>\n              {breadcrumbs.map((b, i) => (\n                <Breadcrumb.Item key={i}>{b}</Breadcrumb.Item>\n              ))}\n            </Breadcrumb>\n          )\n        }\n        buttons={children}\n        title={title}\n        // prettier-ignore\n        titleAddOns={\n          <>\n            {preview && <PreviewBadge css={{ marginLeft: 0 }} />}\n            {titleAddOns}\n          </>\n        }\n        dangerouslyAppendEmotionCSS={dangerouslyAppendEmotionCSS}\n      />\n      <Spacer\n        // @ts-expect-error TS(2322): Type '{ css: { flexShrink: number; }; }' is not as... Remove this comment to see the full error message\n        css={{\n          // Ensure spacer's fixed height\n          flexShrink: 0,\n          ...(hideSpacer ? { display: 'none' } : {}),\n        }}\n        size={spacerSize}\n      />\n    </>\n  );\n}\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the title after clicking on the icon\n */\nexport const ExperimentViewCopyTitle = ({\n  experiment,\n  size,\n}: {\n  experiment: ExperimentEntity;\n  size: 'sm' | 'md' | 'lg' | 'xl';\n}) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size={size}\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.name,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy path',\n              description: 'Copy tooltip to copy experiment path from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Path copied',\n              description: 'Tooltip displayed after experiment path was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","import _ from 'lodash';\n// Import pako lazily to reduce bundle size\nconst lazyPako = () => import('pako');\n\nexport const truncateToFirstLineWithMaxLength = (str: string, maxLength: number): string => {\n  const truncated = _.truncate(str, {\n    length: maxLength,\n  });\n  return _.takeWhile(truncated, (char) => char !== '\\n').join('');\n};\n\nexport const capitalizeFirstChar = (str: unknown) => {\n  if (!str || typeof str !== 'string' || str.length < 1) {\n    return str;\n  }\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nexport const middleTruncateStr = (str: string, maxLen: number) => {\n  if (str.length > maxLen) {\n    const firstPartLen = Math.floor((maxLen - 3) / 2);\n    const lastPartLen = maxLen - 3 - firstPartLen;\n    return str.substring(0, firstPartLen) + '...' + str.substring(str.length - lastPartLen, str.length);\n  } else {\n    return str;\n  }\n};\n\nconst capitalizeFirstLetter = (string: string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nconst _keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n/* eslint-disable no-bitwise */\n/**\n * UTF-8 safe version of base64 encoder\n * Source: http://www.webtoolkit.info/javascript_base64.html\n *\n * @param {string} input - Text to encode\n */\nexport const btoaUtf8 = (input: string) => {\n  let output = '';\n  let i = 0;\n\n  const result = _utf8_encode(input);\n\n  while (i < result.length) {\n    const chr1 = result.charCodeAt(i++);\n    const chr2 = result.charCodeAt(i++);\n    const chr3 = result.charCodeAt(i++);\n\n    const enc1 = chr1 >> 2;\n    const enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n    let enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n    let enc4 = chr3 & 63;\n\n    if (isNaN(chr2)) {\n      enc4 = 64;\n      enc3 = enc4;\n    } else if (isNaN(chr3)) {\n      enc4 = 64;\n    }\n\n    output = output + _keyStr.charAt(enc1) + _keyStr.charAt(enc2) + _keyStr.charAt(enc3) + _keyStr.charAt(enc4);\n  }\n\n  return output;\n};\n\n/**\n * UTF-8 safe version of base64 decoder\n * Source: http://www.webtoolkit.info/javascript_base64.html\n *\n * @param {string} input - Text to decode\n */\nexport const atobUtf8 = (input: string) => {\n  let output = '';\n  let i = 0;\n\n  const result = input?.replace(/[^A-Za-z0-9+/=]/g, '') || '';\n\n  while (i < result.length) {\n    const enc1 = _keyStr.indexOf(result.charAt(i++));\n    const enc2 = _keyStr.indexOf(result.charAt(i++));\n    const enc3 = _keyStr.indexOf(result.charAt(i++));\n    const enc4 = _keyStr.indexOf(result.charAt(i++));\n\n    const chr1 = (enc1 << 2) | (enc2 >> 4);\n    const chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n    const chr3 = ((enc3 & 3) << 6) | enc4;\n\n    output += String.fromCharCode(chr1);\n\n    if (enc3 !== 64) {\n      output += String.fromCharCode(chr2);\n    }\n\n    if (enc4 !== 64) {\n      output += String.fromCharCode(chr3);\n    }\n  }\n\n  return _utf8_decode(output);\n};\n\n/**\n * (private method) does a UTF-8 encoding\n *\n * @private\n * @param {string} string - Text to encode\n */\nconst _utf8_encode = (string = '') => {\n  const result = string.replace(/\\r\\n/g, '\\n');\n  let utftext = '';\n\n  for (let n = 0; n < result.length; n++) {\n    const c = result.charCodeAt(n);\n\n    if (c < 128) {\n      utftext += String.fromCharCode(c);\n    } else if (c > 127 && c < 2048) {\n      utftext += String.fromCharCode((c >> 6) | 192) + String.fromCharCode((c & 63) | 128);\n    } else {\n      utftext +=\n        String.fromCharCode((c >> 12) | 224) +\n        String.fromCharCode(((c >> 6) & 63) | 128) +\n        String.fromCharCode((c & 63) | 128);\n    }\n  }\n\n  return utftext;\n};\n\n/**\n * (private method) does a UTF-8 decoding\n *\n * @private\n * @param {string} utftext - UTF-8 text to dencode\n */\nconst _utf8_decode = (utftext = '') => {\n  let string = '';\n  let i = 0;\n\n  while (i < utftext.length) {\n    const c = utftext.charCodeAt(i);\n\n    if (c < 128) {\n      string += String.fromCharCode(c);\n      i++;\n    } else if (c > 191 && c < 224) {\n      const c2 = utftext.charCodeAt(i + 1);\n      string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n      i += 2;\n    } else {\n      const c2 = utftext.charCodeAt(i + 1);\n      const c3 = utftext.charCodeAt(i + 2);\n      string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n      i += 3;\n    }\n  }\n  return string;\n};\n/* eslint-enable no-bitwise */\n\n/**\n * Returns a SHA256 hash of the input string\n */\nexport const getStringSHA256 = (input: string) => {\n  return crypto.subtle.digest('SHA-256', new TextEncoder().encode(input)).then((arrayBuffer) => {\n    return Array.prototype.map.call(new Uint8Array(arrayBuffer), (x) => ('00' + x.toString(16)).slice(-2)).join('');\n  });\n};\n\nconst COMPRESSED_TEXT_DEFLATE_PREFIX = 'deflate;';\n\nexport const textCompressDeflate = async (text: string) => {\n  const pako = await lazyPako();\n  const binaryData = pako.deflate(text);\n\n  // Buffer-based implementation\n  if (typeof Buffer !== 'undefined') {\n    const b64encoded = Buffer.from(binaryData).toString('base64');\n    return `${COMPRESSED_TEXT_DEFLATE_PREFIX}${b64encoded}`;\n  }\n\n  // btoa-based implementation\n  const binaryString = Array.from(binaryData, (byte) => String.fromCodePoint(byte)).join('');\n  return `${COMPRESSED_TEXT_DEFLATE_PREFIX}${btoa(binaryString)}`;\n};\n\nexport const textDecompressDeflate = async (compressedText: string) => {\n  const pako = await lazyPako();\n  if (!compressedText.startsWith(COMPRESSED_TEXT_DEFLATE_PREFIX)) {\n    throw new Error('Invalid compressed text, payload header invalid');\n  }\n  const compressedTextWithoutPrefix = compressedText.slice(COMPRESSED_TEXT_DEFLATE_PREFIX.length);\n\n  // Buffer-based implementation\n  if (typeof Buffer !== 'undefined') {\n    const binaryString = Buffer.from(compressedTextWithoutPrefix, 'base64');\n    return pako.inflate(\n      // This doesn't fail in Mlflow-Copybara-Tester-Pr. TODO: check why.\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore [FEINF-4084] No overload matches this call.\n      binaryString,\n      { to: 'string' },\n    );\n  }\n\n  // atob-based implementation\n  const binaryString = atob(compressedTextWithoutPrefix);\n  return pako.inflate(\n    Uint8Array.from(binaryString, (m) => m.codePointAt(0) ?? 0),\n    { to: 'string' },\n  );\n};\n\nexport const isTextCompressedDeflate = (text: string) => text.startsWith(COMPRESSED_TEXT_DEFLATE_PREFIX);\n","import Routes from '@mlflow/mlflow/src/experiment-tracking/routes';\n\nimport {\n  GearIcon,\n  ListBorderIcon,\n  ListIcon,\n  ModelsIcon,\n  PlusMinusSquareIcon,\n  UserIcon,\n  TextBoxIcon,\n} from '@databricks/design-system';\nimport { ExperimentPageTabName } from '@mlflow/mlflow/src/experiment-tracking/constants';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentViewRunsCompareMode } from '@mlflow/mlflow/src/experiment-tracking/types';\n\nexport type TabConfig = {\n  label: React.ReactNode;\n  icon: React.ReactNode;\n  getRoute: (experimentId: string) => string;\n};\n\nexport type TabConfigMap = Partial<Record<ExperimentViewRunsCompareMode | ExperimentPageTabName, TabConfig>>;\n\nconst RunsTabConfig = {\n  label: (\n    <FormattedMessage defaultMessage=\"Runs\" description=\"Label for the runs tab in the MLflow experiment navbar\" />\n  ),\n  icon: <ListIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Runs),\n};\n\nconst TracesTabConfig = {\n  label: (\n    <FormattedMessage defaultMessage=\"Traces\" description=\"Label for the traces tab in the MLflow experiment navbar\" />\n  ),\n  icon: <ListBorderIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Traces),\n};\n\nconst ModelsTabConfig = {\n  label: (\n    <FormattedMessage\n      defaultMessage=\"Versions\"\n      description=\"Label for the logged models tab in the MLflow experiment navbar\"\n    />\n  ),\n  icon: <ModelsIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models),\n};\n\nexport const GenAIExperimentTabConfigMap: TabConfigMap = {\n  [ExperimentPageTabName.Traces]: TracesTabConfig,\n  [ExperimentPageTabName.Models]: ModelsTabConfig,\n};\n\nexport const GenAIExperimentWithPromptsTabConfigMap = GenAIExperimentTabConfigMap;\n\nexport const CustomExperimentTabConfigMap: TabConfigMap = {\n  [ExperimentPageTabName.Runs]: RunsTabConfig,\n  [ExperimentPageTabName.Models]: {\n    ...ModelsTabConfig,\n    label: (\n      <FormattedMessage\n        defaultMessage=\"Models\"\n        description=\"Label for the logged models tab in the MLflow experiment navbar\"\n      />\n    ),\n  },\n  [ExperimentPageTabName.Traces]: TracesTabConfig,\n};\n\nexport const DefaultTabConfigMap: TabConfigMap = {\n  ...CustomExperimentTabConfigMap,\n};\n","import React from 'react';\nimport {\n  SegmentedControlGroup,\n  SegmentedControlButton,\n  useDesignSystemTheme,\n  Tooltip,\n} from '@databricks/design-system';\n\nimport { ExperimentKind, ExperimentPageTabName } from '@mlflow/mlflow/src/experiment-tracking/constants';\nimport { useExperimentPageViewMode } from '@mlflow/mlflow/src/experiment-tracking/components/experiment-page/hooks/useExperimentPageViewMode';\nimport { Link, useParams } from '@mlflow/mlflow/src/common/utils/RoutingUtils';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { shouldEnablePromptsTabOnDBPlatform } from '../../../../../../common/utils/FeatureUtils';\nimport {\n  TabConfigMap,\n  GenAIExperimentTabConfigMap,\n  GenAIExperimentWithPromptsTabConfigMap,\n  CustomExperimentTabConfigMap,\n  DefaultTabConfigMap,\n} from './TabSelectorBarConstants';\nimport { FormattedMessage } from 'react-intl';\nimport { useGetExperimentPageActiveTabByRoute } from '../../../hooks/useGetExperimentPageActiveTabByRoute';\n\nconst isRunsViewTab = (tabName: string) => ['TABLE', 'CHART', 'ARTIFACT'].includes(tabName);\nconst iTracesViewTab = (tabName: string) => ['TRACES'].includes(tabName);\n\nconst getExperimentTabsConfig = (experimentKind?: ExperimentKind): TabConfigMap => {\n  switch (experimentKind) {\n    case ExperimentKind.GENAI_DEVELOPMENT:\n    case ExperimentKind.GENAI_DEVELOPMENT_INFERRED:\n      return shouldEnablePromptsTabOnDBPlatform()\n        ? GenAIExperimentWithPromptsTabConfigMap\n        : GenAIExperimentTabConfigMap;\n    case ExperimentKind.CUSTOM_MODEL_DEVELOPMENT:\n    case ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED:\n    case ExperimentKind.FORECASTING:\n    case ExperimentKind.REGRESSION:\n    case ExperimentKind.AUTOML:\n    case ExperimentKind.CLASSIFICATION:\n      return CustomExperimentTabConfigMap;\n    default:\n      return DefaultTabConfigMap;\n  }\n};\n\nexport const TabSelectorBar = ({ experimentKind }: { experimentKind?: ExperimentKind }) => {\n  const { experimentId, tabName } = useParams();\n  const { theme } = useDesignSystemTheme();\n  const [viewMode] = useExperimentPageViewMode();\n\n  // In the tab selector bar, we're interested in top-level tab names based on the current route\n  const { topLevelTabName: tabNameFromRoute } = useGetExperimentPageActiveTabByRoute();\n\n  let tabNameFromParams = coerceToEnum(ExperimentPageTabName, tabName, undefined);\n  if (tabNameFromParams === ExperimentPageTabName.Datasets) {\n    // datasets is a sub-tab of evaluation runs, so we\n    // should show the evaluation runs tab as active\n    tabNameFromParams = ExperimentPageTabName.EvaluationRuns;\n  }\n  if (tabNameFromParams === ExperimentPageTabName.LabelingSchemas) {\n    // labeling schemas is a sub-tab of labeling sessions, so we\n    // should show the labeling sessions tab as active\n    tabNameFromParams = ExperimentPageTabName.LabelingSessions;\n  }\n\n  const tabNameFromViewMode = (() => {\n    if (isRunsViewTab(viewMode)) {\n      return ExperimentPageTabName.Runs;\n    } else if (iTracesViewTab(viewMode)) {\n      return ExperimentPageTabName.Traces;\n    } else {\n      return viewMode;\n    }\n  })();\n\n  const activeTab = tabNameFromRoute ?? tabNameFromParams ?? tabNameFromViewMode;\n\n  const tabsConfig = getExperimentTabsConfig(experimentKind ?? ExperimentKind.NO_INFERRED_TYPE);\n\n  return (\n    <SegmentedControlGroup\n      value={activeTab}\n      name=\"tab-toggle-bar\"\n      componentId=\"mlflow.experiment-tracking.tab-toggle-bar\"\n      newStyleFlagOverride\n      css={{\n        justifySelf: 'center',\n        [theme.responsive.mediaQueries.xl]: {\n          '& .tab-icon-text': {\n            display: 'inline-flex',\n          },\n          '& .tab-icon-with-tooltip': {\n            display: 'none',\n          },\n        },\n      }}\n    >\n      {Object.entries(tabsConfig).map(([tabName, tabConfig]) => {\n        const isActive = tabName === activeTab;\n\n        return (\n          <React.Fragment key={tabName}>\n            <Link\n              css={{ display: 'none' }}\n              className=\"tab-icon-text\"\n              key={`${tabName}-text`}\n              to={tabConfig.getRoute(experimentId ?? '')}\n            >\n              <SegmentedControlButton\n                data-testid={`tab-selector-button-text-${tabName}-${isActive ? 'active' : 'inactive'}`}\n                className=\"tab-icon-text\"\n                value={tabName}\n                icon={tabConfig.icon}\n              >\n                <span>{tabConfig.label}</span>\n              </SegmentedControlButton>\n            </Link>\n            <Link\n              className=\"tab-icon-with-tooltip\"\n              key={`${tabName}-tooltip`}\n              to={tabConfig.getRoute(experimentId ?? '')}\n            >\n              <SegmentedControlButton\n                data-testid={`tab-selector-button-icon-${tabName}-${isActive ? 'active' : 'inactive'}`}\n                className=\"tab-icon-with-tooltip\"\n                value={tabName}\n                icon={\n                  <Tooltip\n                    delayDuration={0}\n                    content={\n                      <span>\n                        {/* comment for formatting */}\n                        {tabConfig.label}\n                      </span>\n                    }\n                    componentId={`mlflow.experiment-tracking.tab-selector-bar.${tabName}`}\n                  >\n                    <span>{tabConfig.icon}</span>\n                  </Tooltip>\n                }\n              />\n            </Link>\n          </React.Fragment>\n        );\n      })}\n    </SegmentedControlGroup>\n  );\n};\n","import React, { useMemo } from 'react';\nimport {\n  Breadcrumb,\n  ParagraphSkeleton,\n  TitleSkeleton,\n  Tooltip,\n  Typography,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentViewCopyTitle } from './ExperimentViewCopyTitle';\nimport { ExperimentEntity } from '../../../../types';\nimport { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { ExperimentViewArtifactLocation } from '../ExperimentViewArtifactLocation';\nimport { ExperimentViewCopyExperimentId } from './ExperimentViewCopyExperimentId';\nimport { ExperimentViewCopyArtifactLocation } from './ExperimentViewCopyArtifactLocation';\nimport { InfoPopover } from '@databricks/design-system';\nimport { TabSelectorBar } from './tab-selector-bar/TabSelectorBar';\nimport { ExperimentViewHeaderShareButton } from './ExperimentViewHeaderShareButton';\nimport { getExperimentKindFromTags } from '../../../../utils/ExperimentKindUtils';\n\nimport { ExperimentKind } from '../../../../constants';\n/**\n * Header for a single experiment page. Displays title, breadcrumbs and provides\n * controls for renaming, deleting and editing permissions.\n */\nexport const ExperimentViewHeaderV2 = React.memo(\n  ({\n    experiment,\n    inferredExperimentKind,\n    searchFacetsState,\n    uiState,\n    setEditing,\n    experimentKindSelector,\n  }: {\n    experiment: ExperimentEntity;\n    inferredExperimentKind?: ExperimentKind;\n    searchFacetsState?: ExperimentPageSearchFacetsState;\n    uiState?: ExperimentPageUIState;\n    setEditing: (editing: boolean) => void;\n    experimentKindSelector?: React.ReactNode;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n    // eslint-disable-next-line prefer-const\n    let breadcrumbs: React.ReactNode[] = [];\n    const experimentIds = useMemo(() => (experiment ? [experiment?.experimentId] : []), [experiment]);\n    // Extract the last part of the experiment name\n    const normalizedExperimentName = useMemo(() => experiment.name.split('/').pop(), [experiment.name]);\n\n    const getInfoTooltip = () => {\n      return (\n        <div style={{ display: 'flex', marginRight: theme.spacing.sm }}>\n          <InfoPopover iconTitle=\"Info\">\n            <div\n              css={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: theme.spacing.xs,\n                flexWrap: 'nowrap',\n              }}\n              data-testid=\"experiment-view-header-info-tooltip-content\"\n            >\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Path\"\n                  description=\"Label for displaying the current experiment path\"\n                />\n                : {experiment.name + ' '}\n                <ExperimentViewCopyTitle experiment={experiment} size=\"md\" />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Experiment ID\"\n                  description=\"Label for displaying the current experiment in view\"\n                />\n                : {experiment.experimentId + ' '}\n                <ExperimentViewCopyExperimentId experiment={experiment} />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Artifact Location\"\n                  description=\"Label for displaying the experiment artifact location\"\n                />\n                : <ExperimentViewArtifactLocation artifactLocation={experiment.artifactLocation} />{' '}\n                <ExperimentViewCopyArtifactLocation experiment={experiment} />\n              </div>\n            </div>\n          </InfoPopover>\n        </div>\n      );\n    };\n\n    const experimentKind = inferredExperimentKind ?? getExperimentKindFromTags(experiment.tags);\n\n    return (\n      <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.xs, marginBottom: theme.spacing.sm }}>\n        <Breadcrumb includeTrailingCaret>\n          {breadcrumbs.map((breadcrumb, index) => (\n            <Breadcrumb.Item key={index}>{breadcrumb}</Breadcrumb.Item>\n          ))}\n        </Breadcrumb>\n        <div css={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr' }}>\n          <div\n            css={{ display: 'flex', gap: theme.spacing.sm, alignItems: 'center', overflow: 'hidden', minWidth: 250 }}\n          >\n            <Tooltip\n              content={normalizedExperimentName}\n              componentId=\"mlflow.experiment_view.header.experiment-name-tooltip\"\n            >\n              <span\n                css={{\n                  maxWidth: '100%',\n                  overflow: 'hidden',\n                }}\n              >\n                <Typography.Title\n                  withoutMargins\n                  level={2}\n                  css={{\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap',\n                  }}\n                >\n                  {normalizedExperimentName}\n                </Typography.Title>\n              </span>\n            </Tooltip>\n            {experimentKindSelector}\n            {getInfoTooltip()}\n          </div>\n          <TabSelectorBar experimentKind={experimentKind} />\n          <div\n            css={{ display: 'flex', gap: theme.spacing.sm, justifyContent: 'flex-end', marginLeft: theme.spacing.sm }}\n          >\n            <ExperimentViewHeaderShareButton\n              experimentIds={experimentIds}\n              searchFacetsState={searchFacetsState}\n              uiState={uiState}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nexport function ExperimentViewHeaderV2Skeleton() {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.xs }}>\n      <ParagraphSkeleton css={{ width: 100 }} loading />\n      <div css={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr' }}>\n        <TitleSkeleton css={{ width: 150, height: theme.general.heightSm }} loading />\n        <TitleSkeleton css={{ height: theme.general.heightSm, alignSelf: 'center' }} loading />\n        <TitleSkeleton css={{ width: theme.spacing.lg, height: theme.general.heightSm, alignSelf: 'right' }} loading />\n      </div>\n    </div>\n  );\n}\n","import { Input } from '@databricks/design-system';\nimport { CopyButton } from './CopyButton';\n\ntype Props = {\n  copyText: string;\n};\n\nexport const CopyBox = ({ copyText }: Props) => (\n  <div css={{ display: 'flex', gap: 4 }}>\n    <Input\n      componentId=\"codegen_mlflow_app_src_shared_building_blocks_copybox.tsx_18\"\n      readOnly\n      value={copyText}\n      data-testid=\"copy-box\"\n    />\n    <CopyButton copyText={copyText} />\n  </div>\n);\n","import { FormattedMessage } from 'react-intl';\nimport { Modal } from '@databricks/design-system';\nimport { CopyBox } from '../../../shared/building_blocks/CopyBox';\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  link: string;\n};\n\nexport const GetLinkModal = ({ visible, onCancel, link }: Props) => {\n  return (\n    <Modal\n      componentId=\"codegen_mlflow_app_src_experiment-tracking_components_modals_getlinkmodal.tsx_21\"\n      title={<FormattedMessage defaultMessage=\"Get Link\" description=\"Title text for get-link modal\" />}\n      visible={visible}\n      onCancel={onCancel}\n    >\n      <CopyBox copyText={link} />\n    </Modal>\n  );\n};\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { GenericSkeleton, Input, Modal } from '@databricks/design-system';\nimport { useDispatch } from 'react-redux';\nimport { ThunkDispatch } from '../../../../../redux-types';\nimport { setExperimentTagApi } from '../../../../actions';\nimport Routes from '../../../../routes';\nimport { CopyButton } from '../../../../../shared/building_blocks/CopyButton';\nimport { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { getStringSHA256, textCompressDeflate } from '../../../../../common/utils/StringUtils';\nimport Utils from '../../../../../common/utils/Utils';\nimport {\n  EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX,\n  EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY,\n} from '../../../../constants';\nimport { shouldUseCompressedExperimentViewSharedState } from '../../../../../common/utils/FeatureUtils';\nimport {\n  EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY,\n  useExperimentPageViewMode,\n} from '../../hooks/useExperimentPageViewMode';\nimport type { ExperimentViewRunsCompareMode } from '../../../../types';\n\ntype GetShareLinkModalProps = {\n  onCancel: () => void;\n  visible: boolean;\n  experimentIds: string[];\n  searchFacetsState: ExperimentPageSearchFacetsState;\n  uiState: ExperimentPageUIState;\n};\n\ntype ShareableViewState = ExperimentPageSearchFacetsState & ExperimentPageUIState;\n\n// Typescript-based test to ensure that the keys of the two states are disjoint.\n// If they are not disjoint, the state serialization will not work as expected.\nconst _arePersistedStatesDisjoint: [\n  keyof ExperimentPageSearchFacetsState & keyof ExperimentPageUIState extends never ? true : false,\n] = [true];\n\nconst serializePersistedState = async (state: ShareableViewState) => {\n  if (shouldUseCompressedExperimentViewSharedState()) {\n    return textCompressDeflate(JSON.stringify(state));\n  }\n  return JSON.stringify(state);\n};\n\nconst getShareableUrl = (experimentId: string, shareStateHash: string, viewMode?: ExperimentViewRunsCompareMode) => {\n  // As a start, get the route\n  const route = Routes.getExperimentPageRoute(experimentId);\n\n  // Begin building the query params\n  const queryParams = new URLSearchParams();\n\n  // Add the share state hash\n  queryParams.set(EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY, shareStateHash);\n\n  // If the view mode is set, add it to the query params\n  if (viewMode) {\n    queryParams.set(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY, viewMode);\n  }\n\n  // In regular implementation, build the hash part of the URL\n  const params = queryParams.toString();\n  const hashParam = `${route}${params?.startsWith('?') ? '' : '?'}${params}`;\n  const shareURL = `${window.location.origin}${window.location.pathname}#${hashParam}`;\n  return shareURL;\n};\n\n/**\n * Modal that displays shareable link for the experiment page.\n * The shareable state is created by serializing the search facets and UI state and storing\n * it as a tag on the experiment.\n */\nexport const ExperimentGetShareLinkModal = ({\n  onCancel,\n  visible,\n  experimentIds,\n  searchFacetsState,\n  uiState,\n}: GetShareLinkModalProps) => {\n  const [sharedStateUrl, setSharedStateUrl] = useState<string>('');\n  const [linkInProgress, setLinkInProgress] = useState(true);\n  const [generatedState, setGeneratedState] = useState<ShareableViewState | null>(null);\n  const [viewMode] = useExperimentPageViewMode();\n\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  const stateToSerialize = useMemo(() => ({ ...searchFacetsState, ...uiState }), [searchFacetsState, uiState]);\n\n  const createSerializedState = useCallback(\n    async (state: ShareableViewState) => {\n      if (experimentIds.length > 1) {\n        setLinkInProgress(false);\n        setGeneratedState(state);\n        setSharedStateUrl(window.location.href);\n        return;\n      }\n      setLinkInProgress(true);\n      const [experimentId] = experimentIds;\n      try {\n        const data = await serializePersistedState(state);\n        const hash = await getStringSHA256(data);\n\n        const tagName = `${EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX}${hash}`;\n\n        await dispatch(setExperimentTagApi(experimentId, tagName, data));\n\n        setLinkInProgress(false);\n        setGeneratedState(state);\n\n        setSharedStateUrl(getShareableUrl(experimentId, hash, viewMode));\n      } catch (e) {\n        Utils.logErrorAndNotifyUser('Failed to create shareable link for experiment');\n        throw e;\n      }\n    },\n    [dispatch, experimentIds, viewMode],\n  );\n\n  useEffect(() => {\n    if (!visible || generatedState === stateToSerialize) {\n      return;\n    }\n    createSerializedState(stateToSerialize);\n  }, [visible, createSerializedState, generatedState, stateToSerialize]);\n\n  return (\n    <Modal\n      componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_101\"\n      title={\n        <FormattedMessage\n          defaultMessage=\"Get shareable link\"\n          description='Title text for the experiment \"Get link\" modal'\n        />\n      }\n      visible={visible}\n      onCancel={onCancel}\n    >\n      <div css={{ display: 'flex', gap: 8 }}>\n        {linkInProgress ? (\n          <GenericSkeleton css={{ flex: 1 }} />\n        ) : (\n          <Input\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_115\"\n            placeholder=\"Click button on the right to create shareable state\"\n            value={sharedStateUrl}\n            readOnly\n          />\n        )}\n        <CopyButton loading={linkInProgress} copyText={sharedStateUrl} data-testid=\"share-link-copy-button\" />\n      </div>\n    </Modal>\n  );\n};\n","import { Button } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { GetLinkModal } from '../../../modals/GetLinkModal';\nimport { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { ExperimentGetShareLinkModal } from './ExperimentGetShareLinkModal';\n\n/**\n * Experiment page header part responsible for displaying button\n * that displays modal for sharing the link\n */\nexport const ExperimentViewHeaderShareButton = ({\n  searchFacetsState,\n  uiState,\n  experimentIds,\n}: {\n  searchFacetsState?: ExperimentPageSearchFacetsState;\n  uiState?: ExperimentPageUIState;\n  experimentIds?: string[];\n}) => {\n  const [showGetLinkModal, setShowGetLinkModal] = useState(false);\n\n  return (\n    <>\n      {searchFacetsState && uiState && experimentIds ? (\n        <ExperimentGetShareLinkModal\n          searchFacetsState={searchFacetsState}\n          uiState={uiState}\n          visible={showGetLinkModal}\n          onCancel={() => setShowGetLinkModal(false)}\n          experimentIds={experimentIds}\n        />\n      ) : (\n        <GetLinkModal\n          link={window.location.href}\n          visible={showGetLinkModal}\n          onCancel={() => setShowGetLinkModal(false)}\n        />\n      )}\n      {/* TODO: ensure that E2E tests are working after refactor is complete */}\n      <Button\n        componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentviewheadersharebutton.tsx_44\"\n        type=\"primary\"\n        onClick={() => setShowGetLinkModal(true)}\n        data-testid=\"share-button\"\n      >\n        <FormattedMessage defaultMessage=\"Share\" description=\"Text for share button on experiment view page header\" />\n      </Button>\n    </>\n  );\n};\n","import { ExperimentKind } from '../constants';\nimport { defineMessage, MessageDescriptor } from 'react-intl';\nimport { KeyValueEntity } from '../../common/types';\n\nexport const EXPERIMENT_KIND_TAG_KEY = 'mlflow.experimentKind';\n\nexport const getExperimentKindFromTags = (\n  experimentTags?:\n    | ({ __typename: 'MlflowExperimentTag'; key: string | null; value: string | null }[] | null)\n    | KeyValueEntity[],\n): ExperimentKind | undefined =>\n  experimentTags?.find((tag) => tag.key === EXPERIMENT_KIND_TAG_KEY)?.value as ExperimentKind;\n\nexport const isEditableExperimentKind = (experimentKind: ExperimentKind): boolean =>\n  experimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED ||\n  experimentKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED ||\n  experimentKind === ExperimentKind.NO_INFERRED_TYPE ||\n  experimentKind === ExperimentKind.GENAI_DEVELOPMENT ||\n  experimentKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT ||\n  experimentKind === ExperimentKind.EMPTY;\n\nexport const normalizeInferredExperimentKind = (experimentKind: ExperimentKind): ExperimentKind => {\n  if (experimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED) {\n    return ExperimentKind.GENAI_DEVELOPMENT;\n  }\n  if (experimentKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED) {\n    return ExperimentKind.CUSTOM_MODEL_DEVELOPMENT;\n  }\n  return experimentKind;\n};\n\nexport const ExperimentKindDropdownLabels: Record<ExperimentKind, MessageDescriptor> = {\n  [ExperimentKind.GENAI_DEVELOPMENT]: defineMessage({\n    defaultMessage: 'GenAI apps & agents',\n    description: 'Label for experiments focused on generative AI model development',\n  }),\n  [ExperimentKind.CUSTOM_MODEL_DEVELOPMENT]: defineMessage({\n    defaultMessage: 'Machine learning',\n    description: 'Label for custom experiments focused on machine learning',\n  }),\n  [ExperimentKind.GENAI_DEVELOPMENT_INFERRED]: defineMessage({\n    defaultMessage: 'GenAI apps & agents',\n    description: 'Label for experiments automatically identified as generative AI development',\n  }),\n  [ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED]: defineMessage({\n    defaultMessage: 'Machine learning',\n    description: 'Label for custom experiments automatically identified as being focused on machine learning',\n  }),\n  [ExperimentKind.NO_INFERRED_TYPE]: defineMessage({\n    defaultMessage: 'None',\n    description: 'Label for experiments with no automatically inferred experiment type',\n  }),\n  [ExperimentKind.FINETUNING]: defineMessage({\n    defaultMessage: 'Finetuning',\n    description: 'Label for experiments focused on model finetuning',\n  }),\n  [ExperimentKind.REGRESSION]: defineMessage({\n    defaultMessage: 'Regression',\n    description: 'Label for experiments focused on regression modeling',\n  }),\n  [ExperimentKind.CLASSIFICATION]: defineMessage({\n    defaultMessage: 'Classification',\n    description: 'Label for experiments focused on classification modeling',\n  }),\n  [ExperimentKind.FORECASTING]: defineMessage({\n    defaultMessage: 'Forecasting',\n    description: 'Label for experiments focused on time series forecasting',\n  }),\n  [ExperimentKind.AUTOML]: defineMessage({\n    defaultMessage: 'AutoML',\n    description: 'Label for generic AutoML experiments',\n  }),\n  [ExperimentKind.EMPTY]: defineMessage({\n    defaultMessage: 'None',\n    description: 'Label for experiments with no experiment kind',\n  }),\n};\n\nexport const ExperimentKindShortLabels: Record<ExperimentKind, MessageDescriptor> = {\n  [ExperimentKind.GENAI_DEVELOPMENT]: defineMessage({\n    defaultMessage: 'GenAI apps & agents',\n    description: 'A short label for custom experiments focused on generative AI app and agent development',\n  }),\n  [ExperimentKind.CUSTOM_MODEL_DEVELOPMENT]: defineMessage({\n    defaultMessage: 'Machine learning',\n    description: 'A short label for custom experiments focused on machine learning',\n  }),\n  [ExperimentKind.GENAI_DEVELOPMENT_INFERRED]: defineMessage({\n    defaultMessage: 'GenAI apps & agents',\n    description:\n      'A short label for custom experiments automatically identified as being focused on generative AI app and agent development',\n  }),\n  [ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED]: defineMessage({\n    defaultMessage: 'Machine learning',\n    description: 'A short label for custom experiments automatically identified as being focused on machine learning',\n  }),\n  [ExperimentKind.NO_INFERRED_TYPE]: defineMessage({\n    defaultMessage: 'None',\n    description: 'A short label for experiments with no automatically inferred experiment type',\n  }),\n  [ExperimentKind.FINETUNING]: defineMessage({\n    defaultMessage: 'finetuning',\n    description: 'A short label for experiments focused on model finetuning',\n  }),\n  [ExperimentKind.REGRESSION]: defineMessage({\n    defaultMessage: 'regression',\n    description: 'A short label for experiments focused on regression modeling',\n  }),\n  [ExperimentKind.CLASSIFICATION]: defineMessage({\n    defaultMessage: 'classification',\n    description: 'A short label for experiments focused on classification modeling',\n  }),\n  [ExperimentKind.FORECASTING]: defineMessage({\n    defaultMessage: 'forecasting',\n    description: 'A short label for experiments focused on time series forecasting',\n  }),\n  [ExperimentKind.AUTOML]: defineMessage({\n    defaultMessage: 'AutoML',\n    description: 'A short label for generic AutoML experiments',\n  }),\n  [ExperimentKind.EMPTY]: defineMessage({\n    defaultMessage: 'None',\n    description: 'A short label for experiments with no experiment kind',\n  }),\n};\n\n// Returns list of experiment kinds that are user-selectable in the dropdown\nexport const getSelectableExperimentKinds = () => [\n  ExperimentKind.GENAI_DEVELOPMENT,\n  ExperimentKind.CUSTOM_MODEL_DEVELOPMENT,\n];\n","import { useMemo } from 'react';\nimport { shouldEnableExperimentPageChildRoutes } from '../../../../common/utils/FeatureUtils';\nimport { matchPath, useLocation } from '../../../../common/utils/RoutingUtils';\nimport { RoutePaths } from '../../../routes';\nimport { ExperimentPageTabName } from '../../../constants';\nimport { map } from 'lodash';\n\n// Maps experiment page route paths to enumerated tab names\nconst ExperimentPageRoutePathToTabNameMap = map(\n  {\n    [RoutePaths.experimentPageTabRuns]: ExperimentPageTabName.Runs,\n    [RoutePaths.experimentPageTabTraces]: ExperimentPageTabName.Traces,\n    [RoutePaths.experimentPageTabModels]: ExperimentPageTabName.Models,\n  },\n  (tabName, routePath) => ({ routePath, tabName }),\n);\n\n// Gets exact tab name based on given pathname\nconst getTabNameFromRoutePath = (pathname: string) =>\n  ExperimentPageRoutePathToTabNameMap\n    // Find the first route path that matches the given pathname\n    .find(({ routePath }) => Boolean(matchPath(routePath, pathname)))?.tabName;\n\n// Maps exact tab names to top-level tab names\nconst getTopLevelTab = (tabName?: ExperimentPageTabName) => {\n  return tabName;\n};\n\nexport const useGetExperimentPageActiveTabByRoute = () => {\n  const { pathname } = useLocation();\n\n  const tabNameFromRoute = useMemo(() => {\n    if (!shouldEnableExperimentPageChildRoutes()) {\n      return;\n    }\n    const tabName = getTabNameFromRoutePath(pathname);\n    return tabName;\n  }, [pathname]);\n  return {\n    tabName: tabNameFromRoute,\n    topLevelTabName: getTopLevelTab(tabNameFromRoute),\n  };\n};\n","import { useNavigate, useSearchParams } from '../../../../common/utils/RoutingUtils';\nimport { ExperimentPageTabName } from '../../../constants';\nimport Routes from '../../../routes';\nimport { type ExperimentViewRunsCompareMode } from '../../../types';\n\nexport const EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY = 'compareRunsMode';\n\nexport const getExperimentPageDefaultViewMode = (): ExperimentViewRunsCompareMode => 'TABLE';\n\n// This map is being used to wire routes to certain view modes\nconst viewModeToRouteMap: Partial<Record<ExperimentViewRunsCompareMode, (experimentId: string) => void>> = {\n  MODELS: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models),\n};\n/**\n * Hook using search params to retrieve and update the current experiment page runs view mode.\n * Handles legacy part of the mode switching, based on \"compareRunsMode\" query parameter.\n * Modern part of the mode switching is handled by <ExperimentViewRunsModeSwitchV2> which works using route params.\n */\nexport const useExperimentPageViewMode = (): [\n  ExperimentViewRunsCompareMode,\n  (newCompareRunsMode: ExperimentViewRunsCompareMode, experimentId?: string) => void,\n] => {\n  const [params, setParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const mode =\n    (params.get(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY) as ExperimentViewRunsCompareMode) ||\n    getExperimentPageDefaultViewMode();\n  const setMode = (newCompareRunsMode: ExperimentViewRunsCompareMode, experimentId?: string) => {\n    // Check if the new mode should actually navigate to a different route instead of just changing the query param\n    if (newCompareRunsMode in viewModeToRouteMap && experimentId) {\n      const route = viewModeToRouteMap[newCompareRunsMode]?.(experimentId);\n      if (route) {\n        navigate(route);\n        return;\n      }\n    }\n    setParams(\n      (currentParams) => {\n        currentParams.set(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY, newCompareRunsMode || '');\n        return currentParams;\n      },\n      { replace: false },\n    );\n  };\n\n  return [mode, setMode];\n};\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the experimentId after clicking on the icon\n */\nexport const ExperimentViewCopyExperimentId = ({ experiment }: { experiment: ExperimentEntity }) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size=\"md\"\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.experimentId,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy experiment id',\n              description: 'Copy tooltip to copy experiment id from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Experiment id copied',\n              description: 'Tooltip displayed after experiment id was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","import React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button, type ButtonProps, LegacyTooltip } from '@databricks/design-system';\n\ninterface CopyButtonProps extends Partial<ButtonProps> {\n  copyText: string;\n  showLabel?: React.ReactNode;\n  componentId?: string;\n}\n\nexport const CopyButton = ({ copyText, showLabel = true, componentId, ...buttonProps }: CopyButtonProps) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const handleClick = () => {\n    navigator.clipboard.writeText(copyText);\n    setShowTooltip(true);\n    setTimeout(() => {\n      setShowTooltip(false);\n    }, 3000);\n  };\n\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n\n  return (\n    <LegacyTooltip\n      title={\n        <FormattedMessage defaultMessage=\"Copied\" description=\"Tooltip text shown when copy operation completes\" />\n      }\n      dangerouslySetAntdProps={{\n        visible: showTooltip,\n      }}\n    >\n      <Button\n        componentId={componentId ?? 'mlflow.shared.copy_button'}\n        type=\"primary\"\n        onClick={handleClick}\n        onMouseLeave={handleMouseLeave}\n        css={{ 'z-index': 1 }}\n        // Define children as a explicit prop so it can be easily overrideable\n        children={\n          showLabel ? <FormattedMessage defaultMessage=\"Copy\" description=\"Button text for copy button\" /> : undefined\n        }\n        {...buttonProps}\n      />\n    </LegacyTooltip>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { Button, GenericSkeleton, NewWindowIcon, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { PageHeader } from '../../../../../shared/building_blocks/PageHeader';\nimport { ExperimentViewCopyTitle } from './ExperimentViewCopyTitle';\nimport { ExperimentViewHeaderShareButton } from './ExperimentViewHeaderShareButton';\nimport { ExperimentEntity } from '../../../../types';\nimport { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { ExperimentViewArtifactLocation } from '../ExperimentViewArtifactLocation';\nimport { ExperimentViewCopyExperimentId } from './ExperimentViewCopyExperimentId';\nimport { ExperimentViewCopyArtifactLocation } from './ExperimentViewCopyArtifactLocation';\nimport { InfoPopover } from '@databricks/design-system';\nimport { Link } from '@mlflow/mlflow/src/common/utils/RoutingUtils';\nimport Routes from '@mlflow/mlflow/src/experiment-tracking/routes';\n\n/**\n * Header for a single experiment page. Displays title, breadcrumbs and provides\n * controls for renaming, deleting and editing permissions.\n */\nexport const ExperimentViewHeader = React.memo(\n  ({\n    experiment,\n    searchFacetsState,\n    uiState,\n    showAddDescriptionButton,\n    setEditing,\n  }: {\n    experiment: ExperimentEntity;\n    searchFacetsState?: ExperimentPageSearchFacetsState;\n    uiState?: ExperimentPageUIState;\n    showAddDescriptionButton: boolean;\n    setEditing: (editing: boolean) => void;\n  }) => {\n    const breadcrumbs = useMemo(\n      () => [\n        <Link\n          key={Routes.experimentsObservatoryRoute}\n          to={Routes.experimentsObservatoryRoute}\n          data-testid=\"experiment-observatory-link\"\n        >\n          <FormattedMessage\n            defaultMessage=\"Experiments\"\n            description=\"Breadcrumb nav item to link to the list of experiments page\"\n          />\n        </Link>,\n      ],\n      [],\n    );\n    const experimentIds = useMemo(() => (experiment ? [experiment?.experimentId] : []), [experiment]);\n\n    const { theme } = useDesignSystemTheme();\n\n    /**\n     * Extract the last part of the experiment name\n     */\n    const normalizedExperimentName = useMemo(() => experiment.name.split('/').pop(), [experiment.name]);\n\n    const getInfoTooltip = () => {\n      return (\n        <div style={{ display: 'flex' }}>\n          <InfoPopover iconTitle=\"Info\">\n            <div\n              css={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: theme.spacing.xs,\n                flexWrap: 'nowrap',\n              }}\n              data-testid=\"experiment-view-header-info-tooltip-content\"\n            >\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Path\"\n                  description=\"Label for displaying the current experiment path\"\n                />\n                : {experiment.name + ' '}\n                <ExperimentViewCopyTitle experiment={experiment} size=\"md\" />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Experiment ID\"\n                  description=\"Label for displaying the current experiment in view\"\n                />\n                : {experiment.experimentId + ' '}\n                <ExperimentViewCopyExperimentId experiment={experiment} />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Artifact Location\"\n                  description=\"Label for displaying the experiment artifact location\"\n                />\n                : <ExperimentViewArtifactLocation artifactLocation={experiment.artifactLocation} />{' '}\n                <ExperimentViewCopyArtifactLocation experiment={experiment} />\n              </div>\n            </div>\n          </InfoPopover>\n        </div>\n      );\n    };\n    const getAddDescriptionButton = () => {\n      return (\n        <Button\n          componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentviewheaderv2.tsx_271\"\n          size=\"small\"\n          onClick={() => {\n            setEditing(true);\n          }}\n          css={{\n            marginLeft: theme.spacing.sm,\n            background: `${theme.colors.backgroundSecondary} !important`,\n            border: 'none',\n          }}\n        >\n          <Typography.Text size=\"md\">Add Description</Typography.Text>\n        </Button>\n      );\n    };\n\n    return (\n      <PageHeader\n        title={\n          <div\n            css={{\n              [theme.responsive.mediaQueries.xs]: {\n                display: 'inline',\n                wordBreak: 'break-all',\n              },\n              [theme.responsive.mediaQueries.sm]: {\n                display: 'inline-block',\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                verticalAlign: 'middle',\n              },\n            }}\n            title={normalizedExperimentName}\n          >\n            {normalizedExperimentName}\n          </div>\n        }\n        titleAddOns={[\n          getInfoTooltip(),\n          showAddDescriptionButton && getAddDescriptionButton(),\n        ].filter(Boolean)}\n        breadcrumbs={breadcrumbs}\n        spacerSize=\"sm\"\n        dangerouslyAppendEmotionCSS={{\n          [theme.responsive.mediaQueries.sm]: {\n            // Do not wrap the title and buttons on >= small screens\n            '& > div': {\n              flexWrap: 'nowrap',\n            },\n            // The title itself should display elements horizontally\n            h2: {\n              display: 'flex',\n              overflow: 'hidden',\n            },\n          },\n        }}\n      >\n      </PageHeader>\n    );\n  },\n);\n\nexport function ExperimentViewHeaderSkeleton() {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ height: 2 * theme.general.heightSm }}>\n      <div css={{ height: theme.spacing.lg }}>\n        <GenericSkeleton css={{ width: 100, height: theme.spacing.md }} loading />\n      </div>\n      <div css={{ display: 'flex', justifyContent: 'space-between' }}>\n        <div>\n          <GenericSkeleton css={{ width: 160, height: theme.general.heightSm }} loading />\n        </div>\n        <div css={{ display: 'flex', gap: theme.spacing.sm }}>\n          <GenericSkeleton css={{ width: 100, height: theme.general.heightSm }} loading />\n          <GenericSkeleton css={{ width: 60, height: theme.general.heightSm }} loading />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { gql, QueryHookOptions } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport { useQuery } from '@mlflow/mlflow/src/common/utils/graphQLHooks';\nimport { MlflowGetExperimentQuery, MlflowGetExperimentQueryVariables } from '../../graphql/__generated__/graphql';\nimport { isArray } from 'lodash';\nimport { NotFoundError } from '@databricks/web-shared/errors';\n\nconst GET_EXPERIMENT_QUERY = gql`\n  query MlflowGetExperimentQuery($input: MlflowGetExperimentInput!) @component(name: \"MLflow.ExperimentRunTracking\") {\n    mlflowGetExperiment(input: $input) {\n      apiError {\n        code\n        message\n      }\n      experiment {\n        artifactLocation\n        creationTime\n        experimentId\n        lastUpdateTime\n        lifecycleStage\n        name\n        tags {\n          key\n          value\n        }\n      }\n    }\n  }\n`;\n\nexport type UseGetExperimentQueryResultExperiment = NonNullable<\n  MlflowGetExperimentQuery['mlflowGetExperiment']\n>['experiment'];\n\n/* eslint-disable react-hooks/rules-of-hooks */\nexport const useGetExperimentQuery = ({\n  experimentId,\n  options = {},\n}: {\n  experimentId?: string;\n  options?: QueryHookOptions<MlflowGetExperimentQuery, MlflowGetExperimentQueryVariables>;\n}) => {\n  const {\n    data,\n    loading,\n    error: apolloError,\n    refetch,\n  } = useQuery<MlflowGetExperimentQuery, MlflowGetExperimentQueryVariables>(GET_EXPERIMENT_QUERY, {\n    variables: {\n      input: {\n        experimentId,\n      },\n    },\n    skip: !experimentId,\n    ...options,\n  });\n\n  // Extract the single experiment entity from the response\n  const experimentEntity: UseGetExperimentQueryResultExperiment | undefined = data?.mlflowGetExperiment?.experiment;\n\n  const getApiError = () => {\n    return data?.mlflowGetExperiment?.apiError;\n  };\n\n  return {\n    loading,\n    data: experimentEntity,\n    refetch,\n    apolloError: apolloError,\n    apiError: getApiError(),\n  } as const;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","import React from 'react';\n\nexport interface ExperimentViewArtifactLocationProps {\n  artifactLocation: string;\n}\n\nexport const ExperimentViewArtifactLocation = ({ artifactLocation }: ExperimentViewArtifactLocationProps) => {\n  return <>{artifactLocation}</>;\n};\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the artifact location after clicking on the icon\n */\nexport const ExperimentViewCopyArtifactLocation = ({ experiment }: { experiment: ExperimentEntity }) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size=\"md\"\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.artifactLocation,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy artifact location',\n              description: 'Copy tooltip to copy experiment artifact location from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Artifact location copied',\n              description: 'Tooltip displayed after experiment artifact location was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","export function coerceToEnum<T extends Record<string, string>, K extends keyof T, V extends T[K] | undefined>(\n  enumObj: T,\n  value: any,\n  fallback: V,\n): V | T[keyof T] {\n  if (value === undefined || value === null || typeof value !== 'string') {\n    return fallback;\n  }\n  for (const v in enumObj) {\n    if (enumObj[v] === value) return enumObj[v];\n  }\n  return fallback;\n}\n","import type { RefObject } from 'react';\nimport { useState, useEffect } from 'react';\n\ninterface SizeMap {\n  [key: string]: number;\n}\n\nfunction useResponsiveContainer(ref: RefObject<HTMLElement>, sizeMap: SizeMap): string | null {\n  const [matchedSize, setMatchedSize] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (ref.current && sizeMap) {\n      const handleResize = () => {\n        if (!ref.current) {\n          return;\n        }\n        const elementWidth = ref.current.offsetWidth;\n        const matchedKey = Object.keys(sizeMap)\n          .filter((key) => sizeMap[key] >= elementWidth)\n          .sort((a, b) => sizeMap[a] - sizeMap[b])[0];\n\n        setMatchedSize(matchedKey);\n      };\n\n      handleResize();\n\n      const resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(ref.current);\n\n      return () => resizeObserver.disconnect();\n    }\n    return undefined;\n  }, [ref, sizeMap]);\n\n  return matchedSize;\n}\n\nexport default useResponsiveContainer;\n","import { GenericSkeleton, ParagraphSkeleton, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport type { ReactNode } from 'react';\nimport { useRef } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport useResponsiveContainer from './useResponsiveContainer';\n\nexport interface AsideSectionProps {\n  id: string;\n  title?: ReactNode;\n  content: ReactNode;\n  isTitleLoading?: boolean;\n}\n\nexport type MaybeAsideSection = AsideSectionProps | null;\nexport type AsideSections = Array<MaybeAsideSection>;\n\nconst SIDEBAR_WIDTHS = {\n  sm: 316,\n  lg: 480,\n} as const;\nconst VERTICAL_MARGIN_PX = 16;\nconst DEFAULT_MAX_WIDTH = 450;\n\nexport const OverviewLayout = ({\n  isLoading,\n  asideSections,\n  children,\n  isTabLayout = true,\n  sidebarSize = 'sm',\n  verticalStackOrder,\n}: {\n  isLoading?: boolean;\n  asideSections: AsideSections;\n  children: ReactNode;\n  isTabLayout?: boolean;\n  sidebarSize?: 'sm' | 'lg';\n  verticalStackOrder?: 'main-first' | 'aside-first';\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const stackVertically = useResponsiveContainer(containerRef, { small: theme.responsive.breakpoints.lg }) === 'small';\n\n  // Determine vertical stack order, i.e. should the main content be on top or bottom\n  const verticalDisplayPrimaryContentOnTop = verticalStackOrder === 'main-first';\n\n  const totalSidebarWidth = SIDEBAR_WIDTHS[sidebarSize];\n  const innerSidebarWidth = totalSidebarWidth - VERTICAL_MARGIN_PX;\n\n  const secondaryStackedStyles = stackVertically\n    ? verticalDisplayPrimaryContentOnTop\n      ? { width: '100%' }\n      : { borderBottom: `1px solid ${theme.colors.border}`, width: '100%' }\n    : verticalDisplayPrimaryContentOnTop\n    ? {\n        width: innerSidebarWidth,\n      }\n    : {\n        paddingBottom: theme.spacing.sm,\n        width: innerSidebarWidth,\n      };\n\n  return (\n    <div\n      data-testid=\"entity-overview-container\"\n      ref={containerRef}\n      css={{\n        display: 'flex',\n        flexDirection: stackVertically ? (verticalDisplayPrimaryContentOnTop ? 'column' : 'column-reverse') : 'row',\n        gap: theme.spacing.lg,\n      }}\n    >\n      <div\n        css={{\n          display: 'flex',\n          flexGrow: 1,\n          flexDirection: 'column',\n          gap: theme.spacing.md,\n          width: stackVertically ? '100%' : `calc(100% - ${totalSidebarWidth}px)`,\n        }}\n      >\n        {isLoading ? <GenericSkeleton /> : children}\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          ...(isTabLayout && { marginTop: -theme.spacing.md }), // remove the gap between tab list and sidebar content\n        }}\n      >\n        <div\n          css={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: theme.spacing.lg,\n            ...secondaryStackedStyles,\n          }}\n        >\n          {isLoading && <GenericSkeleton />}\n          {!isLoading && <SidebarWrapper secondarySections={asideSections} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst SidebarWrapper = ({ secondarySections }: { secondarySections: AsideSections }) => {\n  return (\n    <div>\n      {secondarySections\n        .filter((section) => section !== null)\n        .filter((section) => section?.content !== null)\n        .map(({ title, isTitleLoading, content, id }, index) => (\n          <AsideSection title={title} isTitleLoading={isTitleLoading} content={content} key={id} index={index} />\n        ))}\n    </div>\n  );\n};\n\nexport const AsideSectionTitle = ({ children }: { children: ReactNode }) => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <Typography.Title\n      level={4}\n      style={{\n        whiteSpace: 'nowrap',\n        marginRight: theme.spacing.lg,\n        marginTop: 0,\n      }}\n    >\n      {children}\n    </Typography.Title>\n  );\n};\n\nconst AsideSection = ({\n  title,\n  content,\n  index,\n  isTitleLoading = false,\n}: Omit<AsideSectionProps, 'id'> & {\n  index: number;\n}) => {\n  const { theme } = useDesignSystemTheme();\n\n  const titleComponent = isTitleLoading ? (\n    <ParagraphSkeleton\n      label={\n        <FormattedMessage\n          defaultMessage=\"Section title loading\"\n          description=\"Loading skeleton label for overview page section title in Catalog Explorer\"\n        />\n      }\n    />\n  ) : title ? (\n    <AsideSectionTitle>{title}</AsideSectionTitle>\n  ) : null;\n\n  const compactStyles = { padding: `${theme.spacing.md}px 0 ${theme.spacing.md}px 0` };\n\n  return (\n    <div\n      css={{\n        ...compactStyles,\n        ...(index === 0 ? {} : { borderTop: `1px solid ${theme.colors.border}` }),\n      }}\n    >\n      {titleComponent}\n      {content}\n    </div>\n  );\n};\n\nexport const KeyValueProperty = ({\n  keyValue,\n  value,\n  maxWidth,\n}: {\n  keyValue: string;\n  value: React.ReactNode;\n  maxWidth?: number | string;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        '&:has(+ div)': {\n          marginBottom: theme.spacing.xs,\n        },\n        maxWidth: maxWidth ?? DEFAULT_MAX_WIDTH,\n        wordBreak: 'break-word',\n        lineHeight: theme.typography.lineHeightLg,\n      }}\n    >\n      <div\n        css={{\n          color: theme.colors.textSecondary,\n          flex: 0.5,\n          alignSelf: 'start',\n        }}\n      >\n        {keyValue}\n      </div>\n      <div\n        css={{\n          flex: 1,\n          alignSelf: 'start',\n          overflow: 'hidden',\n        }}\n      >\n        {value}\n      </div>\n    </div>\n  );\n};\n\nexport const NoneCell = () => {\n  return (\n    <Typography.Text color=\"secondary\">\n      <FormattedMessage defaultMessage=\"None\" description=\"Cell value when there's no content\" />\n    </Typography.Text>\n  );\n};\n","import { Button, CloseIcon, Popover, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { ExperimentKind } from '../../../../constants';\nimport { ExperimentKindDropdownLabels, ExperimentKindShortLabels } from '../../../../utils/ExperimentKindUtils';\n\nexport const ExperimentViewInferredKindPopover = ({\n  children,\n  inferredExperimentKind,\n  onConfirm,\n  onDismiss,\n  isInferredKindEditable = false,\n}: {\n  children: React.ReactNode;\n  inferredExperimentKind: ExperimentKind;\n  onConfirm?: () => void;\n  onDismiss?: () => void;\n  isInferredKindEditable?: boolean;\n}) => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'block', position: 'relative' }}>\n      {children}\n      <Popover.Root componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover\" open modal={false}>\n        <Popover.Trigger asChild>\n          <div css={{ position: 'absolute', left: 0, bottom: 0, right: 0, height: 0 }} />\n        </Popover.Trigger>\n        <Popover.Content css>\n          <Popover.Arrow />\n          <div css={{ display: 'flex', alignItems: 'flex-start', gap: theme.spacing.sm }}>\n            <div css={{ flex: 1 }}>\n              <Typography.Paragraph css={{ maxWidth: 300 }}>\n                <FormattedMessage\n                  defaultMessage=\"We've automatically detected the experiment type to be ''{kindLabel}''. {isEditable, select, true {You can either confirm or change the type.} other {}}\"\n                  description=\"Popover message for inferred experiment kind\"\n                  values={{\n                    kindLabel: intl.formatMessage(ExperimentKindShortLabels[inferredExperimentKind]),\n                    isEditable: isInferredKindEditable,\n                  }}\n                />\n              </Typography.Paragraph>\n              <Button\n                componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover.confirm\"\n                onClick={onConfirm}\n                type=\"primary\"\n                size=\"small\"\n              >\n                <FormattedMessage\n                  defaultMessage=\"Confirm\"\n                  description=\"Button label to confirm the inferred experiment kind\"\n                />\n              </Button>\n            </div>\n            <Button\n              componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover.dismiss\"\n              onClick={onDismiss}\n              icon={<CloseIcon />}\n              size=\"small\"\n            />\n          </div>\n        </Popover.Content>\n      </Popover.Root>\n    </div>\n  );\n};\n","import { ChevronDownIcon, DropdownMenu, Popover, Spinner, Tag, Tooltip } from '@databricks/design-system';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { entries } from 'lodash';\nimport { useMemo, useState } from 'react';\nimport { defineMessage, FormattedMessage } from 'react-intl';\nimport { ExperimentKind } from '../../../../constants';\nimport {\n  ExperimentKindDropdownLabels,\n  getSelectableExperimentKinds,\n  isEditableExperimentKind,\n  normalizeInferredExperimentKind,\n} from '../../../../utils/ExperimentKindUtils';\nimport { ExperimentViewInferredKindPopover } from './ExperimentViewInferredKindPopover';\n\nconst getVisibleLabel = (kind: ExperimentKind, readOnly: boolean) => {\n  if (kind === ExperimentKind.NO_INFERRED_TYPE || kind === ExperimentKind.EMPTY) {\n    if (readOnly) {\n      // if the user does not have permission to edit the experiment kind, we show the \"None\" label\n      return ExperimentKindDropdownLabels[ExperimentKind.NO_INFERRED_TYPE];\n    }\n    return defineMessage({\n      defaultMessage: 'Select a type',\n      description: 'Label for the experiment type selector in the experiment view header',\n    });\n  }\n  return ExperimentKindDropdownLabels[kind];\n};\n\nexport const ExperimentViewHeaderKindSelector = ({\n  value,\n  inferredExperimentKind,\n  onChange,\n  isUpdating,\n  readOnly = false,\n}: {\n  value?: ExperimentKind;\n  inferredExperimentKind?: ExperimentKind;\n  onChange?: (kind: ExperimentKind) => void;\n  isUpdating?: boolean;\n  readOnly?: boolean;\n}) => {\n  const dropdownItems = useMemo(\n    () =>\n      entries(ExperimentKindDropdownLabels).filter(([key]) =>\n        getSelectableExperimentKinds().includes(key as ExperimentKind),\n      ),\n    [],\n  );\n\n  const currentValue = useMemo(() => {\n    if (inferredExperimentKind) {\n      return normalizeInferredExperimentKind(inferredExperimentKind);\n    }\n    return coerceToEnum(ExperimentKind, value, ExperimentKind.NO_INFERRED_TYPE);\n  }, [value, inferredExperimentKind]);\n\n  const visibleLabel = getVisibleLabel(currentValue, readOnly);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [displayInferencePopover, setDisplayInferencePopover] = useState(\n    Boolean(inferredExperimentKind && !readOnly && isEditableExperimentKind(inferredExperimentKind)),\n  );\n\n  // Determines if we should render a dropdown or just a tag.\n  const usingDropdown = isEditableExperimentKind(currentValue) && !readOnly;\n\n  const tagElement = (\n    <Tag\n      icon={isUpdating ? <Spinner size=\"small\" /> : null}\n      componentId=\"mlflow.experiment_view.header.experiment_kind_selector\"\n      css={{ marginRight: 0 }}\n      // Empty callback so <Tag /> renders its \"clickable\" UI style\n      onClick={!usingDropdown ? undefined : () => {}}\n    >\n      {visibleLabel && <FormattedMessage {...visibleLabel} />} {usingDropdown && <ChevronDownIcon />}\n    </Tag>\n  );\n\n  const tagElementWithTooltip = <ExperimentTypeTooltip>{tagElement}</ExperimentTypeTooltip>;\n\n  if (readOnly) {\n    return tagElementWithTooltip;\n  }\n\n  const dropdownElement = (\n    <DropdownMenu.Root\n      modal={false}\n      open={dropdownOpen}\n      onOpenChange={(open) => {\n        setDisplayInferencePopover(false);\n        setDropdownOpen(open);\n      }}\n    >\n      {/* Mixing dropdown with tooltip requires different ordering */}\n      <ExperimentTypeTooltip>\n        <DropdownMenu.Trigger asChild>{tagElement}</DropdownMenu.Trigger>\n      </ExperimentTypeTooltip>\n      <DropdownMenu.Content align=\"start\">\n        <DropdownMenu.Arrow />\n        <DropdownMenu.Label>\n          <FormattedMessage\n            defaultMessage=\"Experiment type\"\n            description=\"Label for the experiment type selector in the experiment view header\"\n          />\n        </DropdownMenu.Label>\n        {dropdownItems.map(([key, label]) => {\n          const isSelected = key === currentValue;\n          return (\n            <DropdownMenu.CheckboxItem\n              key={key}\n              componentId={`mlflow.experiment_view.header.experiment_kind_selector.${key}`}\n              onClick={() => onChange?.(key as ExperimentKind)}\n              checked={isSelected}\n            >\n              <DropdownMenu.ItemIndicator />\n              <FormattedMessage {...label} />\n            </DropdownMenu.CheckboxItem>\n          );\n        })}\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n\n  if (displayInferencePopover && inferredExperimentKind) {\n    return (\n      <ExperimentViewInferredKindPopover\n        inferredExperimentKind={inferredExperimentKind}\n        onConfirm={async () => {\n          if (inferredExperimentKind) {\n            onChange?.(normalizeInferredExperimentKind(inferredExperimentKind));\n          }\n          setDisplayInferencePopover(false);\n        }}\n        onDismiss={() => setDisplayInferencePopover(false)}\n        isInferredKindEditable={isEditableExperimentKind(currentValue)}\n      >\n        {usingDropdown ? dropdownElement : tagElementWithTooltip}\n      </ExperimentViewInferredKindPopover>\n    );\n  }\n\n  return usingDropdown ? dropdownElement : tagElementWithTooltip;\n};\n\nconst ExperimentTypeTooltip = ({ children }: { children: React.ReactNode }) => (\n  <Tooltip\n    componentId=\"mlflow.experiment_view.header.experiment_kind_selector.tooltip\"\n    content={\n      <FormattedMessage\n        defaultMessage=\"Experiment type\"\n        description=\"Label for the experiment type selector in the experiment view header\"\n      />\n    }\n  >\n    {children}\n  </Tooltip>\n);\n","import { ExperimentEntity } from '../../../types';\nimport { KeyValueEntity } from '../../../../common/types';\nimport {\n  Button,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Modal,\n  PencilIcon,\n  LegacyTooltip,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useCallback, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getExperimentTags } from '../../../reducers/Reducers';\nimport { NOTE_CONTENT_TAG } from '../../../utils/NoteUtils';\nimport { ThunkDispatch } from '../../../../redux-types';\nimport React from 'react';\nimport 'react-mde/lib/styles/css/react-mde-all.css';\nimport ReactMde, { SvgIcon } from 'react-mde';\nimport {\n  forceAnchorTagNewTab,\n  getMarkdownConverter,\n  sanitizeConvertedHtml,\n} from '../../../../common/utils/MarkdownUtils';\nimport { FormattedMessage } from 'react-intl';\nimport { setExperimentTagApi } from '../../../actions';\n\nconst extractNoteFromTags = (tags: Record<string, KeyValueEntity>) =>\n  Object.values(tags).find((t) => t.key === NOTE_CONTENT_TAG)?.value || undefined;\n\nconst toolbarCommands = [\n  ['header', 'bold', 'italic', 'strikethrough'],\n  ['link', 'code', 'image'],\n  ['unordered-list', 'ordered-list'],\n];\n\nconst converter = getMarkdownConverter();\n\nconst getSanitizedHtmlContent = (markdown: string | undefined) => {\n  if (markdown) {\n    const sanitized = sanitizeConvertedHtml(converter.makeHtml(markdown));\n    return forceAnchorTagNewTab(sanitized);\n  }\n  return null;\n};\n\nexport const ExperimentViewDescriptionNotes = ({\n  experiment,\n  editing,\n  setEditing,\n  setShowAddDescriptionButton,\n  onNoteUpdated,\n  defaultValue,\n}: {\n  experiment: ExperimentEntity;\n  editing: boolean;\n  setEditing: (editing: boolean) => void;\n  setShowAddDescriptionButton: (show: boolean) => void;\n  onNoteUpdated?: () => void;\n  defaultValue?: string;\n}) => {\n  const storedNote = useSelector((state) => {\n    const tags = getExperimentTags(experiment.experimentId, state);\n    return tags ? extractNoteFromTags(tags) : '';\n  });\n  setShowAddDescriptionButton(!storedNote);\n\n  const effectiveNote = storedNote || defaultValue;\n  const [tmpNote, setTmpNote] = useState(effectiveNote);\n  const [selectedTab, setSelectedTab] = useState<'write' | 'preview' | undefined>('write');\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const { theme } = useDesignSystemTheme();\n  const PADDING_HORIZONTAL = 12;\n  const DISPLAY_LINE_HEIGHT = 16;\n  const COLLAPSE_MAX_HEIGHT = DISPLAY_LINE_HEIGHT + 2 * theme.spacing.sm;\n  const MIN_EDITOR_HEIGHT = 200;\n  const MAX_EDITOR_HEIGHT = 500;\n  const MIN_PREVIEW_HEIGHT = 20;\n\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  const handleSubmitEditNote = useCallback(\n    (updatedNote?: string) => {\n      setEditing(false);\n      setShowAddDescriptionButton(!updatedNote);\n      const action = setExperimentTagApi(experiment.experimentId, NOTE_CONTENT_TAG, updatedNote);\n      dispatch(action).then(onNoteUpdated);\n    },\n    [experiment.experimentId, dispatch, setEditing, setShowAddDescriptionButton, onNoteUpdated],\n  );\n\n  return (\n    <div>\n      {effectiveNote && (\n        <div\n          style={{\n            whiteSpace: isExpanded ? 'normal' : 'pre-wrap',\n            lineHeight: theme.typography.lineHeightLg,\n            background: theme.colors.backgroundSecondary,\n            display: 'flex',\n            alignItems: 'flex-start',\n            padding: theme.spacing.xs,\n          }}\n        >\n          <div\n            style={{\n              flexGrow: 1,\n              marginRight: PADDING_HORIZONTAL,\n              overflow: 'hidden',\n              overflowWrap: isExpanded ? 'break-word' : undefined,\n              padding: `${theme.spacing.sm}px ${PADDING_HORIZONTAL}px`,\n              maxHeight: isExpanded ? 'none' : COLLAPSE_MAX_HEIGHT + 'px',\n              wordBreak: 'break-word',\n            }}\n          >\n            <div\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: getSanitizedHtmlContent(effectiveNote) }}\n            />\n          </div>\n          <Button\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_114\"\n            icon={<PencilIcon />}\n            onClick={() => setEditing(true)}\n            style={{ padding: `0px ${theme.spacing.sm}px` }}\n          />\n          {isExpanded ? (\n            <Button\n              componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_120\"\n              icon={<ChevronUpIcon />}\n              onClick={() => setIsExpanded(false)}\n              style={{ padding: `0px ${theme.spacing.sm}px` }}\n            />\n          ) : (\n            <Button\n              componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_126\"\n              icon={<ChevronDownIcon />}\n              onClick={() => setIsExpanded(true)}\n              style={{ padding: `0px ${theme.spacing.sm}px` }}\n            />\n          )}\n        </div>\n      )}\n      <Modal\n        componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_141\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Add description\"\n            description=\"experiment page > description modal > title\"\n          />\n        }\n        visible={editing}\n        okText={\n          <FormattedMessage defaultMessage=\"Save\" description=\"experiment page > description modal > save button\" />\n        }\n        cancelText={\n          <FormattedMessage defaultMessage=\"Cancel\" description=\"experiment page > description modal > cancel button\" />\n        }\n        onOk={() => {\n          handleSubmitEditNote(tmpNote);\n          setEditing(false);\n        }}\n        onCancel={() => {\n          setTmpNote(effectiveNote);\n          setEditing(false);\n        }}\n      >\n        <React.Fragment>\n          <ReactMde\n            value={tmpNote}\n            minEditorHeight={MIN_EDITOR_HEIGHT}\n            maxEditorHeight={MAX_EDITOR_HEIGHT}\n            minPreviewHeight={MIN_PREVIEW_HEIGHT}\n            toolbarCommands={toolbarCommands}\n            onChange={(value) => setTmpNote(value)}\n            selectedTab={selectedTab}\n            onTabChange={(newTab) => setSelectedTab(newTab)}\n            generateMarkdownPreview={() => Promise.resolve(getSanitizedHtmlContent(tmpNote))}\n            getIcon={(name) => (\n              <LegacyTooltip title={name}>\n                <span css={{ color: theme.colors.textPrimary }}>\n                  <SvgIcon icon={name} />\n                </span>\n              </LegacyTooltip>\n            )}\n          />\n        </React.Fragment>\n      </Modal>\n    </div>\n  );\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { Tag, useDesignSystemTheme } from '@databricks/design-system';\nexport const PreviewBadge = ({ className }: { className?: string }) => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <Tag\n      componentId=\"codegen_mlflow_app_src_shared_building_blocks_previewbadge.tsx_14\"\n      className={className}\n      css={{ marginLeft: theme.spacing.xs }}\n      color=\"turquoise\"\n    >\n      <FormattedMessage\n        defaultMessage=\"Experimental\"\n        description=\"Experimental badge shown for features which are experimental\"\n      />\n    </Tag>\n  );\n};\n"],"names":["_converter","getMarkdownConverter","Converter","setFlavor","sanitizerOptions","allowedTags","allowedAttributes","a","img","div","sanitizeConvertedHtml","dirtyHtml","sanitizeHtml","forceAnchorTagNewTab","html","replace","RegExp","useMarkdownConverter","useCallback","markdown","makeHtml","ExperimentViewInferredKindModal","onDismiss","onConfirm","theme","useDesignSystemTheme","selectedKind","setSelectedKind","useState","ExperimentKind","CUSTOM_MODEL_DEVELOPMENT","_jsxs","Modal","visible","componentId","onCancel","title","_jsx","FormattedMessage","id","defaultMessage","cancelText","okText","onOk","children","Typography","Paragraph","css","_css","display","flexDirection","gap","spacing","sm","marginBottom","Radio","checked","GENAI_DEVELOPMENT","onChange","ExperimentKindDropdownLabels","useUpdateExperimentKind","onSuccess","useMutation","mutationFn","experimentId","kind","MlflowService","setExperimentTag","experiment_id","key","value","then","_onSuccess","Promise","resolve","useInferExperimentKind","isLoadingExperiment","enabled","experimentTags","updateExperimentKind","containsTraces","isLoading","isTracesBeingDetermined","useExperimentContainsTraces","data","useQuery","async","invariant","experimentIds","getExperimentTraces","undefined","Boolean","isEmpty","traces","isDismissed","setIsDismissed","containsRuns","isTrainingRunsBeingDetermined","useExperimentContainsTrainingRuns","error","searchRuns","experiment_ids","max_results","useMemo","runs","inferredExperimentKind","GENAI_DEVELOPMENT_INFERRED","CUSTOM_MODEL_DEVELOPMENT_INFERRED","NO_INFERRED_TYPE","inferredExperimentPageTab","ExperimentPageTabName","Traces","Runs","useEffect","isEditableExperimentKind","dismiss","OverflowMenu","menu","overflowMenu","Menu","map","itemName","onClick","href","otherProps","Item","length","Dropdown","overlay","trigger","placement","arrow","Button","icon","OverflowIcon","_ref","name","styles","PageHeader","props","breadcrumbs","titleAddOns","preview","spacerSize","hideSpacer","dangerouslyAppendEmotionCSS","useIntl","_Fragment","Header","Breadcrumb","includeTrailingCaret","b","i","buttons","PreviewBadge","Spacer","flexShrink","size","ExperimentViewCopyTitle","experiment","intl","Text","dangerouslySetAntdProps","copyable","text","CopyIcon","tooltips","formatMessage","lazyPako","truncateToFirstLineWithMaxLength","str","maxLength","truncated","_","char","join","middleTruncateStr","maxLen","firstPartLen","Math","floor","lastPartLen","substring","_keyStr","btoaUtf8","input","output","result","_utf8_encode","chr1","charCodeAt","chr2","chr3","enc1","enc2","enc3","enc4","isNaN","charAt","atobUtf8","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","getStringSHA256","crypto","subtle","digest","TextEncoder","encode","arrayBuffer","Array","prototype","call","Uint8Array","x","toString","slice","COMPRESSED_TEXT_DEFLATE_PREFIX","textCompressDeflate","binaryData","deflate","Buffer","b64encoded","from","binaryString","byte","fromCodePoint","btoa","textDecompressDeflate","pako","compressedText","startsWith","Error","compressedTextWithoutPrefix","inflate","to","atob","m","_m$codePointAt","codePointAt","isTextCompressedDeflate","RunsTabConfig","label","ListIcon","getRoute","Routes","getExperimentPageTabRoute","TracesTabConfig","ListBorderIcon","ModelsTabConfig","ModelsIcon","Models","GenAIExperimentTabConfigMap","GenAIExperimentWithPromptsTabConfigMap","CustomExperimentTabConfigMap","DefaultTabConfigMap","_ref2","TabSelectorBar","experimentKind","tabName","useParams","viewMode","useExperimentPageViewMode","topLevelTabName","tabNameFromRoute","useGetExperimentPageActiveTabByRoute","tabNameFromParams","coerceToEnum","Datasets","EvaluationRuns","LabelingSchemas","LabelingSessions","tabNameFromViewMode","includes","isRunsViewTab","iTracesViewTab","activeTab","tabsConfig","shouldEnablePromptsTabOnDBPlatform","FORECASTING","REGRESSION","AUTOML","CLASSIFICATION","getExperimentTabsConfig","SegmentedControlGroup","newStyleFlagOverride","justifySelf","responsive","mediaQueries","xl","Object","entries","tabConfig","isActive","React","Link","className","SegmentedControlButton","Tooltip","delayDuration","content","_ref3","ExperimentViewHeaderV2","searchFacetsState","uiState","setEditing","experimentKindSelector","normalizedExperimentName","split","pop","getExperimentKindFromTags","tags","xs","breadcrumb","index","alignItems","overflow","minWidth","Title","withoutMargins","level","style","marginRight","InfoPopover","iconTitle","flexWrap","whiteSpace","ExperimentViewCopyExperimentId","ExperimentViewArtifactLocation","artifactLocation","ExperimentViewCopyArtifactLocation","justifyContent","marginLeft","ExperimentViewHeaderShareButton","_ref4","_ref5","ExperimentViewHeaderV2Skeleton","ParagraphSkeleton","loading","TitleSkeleton","width","height","general","heightSm","alignSelf","lg","CopyBox","copyText","Input","readOnly","CopyButton","GetLinkModal","link","ExperimentGetShareLinkModal","sharedStateUrl","setSharedStateUrl","linkInProgress","setLinkInProgress","generatedState","setGeneratedState","dispatch","useDispatch","stateToSerialize","createSerializedState","state","window","location","shouldUseCompressedExperimentViewSharedState","JSON","stringify","serializePersistedState","hash","tagName","EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX","setExperimentTagApi","getShareableUrl","shareStateHash","route","getExperimentPageRoute","queryParams","URLSearchParams","set","EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY","EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY","params","hashParam","origin","pathname","e","Utils","logErrorAndNotifyUser","GenericSkeleton","placeholder","showGetLinkModal","setShowGetLinkModal","type","_experimentTags$find","find","tag","EMPTY","normalizeInferredExperimentKind","defineMessage","FINETUNING","ExperimentKindShortLabels","getSelectableExperimentKinds","ExperimentPageRoutePathToTabNameMap","RoutePaths","experimentPageTabRuns","experimentPageTabTraces","experimentPageTabModels","routePath","useLocation","shouldEnableExperimentPageChildRoutes","_ExperimentPageRouteP","matchPath","getTabNameFromRoutePath","getExperimentPageDefaultViewMode","viewModeToRouteMap","MODELS","setParams","useSearchParams","navigate","useNavigate","get","setMode","newCompareRunsMode","_viewModeToRouteMap$n","currentParams","showLabel","buttonProps","showTooltip","setShowTooltip","LegacyTooltip","handleClick","navigator","clipboard","writeText","setTimeout","onMouseLeave","handleMouseLeave","ExperimentViewHeader","showAddDescriptionButton","experimentsObservatoryRoute","wordBreak","textOverflow","verticalAlign","background","colors","backgroundSecondary","border","filter","h2","ExperimentViewHeaderSkeleton","md","GET_EXPERIMENT_QUERY","gql","useGetExperimentQuery","options","_data$mlflowGetExperi","apolloError","refetch","variables","skip","mlflowGetExperiment","apiError","getApiError","_data$mlflowGetExperi2","module","exports","condition","format","d","f","args","argIndex","framesToPop","enumObj","fallback","v","ref","sizeMap","matchedSize","setMatchedSize","current","handleResize","elementWidth","offsetWidth","matchedKey","keys","sort","resizeObserver","ResizeObserver","observe","disconnect","SIDEBAR_WIDTHS","OverviewLayout","asideSections","isTabLayout","sidebarSize","verticalStackOrder","containerRef","useRef","stackVertically","useResponsiveContainer","small","breakpoints","verticalDisplayPrimaryContentOnTop","totalSidebarWidth","innerSidebarWidth","secondaryStackedStyles","borderBottom","paddingBottom","flexGrow","marginTop","SidebarWrapper","secondarySections","section","isTitleLoading","AsideSection","AsideSectionTitle","titleComponent","compactStyles","padding","borderTop","KeyValueProperty","keyValue","maxWidth","lineHeight","typography","lineHeightLg","color","textSecondary","flex","NoneCell","ExperimentViewInferredKindPopover","isInferredKindEditable","Popover","Root","open","modal","Trigger","asChild","Content","Arrow","values","kindLabel","isEditable","CloseIcon","ExperimentViewHeaderKindSelector","isUpdating","dropdownItems","currentValue","visibleLabel","getVisibleLabel","dropdownOpen","setDropdownOpen","displayInferencePopover","setDisplayInferencePopover","usingDropdown","tagElement","Tag","Spinner","ChevronDownIcon","tagElementWithTooltip","ExperimentTypeTooltip","dropdownElement","DropdownMenu","onOpenChange","align","Label","isSelected","CheckboxItem","ItemIndicator","toolbarCommands","converter","getSanitizedHtmlContent","sanitized","ExperimentViewDescriptionNotes","editing","setShowAddDescriptionButton","onNoteUpdated","defaultValue","storedNote","useSelector","getExperimentTags","_Object$values$find","t","NOTE_CONTENT_TAG","extractNoteFromTags","effectiveNote","tmpNote","setTmpNote","selectedTab","setSelectedTab","isExpanded","setIsExpanded","COLLAPSE_MAX_HEIGHT","handleSubmitEditNote","updatedNote","action","overflowWrap","maxHeight","dangerouslySetInnerHTML","__html","PencilIcon","ChevronUpIcon","ReactMde","minEditorHeight","maxEditorHeight","minPreviewHeight","onTabChange","newTab","generateMarkdownPreview","getIcon","textPrimary","SvgIcon"],"ignoreList":[],"sourceRoot":""}