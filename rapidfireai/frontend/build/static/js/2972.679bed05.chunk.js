"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[2972],{68220:function(e,t,n){var a=n(87241).extendFlat,r=n(42837),i=n(5153),o=n(97451),l=n(4216).r,s=n(16688).u,c=a({editType:"calc"},o("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot",description:["Sets the shape of the paths.","If `linear`, paths are composed of straight lines.","If `hspline`, paths are composed of horizontal curved splines"].join(" ")},hovertemplate:l({editType:"plot",arrayOk:!1},{keys:["count","probability"],description:["This value here applies when hovering over lines."].join(" ")})});e.exports={domain:s({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:a({},r.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot",description:["Sets the hover interaction mode for the parcats diagram.","If `category`, hover interaction take place per category.","If `color`, hover interactions take place per color per category.","If `dimension`, hover interactions take place across all categories per dimension."].join(" ")},hovertemplate:l({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"],description:["This value here applies when hovering over dimensions.","Note that `*categorycount`, *colorcount* and *bandcolorcount*","are only available when `hoveron` contains the *color* flag"].join(" ")}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot",description:["Sets the drag interaction mode for categories and dimensions.","If `perpendicular`, the categories can only move along a line perpendicular to the paths.","If `freeform`, the categories can freely move on the plane.","If `fixed`, the categories and dimensions are stationary."].join(" ")},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot",description:"Sort paths so that like colors are bundled together within each category."},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot",description:["Sets the path sorting algorithm.","If `forward`, sort paths based on dimension categories from left to right.","If `backward`, sort paths based on dimensions categories from right to left."].join(" ")},labelfont:i({editType:"calc",description:"Sets the font for the `dimension` labels."}),tickfont:i({editType:"calc",description:"Sets the font for the `category` labels."}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc",description:"The shown name of the dimension."},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the categories in the dimension.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories in this dimension appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},ticktext:{valType:"data_array",editType:"calc",description:["Sets alternative tick labels for the categories in this dimension.","Only has an effect if `categoryorder` is set to *array*.","Should be an array the same length as `categoryarray`","Used with `categoryorder`."].join(" ")},values:{valType:"data_array",dflt:[],editType:"calc",description:["Dimension values. `values[n]` represents the category value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated)."].join(" ")},displayindex:{valType:"integer",editType:"calc",description:["The display index of dimension, from left to right, zero indexed, defaults to dimension","index."].join(" ")},editType:"calc",description:"The dimensions (variables) of the parallel categories diagram.",visible:{valType:"boolean",dflt:!0,editType:"calc",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."}},line:c,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc",description:["The number of observations represented by each state. Defaults to 1 so that each state represents","one observation"].join(" ")},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},64364:function(e,t,n){var a=n(13373).eV,r=n(79054),i="parcats";t.name=i,t.plot=function(e,t,n,o){var l=a(e.calcdata,i);if(l.length){var s=l[0];r(e,s,n,o)}},t.clean=function(e,t,n,a){var r=a._has&&a._has("parcats"),i=t._has&&t._has("parcats");r&&!i&&a._paperdiv.selectAll(".parcats").remove()}},5148:function(e,t,n){var a=n(84941).wrap,r=n(8757).hasColorscale,i=n(92171),o=n(693),l=n(41707),s=n(47401),c=n(83491);function d(e,t,n){e.valueInds.push(t),e.count+=n}function u(e,t,n){e.valueInds.push(t),e.count+=n}e.exports=function(e,t){var n=s.filterVisible(t.dimensions);if(0===n.length)return[];var p,f,h,v=n.map((function(e){var t;if("trace"===e.categoryorder)t=null;else if("array"===e.categoryorder)t=e.categoryarray;else{t=o(e.values);for(var n=!0,a=0;a<t.length;a++)if(!c(t[a])){n=!1;break}t.sort(n?s.sorterAsc:void 0),"category descending"===e.categoryorder&&(t=t.reverse())}return function(e,t){t=void 0===t||null===t?[]:t.map((function(e){return e}));var n={},a={},r=[];t.forEach((function(e,t){n[e]=0,a[e]=t}));for(var i=0;i<e.length;i++){var o,l=e[i];void 0===n[l]?(n[l]=1,o=t.push(l)-1,a[l]=o):(n[l]++,o=a[l]),r.push(o)}var s=t.map((function(e){return n[e]}));return{uniqueValues:t,uniqueCounts:s,inds:r}}(e.values,t)}));p=s.isArrayOrTypedArray(t.counts)?t.counts:[t.counts],function(e){var t,n=e.map((function(e){return e.displayindex}));if(function(e){for(var t=new Array(e.length),n=0;n<e.length;n++){if(e[n]<0||e[n]>=e.length)return!1;if(void 0!==t[e[n]])return!1;t[e[n]]=!0}return!0}(n))for(t=0;t<e.length;t++)e[t]._displayindex=e[t].displayindex;else for(t=0;t<e.length;t++)e[t]._displayindex=t}(n),n.forEach((function(e,t){!function(e,t){e._categoryarray=t.uniqueValues,null===e.ticktext||void 0===e.ticktext?e._ticktext=[]:e._ticktext=e.ticktext.slice();for(var n=e._ticktext.length;n<t.uniqueValues.length;n++)e._ticktext.push(t.uniqueValues[n])}(e,v[t])}));var m,g=t.line;function y(e){var t,n;return s.isArrayOrTypedArray(g.color)?n=t=g.color[e%g.color.length]:t=g.color,{color:m(t),rawColor:n}}g?(r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),m=l.tryColorscale(g)):m=s.identity;var x,b,w,k,T,I=n[0].values.length,A={},M=v.map((function(e){return e.inds}));for(h=0,x=0;x<I;x++){var _=[];for(b=0;b<M.length;b++)_.push(M[b][x]);f=p[x%p.length],h+=f;var C=y(x),D=_+"-"+C.rawColor;void 0===A[D]&&(A[D]=(w=_,k=C.color,T=C.rawColor,{categoryInds:w,color:k,rawColor:T,valueInds:[],count:0})),u(A[D],x,f)}var S,V=n.map((function(e,t){return function(e,t,n,a,r){return{dimensionInd:e,containerInd:t,displayInd:n,dimensionLabel:a,count:r,categories:[],dragX:null}}(t,e._index,e._displayindex,e.label,h)}));for(x=0;x<I;x++)for(f=p[x%p.length],b=0;b<V.length;b++){var L=V[b].containerInd,P=v[b].inds[x],O=V[b].categories;if(void 0===O[P]){var B=t.dimensions[L]._categoryarray[P],N=t.dimensions[L]._ticktext[P];O[P]={dimensionInd:b,categoryInd:S=P,categoryValue:B,displayInd:S,categoryLabel:N,valueInds:[],count:0,dragY:null}}d(O[P],x,f)}return a(function(e,t,n){var a=e.map((function(e){return e.categories.length})).reduce((function(e,t){return Math.max(e,t)}));return{dimensions:e,paths:t,trace:void 0,maxCats:a,count:n}}(V,A,h))}},10667:function(e,t,n){var a=n(47401),r=n(8757).hasColorscale,i=n(94060),o=n(16688).N,l=n(26800),s=n(68220),c=n(94029);function d(e,t){function n(n,r){return a.coerce(e,t,s.dimensions,n,r)}var r=n("values"),i=n("visible");if(r&&r.length||(i=t.visible=!1),i){n("label"),n("displayindex",t._index);var o,l=e.categoryarray,c=Array.isArray(l)&&l.length>0;c&&(o="array");var d=n("categoryorder",o);"array"===d?(n("categoryarray"),n("ticktext")):(delete e.categoryarray,delete e.ticktext),c||"array"!==d||(t.categoryorder="trace")}}e.exports=function(e,t,n,u){function p(n,r){return a.coerce(e,t,s,n,r)}var f=l(e,t,{name:"dimensions",handleItemDefaults:d}),h=function(e,t,n,o,l){l("line.shape"),l("line.hovertemplate");var s=l("line.color",o.colorway[0]);if(r(e,"line")&&a.isArrayOrTypedArray(s)){if(s.length)return l("line.colorscale"),i(e,t,o,l,{prefix:"line.",cLetter:"c"}),s.length;t.line.color=n}return 1/0}(e,t,n,u,p);o(t,u,p),Array.isArray(f)&&f.length||(t.visible=!1),c(t,f,"values",h),p("hoveron"),p("hovertemplate"),p("arrangement"),p("bundlecolors"),p("sortpaths"),p("counts");var v={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};a.coerceFont(p,"labelfont",v);var m={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};a.coerceFont(p,"tickfont",m)}},23121:function(e,t,n){e.exports={attributes:n(68220),supplyDefaults:n(10667),calc:n(5148),plot:n(79054),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:n(64364),categories:["noOpacity"],meta:{description:["Parallel categories diagram for multidimensional categorical data."].join(" ")}}},33859:function(e,t,n){var a=n(62258),r=n(87717).Dj,i=n(9772),o=n(21661),l=n(47401),s=l.strTranslate,c=n(41707),d=n(91771),u=n(43995);function p(e,t,n,r){var i=e.map(j.bind(0,t,n)),o=r.selectAll("g.parcatslayer").data([null]);o.enter().append("g").attr("class","parcatslayer").style("pointer-events","all");var d=o.selectAll("g.trace.parcats").data(i,f),p=d.enter().append("g").attr("class","trace parcats");d.attr("transform",(function(e){return s(e.x,e.y)})),p.append("g").attr("class","paths");var y=d.select("g.paths").selectAll("path.path").data((function(e){return e.paths}),f);y.attr("fill",(function(e){return e.model.color}));var x=y.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",(function(e){return e.model.color})).attr("fill-opacity",0);w(x),y.attr("d",(function(e){return e.svgD})),x.empty()||y.sort(v),y.exit().remove(),y.on("mouseover",m).on("mouseout",g).on("click",b),p.append("g").attr("class","dimensions");var k=d.select("g.dimensions").selectAll("g.dimension").data((function(e){return e.dimensions}),f);k.enter().append("g").attr("class","dimension"),k.attr("transform",(function(e){return s(e.x,0)})),k.exit().remove();var A=k.selectAll("g.category").data((function(e){return e.categories}),f),M=A.enter().append("g").attr("class","category");A.attr("transform",(function(e){return s(0,e.y)})),M.append("rect").attr("class","catrect").attr("pointer-events","none"),A.select("rect.catrect").attr("fill","none").attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})),T(M);var _=A.selectAll("rect.bandrect").data((function(e){return e.bands}),f);_.each((function(){l.raiseToTop(this)})),_.attr("fill",(function(e){return e.color}));var C=_.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",(function(e){return e.color})).attr("fill-opacity",0);_.attr("fill",(function(e){return e.color})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attr("y",(function(e){return e.y})).attr("cursor",(function(e){return"fixed"===e.parcatsViewModel.arrangement?"default":"perpendicular"===e.parcatsViewModel.arrangement?"ns-resize":"move"})),I(C),_.exit().remove(),M.append("text").attr("class","catlabel").attr("pointer-events","none");var O=t._fullLayout.paper_bgcolor;A.select("text.catlabel").attr("text-anchor",(function(e){return h(e)?"start":"end"})).attr("alignment-baseline","middle").style("text-shadow",u.makeTextShadow(O)).style("fill","rgb(0, 0, 0)").attr("x",(function(e){return h(e)?e.width+5:-5})).attr("y",(function(e){return e.height/2})).text((function(e){return e.model.categoryLabel})).each((function(e){c.font(a.select(this),e.parcatsViewModel.categorylabelfont),u.convertToTspans(a.select(this),t)})),M.append("text").attr("class","dimlabel"),A.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",(function(e){return"fixed"===e.parcatsViewModel.arrangement?"default":"ew-resize"})).attr("x",(function(e){return e.width/2})).attr("y",-5).text((function(e,t){return 0===t?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null})).each((function(e){c.font(a.select(this),e.parcatsViewModel.labelfont)})),A.selectAll("rect.bandrect").on("mouseover",D).on("mouseout",S),A.exit().remove(),k.call(a.behavior.drag().origin((function(e){return{x:e.x,y:0}})).on("dragstart",V).on("drag",L).on("dragend",P)),d.each((function(e){e.traceSelection=a.select(this),e.pathSelection=a.select(this).selectAll("g.paths").selectAll("path.path"),e.dimensionSelection=a.select(this).selectAll("g.dimensions").selectAll("g.dimension")})),d.exit().remove()}function f(e){return e.key}function h(e){var t=e.parcatsViewModel.dimensions.length,n=e.parcatsViewModel.dimensions[t-1].model.dimensionInd;return e.model.dimensionInd===n}function v(e,t){return e.model.rawColor>t.model.rawColor?1:e.model.rawColor<t.model.rawColor?-1:0}function m(e){if(!e.parcatsViewModel.dragDimension&&-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){l.raiseToTop(this),k(a.select(this));var t=y(e),n=x(e);if(e.parcatsViewModel.graphDiv.emit("plotly_hover",{points:t,event:a.event,constraints:n}),-1===e.parcatsViewModel.hoverinfoItems.indexOf("none")){var r,i,s,c=a.mouse(this)[0],u=e.parcatsViewModel.graphDiv,p=e.parcatsViewModel.trace,f=u._fullLayout,h=f._paperdiv.node().getBoundingClientRect(),v=e.parcatsViewModel.graphDiv.getBoundingClientRect();for(s=0;s<e.leftXs.length-1;s++)if(e.leftXs[s]+e.dimWidths[s]-2<=c&&c<=e.leftXs[s+1]+2){var m=e.parcatsViewModel.dimensions[s],g=e.parcatsViewModel.dimensions[s+1];r=(m.x+m.width+g.x)/2,i=(e.topYs[s]+e.topYs[s+1]+e.height)/2;break}var b=e.parcatsViewModel.x+r,w=e.parcatsViewModel.y+i,T=d.mostReadable(e.model.color,["black","white"]),I=e.model.count,A=I/e.parcatsViewModel.model.count,M={countLabel:I,probabilityLabel:A.toFixed(3)},_=[];-1!==e.parcatsViewModel.hoverinfoItems.indexOf("count")&&_.push(["Count:",M.countLabel].join(" ")),-1!==e.parcatsViewModel.hoverinfoItems.indexOf("probability")&&_.push(["P:",M.probabilityLabel].join(" "));var C=_.join("<br>"),D=a.mouse(u)[0];o.loneHover({trace:p,x:b-h.left+v.left,y:w-h.top+v.top,text:C,color:e.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:T,idealAlign:D<b?"right":"left",hovertemplate:(p.line||{}).hovertemplate,hovertemplateLabels:M,eventData:[{data:p._input,fullData:p,count:I,probability:A}]},{container:f._hoverlayer.node(),outerContainer:f._paper.node(),gd:u})}}}function g(e){if(!e.parcatsViewModel.dragDimension&&(w(a.select(this)),o.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),e.parcatsViewModel.pathSelection.sort(v),-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var t=y(e),n=x(e);e.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:t,event:a.event,constraints:n})}}function y(e){for(var t=[],n=O(e.parcatsViewModel),a=0;a<e.model.valueInds.length;a++){var r=e.model.valueInds[a];t.push({curveNumber:n,pointNumber:r})}return t}function x(e){for(var t={},n=e.parcatsViewModel.model.dimensions,a=0;a<n.length;a++){var r=n[a],i=r.categories[e.model.categoryInds[a]];t[r.containerInd]=i.categoryValue}return void 0!==e.model.rawColor&&(t.color=e.model.rawColor),t}function b(e){if(-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){var t=y(e),n=x(e);e.parcatsViewModel.graphDiv.emit("plotly_click",{points:t,event:a.event,constraints:n})}}function w(e){e.attr("fill",(function(e){return e.model.color})).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function k(e){e.attr("fill-opacity",.8).attr("stroke",(function(e){return d.mostReadable(e.model.color,["black","white"])})).attr("stroke-width",.3)}function T(e){e.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function I(e){e.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(e){var t=e.parcatsViewModel.pathSelection,n=e.categoryViewModel.model.dimensionInd,a=e.categoryViewModel.model.categoryInd;return t.filter((function(t){return t.model.categoryInds[n]===a&&t.model.color===e.color}))}function M(e,t,n){var r=a.select(e).datum(),i=r.categoryViewModel.model,o=r.parcatsViewModel.graphDiv,l=a.select(e.parentNode).selectAll("rect.bandrect"),s=[];l.each((function(e){A(e).each((function(e){Array.prototype.push.apply(s,y(e))}))}));var c={};c[i.dimensionInd]=i.categoryValue,o.emit(t,{points:s,event:n,constraints:c})}function _(e,t,n){var r=a.select(e).datum(),i=r.categoryViewModel.model,o=r.parcatsViewModel.graphDiv,l=A(r),s=[];l.each((function(e){Array.prototype.push.apply(s,y(e))}));var c={};c[i.dimensionInd]=i.categoryValue,void 0!==r.rawColor&&(c.color=r.rawColor),o.emit(t,{points:s,event:n,constraints:c})}function C(e,t,n){e._fullLayout._calcInverseTransform(e);var r,i,o=e._fullLayout._invScaleX,l=e._fullLayout._invScaleY,s=a.select(n.parentNode).select("rect.catrect"),c=s.node().getBoundingClientRect(),d=s.datum(),u=d.parcatsViewModel,p=u.model.dimensions[d.model.dimensionInd],f=u.trace,h=c.top+c.height/2;u.dimensions.length>1&&p.displayInd===u.dimensions.length-1?(r=c.left,i="left"):(r=c.left+c.width,i="right");var v=d.model.count,m=d.model.categoryLabel,g=v/d.parcatsViewModel.model.count,y={countLabel:v,categoryLabel:m,probabilityLabel:g.toFixed(3)},x=[];-1!==d.parcatsViewModel.hoverinfoItems.indexOf("count")&&x.push(["Count:",y.countLabel].join(" ")),-1!==d.parcatsViewModel.hoverinfoItems.indexOf("probability")&&x.push(["P("+y.categoryLabel+"):",y.probabilityLabel].join(" "));var b=x.join("<br>");return{trace:f,x:o*(r-t.left),y:l*(h-t.top),text:b,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:i,hovertemplate:f.hovertemplate,hovertemplateLabels:y,eventData:[{data:f._input,fullData:f,count:v,category:m,probability:g}]}}function D(e){if(!e.parcatsViewModel.dragDimension&&-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(a.mouse(this)[1]<-1)return;var t,n=e.parcatsViewModel.graphDiv,r=n._fullLayout,i=r._paperdiv.node().getBoundingClientRect(),s=e.parcatsViewModel.hoveron,c=this;if("color"===s?(!function(e){var t=a.select(e).datum(),n=A(t);k(n),n.each((function(){l.raiseToTop(this)})),a.select(e.parentNode).selectAll("rect.bandrect").filter((function(e){return e.color===t.color})).each((function(){l.raiseToTop(this),a.select(this).attr("stroke","black").attr("stroke-width",1.5)}))}(c),_(c,"plotly_hover",a.event)):(!function(e){a.select(e.parentNode).selectAll("rect.bandrect").each((function(e){var t=A(e);k(t),t.each((function(){l.raiseToTop(this)}))})),a.select(e.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(c),M(c,"plotly_hover",a.event)),-1===e.parcatsViewModel.hoverinfoItems.indexOf("none"))"category"===s?t=C(n,i,c):"color"===s?t=function(e,t,n){e._fullLayout._calcInverseTransform(e);var r,i,o=e._fullLayout._invScaleX,l=e._fullLayout._invScaleY,s=n.getBoundingClientRect(),c=a.select(n).datum(),u=c.categoryViewModel,p=u.parcatsViewModel,f=p.model.dimensions[u.model.dimensionInd],h=p.trace,v=s.y+s.height/2;p.dimensions.length>1&&f.displayInd===p.dimensions.length-1?(r=s.left,i="left"):(r=s.left+s.width,i="right");var m=u.model.categoryLabel,g=c.parcatsViewModel.model.count,y=0;c.categoryViewModel.bands.forEach((function(e){e.color===c.color&&(y+=e.count)}));var x=u.model.count,b=0;p.pathSelection.each((function(e){e.model.color===c.color&&(b+=e.model.count)}));var w=y/g,k=y/b,T=y/x,I={countLabel:g,categoryLabel:m,probabilityLabel:w.toFixed(3)},A=[];-1!==u.parcatsViewModel.hoverinfoItems.indexOf("count")&&A.push(["Count:",I.countLabel].join(" ")),-1!==u.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(A.push("P(color \u2229 "+m+"): "+I.probabilityLabel),A.push("P("+m+" | color): "+k.toFixed(3)),A.push("P(color | "+m+"): "+T.toFixed(3)));var M=A.join("<br>"),_=d.mostReadable(c.color,["black","white"]);return{trace:h,x:o*(r-t.left),y:l*(v-t.top),text:M,color:c.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:_,fontSize:10,idealAlign:i,hovertemplate:h.hovertemplate,hovertemplateLabels:I,eventData:[{data:h._input,fullData:h,category:m,count:g,probability:w,categorycount:x,colorcount:b,bandcolorcount:y}]}}(n,i,c):"dimension"===s&&(t=function(e,t,n){var r=[];return a.select(n.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each((function(){r.push(C(e,t,this))})),r}(n,i,c)),t&&o.loneHover(t,{container:r._hoverlayer.node(),outerContainer:r._paper.node(),gd:n})}}function S(e){var t=e.parcatsViewModel;if(!t.dragDimension&&(w(t.pathSelection),T(t.dimensionSelection.selectAll("g.category")),I(t.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),o.loneUnhover(t.graphDiv._fullLayout._hoverlayer.node()),t.pathSelection.sort(v),-1===t.hoverinfoItems.indexOf("skip"))){"color"===e.parcatsViewModel.hoveron?_(this,"plotly_unhover",a.event):M(this,"plotly_unhover",a.event)}}function V(e){"fixed"!==e.parcatsViewModel.arrangement&&(e.dragDimensionDisplayInd=e.model.displayInd,e.initialDragDimensionDisplayInds=e.parcatsViewModel.model.dimensions.map((function(e){return e.displayInd})),e.dragHasMoved=!1,e.dragCategoryDisplayInd=null,a.select(this).selectAll("g.category").select("rect.catrect").each((function(t){var n=a.mouse(this)[0],r=a.mouse(this)[1];-2<=n&&n<=t.width+2&&-2<=r&&r<=t.height+2&&(e.dragCategoryDisplayInd=t.model.displayInd,e.initialDragCategoryDisplayInds=e.model.categories.map((function(e){return e.displayInd})),t.model.dragY=t.y,l.raiseToTop(this.parentNode),a.select(this.parentNode).selectAll("rect.bandrect").each((function(t){t.y<r&&r<=t.y+t.height&&(e.potentialClickBand=this)})))})),e.parcatsViewModel.dragDimension=e,o.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function L(e){if("fixed"!==e.parcatsViewModel.arrangement&&(e.dragHasMoved=!0,null!==e.dragDimensionDisplayInd)){var t=e.dragDimensionDisplayInd,n=t-1,r=t+1,i=e.parcatsViewModel.dimensions[t];if(null!==e.dragCategoryDisplayInd){var o=i.categories[e.dragCategoryDisplayInd];o.model.dragY+=a.event.dy;var l=o.model.dragY,s=o.model.displayInd,c=i.categories,d=c[s-1],u=c[s+1];void 0!==d&&l<d.y+d.height/2&&(o.model.displayInd=d.model.displayInd,d.model.displayInd=s),void 0!==u&&l+o.height>u.y+u.height/2&&(o.model.displayInd=u.model.displayInd,u.model.displayInd=s),e.dragCategoryDisplayInd=o.model.displayInd}if(null===e.dragCategoryDisplayInd||"freeform"===e.parcatsViewModel.arrangement){i.model.dragX=a.event.x;var p=e.parcatsViewModel.dimensions[n],f=e.parcatsViewModel.dimensions[r];void 0!==p&&i.model.dragX<p.x+p.width&&(i.model.displayInd=p.model.displayInd,p.model.displayInd=t),void 0!==f&&i.model.dragX+i.width>f.x&&(i.model.displayInd=f.model.displayInd,f.model.displayInd=e.dragDimensionDisplayInd),e.dragDimensionDisplayInd=i.model.displayInd}F(e.parcatsViewModel),R(e.parcatsViewModel),N(e.parcatsViewModel),B(e.parcatsViewModel)}}function P(e){if("fixed"!==e.parcatsViewModel.arrangement&&null!==e.dragDimensionDisplayInd){a.select(this).selectAll("text").attr("font-weight","normal");var t={},n=O(e.parcatsViewModel),r=e.parcatsViewModel.model.dimensions.map((function(e){return e.displayInd})),o=e.initialDragDimensionDisplayInds.some((function(e,t){return e!==r[t]}));o&&r.forEach((function(n,a){var r=e.parcatsViewModel.model.dimensions[a].containerInd;t["dimensions["+r+"].displayindex"]=n}));var l=!1;if(null!==e.dragCategoryDisplayInd){var s=e.model.categories.map((function(e){return e.displayInd}));if(l=e.initialDragCategoryDisplayInds.some((function(e,t){return e!==s[t]}))){var c=e.model.categories.slice().sort((function(e,t){return e.displayInd-t.displayInd})),d=c.map((function(e){return e.categoryValue})),u=c.map((function(e){return e.categoryLabel}));t["dimensions["+e.model.containerInd+"].categoryarray"]=[d],t["dimensions["+e.model.containerInd+"].ticktext"]=[u],t["dimensions["+e.model.containerInd+"].categoryorder"]="array"}}if(-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!e.dragHasMoved&&e.potentialClickBand&&("color"===e.parcatsViewModel.hoveron?_(e.potentialClickBand,"plotly_click",a.event.sourceEvent):M(e.potentialClickBand,"plotly_click",a.event.sourceEvent)),e.model.dragX=null,null!==e.dragCategoryDisplayInd)e.parcatsViewModel.dimensions[e.dragDimensionDisplayInd].categories[e.dragCategoryDisplayInd].model.dragY=null,e.dragCategoryDisplayInd=null;e.dragDimensionDisplayInd=null,e.parcatsViewModel.dragDimension=null,e.dragHasMoved=null,e.potentialClickBand=null,F(e.parcatsViewModel),R(e.parcatsViewModel),a.transition().duration(300).ease("cubic-in-out").each((function(){N(e.parcatsViewModel,!0),B(e.parcatsViewModel,!0)})).each("end",(function(){(o||l)&&i.restyle(e.parcatsViewModel.graphDiv,t,[n])}))}}function O(e){for(var t,n=e.graphDiv._fullData,a=0;a<n.length;a++)if(e.key===n[a].uid){t=a;break}return t}function B(e,t){var n;void 0===t&&(t=!1),e.pathSelection.data((function(e){return e.paths}),f),(n=e.pathSelection,t?n.transition():n).attr("d",(function(e){return e.svgD}))}function N(e,t){function n(e){return t?e.transition():e}void 0===t&&(t=!1),e.dimensionSelection.data((function(e){return e.dimensions}),f);var r=e.dimensionSelection.selectAll("g.category").data((function(e){return e.categories}),f);n(e.dimensionSelection).attr("transform",(function(e){return s(e.x,0)})),n(r).attr("transform",(function(e){return s(0,e.y)})),r.select(".dimlabel").text((function(e,t){return 0===t?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null})),r.select(".catlabel").attr("text-anchor",(function(e){return h(e)?"start":"end"})).attr("x",(function(e){return h(e)?e.width+5:-5})).each((function(e){var t,n;h(e)?(t=e.width+5,n="start"):(t=-5,n="end"),a.select(this).selectAll("tspan").attr("x",t).attr("text-anchor",n)}));var i=r.selectAll("rect.bandrect").data((function(e){return e.bands}),f),o=i.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",(function(e){return e.color})).attr("fill-opacity",0);i.attr("fill",(function(e){return e.color})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attr("y",(function(e){return e.y})),I(o),i.each((function(){l.raiseToTop(this)})),i.exit().remove()}function j(e,t,n){var a,r=n[0],i=t.margin||{l:80,r:80,t:100,b:80},o=r.trace,l=o.domain,s=t.width,c=t.height,d=Math.floor(s*(l.x[1]-l.x[0])),u=Math.floor(c*(l.y[1]-l.y[0])),p=l.x[0]*s+i.l,f=t.height-l.y[1]*t.height+i.t,h=o.line.shape;a="all"===o.hoverinfo?["count","probability"]:(o.hoverinfo||"").split("+");var v={trace:o,key:o.uid,model:r,x:p,y:f,width:d,height:u,hoveron:o.hoveron,hoverinfoItems:a,arrangement:o.arrangement,bundlecolors:o.bundlecolors,sortpaths:o.sortpaths,labelfont:o.labelfont,categorylabelfont:o.tickfont,pathShape:h,dragDimension:null,margin:i,paths:[],dimensions:[],graphDiv:e,traceSelection:null,pathSelection:null,dimensionSelection:null};return r.dimensions&&(F(v),R(v)),v}function E(e,t,n,a,i){var o,l,s=[],c=[];for(l=0;l<n.length-1;l++)o=r(n[l]+e[l],e[l+1]),s.push(o(i)),c.push(o(1-i));var d="M "+e[0]+","+t[0];for(d+="l"+n[0]+",0 ",l=1;l<n.length;l++)d+="C"+s[l-1]+","+t[l-1]+" "+c[l-1]+","+t[l]+" "+e[l]+","+t[l],d+="l"+n[l]+",0 ";for(d+="l0,"+a+" ",d+="l -"+n[n.length-1]+",0 ",l=n.length-2;l>=0;l--)d+="C"+c[l]+","+(t[l+1]+a)+" "+s[l]+","+(t[l]+a)+" "+(e[l]+n[l])+","+(t[l]+a),d+="l-"+n[l]+",0 ";return d+="Z"}function R(e){var t=e.dimensions,n=e.model,a=t.map((function(e){return e.categories.map((function(e){return e.y}))})),r=e.model.dimensions.map((function(e){return e.categories.map((function(e){return e.displayInd}))})),i=e.model.dimensions.map((function(e){return e.displayInd})),o=e.dimensions.map((function(e){return e.model.dimensionInd})),l=t.map((function(e){return e.x})),s=t.map((function(e){return e.width})),c=[];for(var d in n.paths)n.paths.hasOwnProperty(d)&&c.push(n.paths[d]);function u(e){var t=e.categoryInds.map((function(e,t){return r[t][e]}));return o.map((function(e){return t[e]}))}c.sort((function(t,n){var a=u(t),r=u(n);return"backward"===e.sortpaths&&(a.reverse(),r.reverse()),a.push(t.valueInds[0]),r.push(n.valueInds[0]),e.bundlecolors&&(a.unshift(t.rawColor),r.unshift(n.rawColor)),a<r?-1:a>r?1:0}));for(var p=new Array(c.length),f=t[0].model.count,h=t[0].categories.map((function(e){return e.height})).reduce((function(e,t){return e+t})),v=0;v<c.length;v++){var m,g=c[v];m=f>0?h*(g.count/f):0;for(var y,x=new Array(a.length),b=0;b<g.categoryInds.length;b++){var w=g.categoryInds[b],k=r[b][w],T=i[b];x[T]=a[T][k],a[T][k]+=m;var I=e.dimensions[T].categories[k],A=I.bands.length,M=I.bands[A-1];if(void 0===M||g.rawColor!==M.rawColor){var _=void 0===M?0:M.y+M.height;I.bands.push({key:_,color:g.color,rawColor:g.rawColor,height:m,width:I.width,count:g.count,y:_,categoryViewModel:I,parcatsViewModel:e})}else{var C=I.bands[A-1];C.height+=m,C.count+=g.count}}y="hspline"===e.pathShape?E(l,x,s,m,.5):E(l,x,s,m,0),p[v]={key:g.valueInds[0],model:g,height:m,leftXs:l,topYs:x,dimWidths:s,svgD:y,parcatsViewModel:e}}e.paths=p}function F(e){var t=e.model.dimensions.map((function(e){return{displayInd:e.displayInd,dimensionInd:e.dimensionInd}}));t.sort((function(e,t){return e.displayInd-t.displayInd}));var n=[];for(var a in t){var r=t[a].dimensionInd,i=e.model.dimensions[r];n.push(X(e,i))}e.dimensions=n}function X(e,t){var n,a=e.model.dimensions.length,r=t.displayInd;n=40+(a>1?(e.width-80-16)/(a-1):0)*r;var i,o,l,s,c,d=[],u=e.model.maxCats,p=t.categories.length,f=t.count,h=e.height-8*(u-1),v=8*(u-p)/2,m=t.categories.map((function(e){return{displayInd:e.displayInd,categoryInd:e.categoryInd}}));for(m.sort((function(e,t){return e.displayInd-t.displayInd})),c=0;c<p;c++)s=m[c].categoryInd,o=t.categories[s],i=f>0?o.count/f*h:0,l={key:o.valueInds[0],model:o,width:16,height:i,y:null!==o.dragY?o.dragY:v,bands:[],parcatsViewModel:e},v=v+i+8,d.push(l);return{key:t.dimensionInd,x:null!==t.dragX?t.dragX:n,y:0,width:16,model:t,categories:d,parcatsViewModel:e,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}e.exports=function(e,t,n,a){p(n,e,a,t)}},79054:function(e,t,n){var a=n(33859);e.exports=function(e,t,n,r){var i=e._fullLayout,o=i._paper,l=i._size;a(e,o,t,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},n,r)}},60013:function(e,t,n){var a=n(97451),r=n(33333),i=n(5153),o=n(16688).u,l=n(87241).extendFlat,s=n(92704).templatedArray;e.exports={domain:o({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot",description:["Sets the angle of the labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the labels vertically.","Tilted labels with *labelangle* may be positioned better","inside margins when `labelposition` is set to *bottom*."].join(" ")},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot",description:["Specifies the location of the `label`.","*top* positions labels above, next to the title","*bottom* positions labels below the graph","Tilted labels with *labelangle* may be positioned better","inside margins when `labelposition` is set to *bottom*."].join(" ")},labelfont:i({editType:"plot",description:"Sets the font for the `dimension` labels."}),tickfont:i({editType:"plot",description:"Sets the font for the `dimension` tick values."}),rangefont:i({editType:"plot",description:"Sets the font for the `dimension` range values."}),dimensions:s("dimension",{label:{valType:"string",editType:"plot",description:"The shown name of the dimension."},tickvals:l({},r.tickvals,{editType:"plot",description:["Sets the values at which ticks on this axis appear."].join(" ")}),ticktext:l({},r.ticktext,{editType:"plot",description:["Sets the text displayed at the ticks position via `tickvals`."].join(" ")}),tickformat:l({},r.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot",description:["The domain range that represents the full, shown axis extent. Defaults to the `values` extent.","Must be an array of `[fromValue, toValue]` with finite numbers as elements."].join(" ")},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["The domain range to which the filter on the dimension is constrained. Must be an array","of `[fromValue, toValue]` with `fromValue <= toValue`, or if `multiselect` is not","disabled, you may give an array of arrays, where each inner array is `[fromValue, toValue]`."].join(" ")},multiselect:{valType:"boolean",dflt:!0,editType:"plot",description:"Do we allow multiple selection ranges or just a single range?"},values:{valType:"data_array",editType:"calc",description:["Dimension values. `values[n]` represents the value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated). Each value must be a finite number."].join(" ")},editType:"calc",description:"The dimensions (variables) of the parallel coordinates chart. 2..60 dimensions are supported."}),line:l({editType:"calc"},a("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"}))}},36381:function(e,t,n){var a=n(41479),r=n(62258),i=n(84941).keyFun,o=n(84941).repeat,l=n(47401).sorterAsc,s=n(47401).strTranslate,c=a.bar.snapRatio;function d(e,t){return e*(1-c)+t*c}var u=a.bar.snapClose;function p(e,t){return e*(1-u)+t*u}function f(e,t,n,a){if(function(e,t){for(var n=0;n<t.length;n++)if(e>=t[n][0]&&e<=t[n][1])return!0;return!1}(n,a))return n;var r=e?-1:1,i=0,o=t.length-1;if(r<0){var l=i;i=o,o=l}for(var s=t[i],c=s,u=i;r*u<r*o;u+=r){var f=u+r,h=t[f];if(r*n<r*p(s,h))return d(s,c);if(r*n<r*h||f===o)return d(h,s);c=s,s=h}}function h(e){e.attr("x",-a.bar.captureWidth/2).attr("width",a.bar.captureWidth)}function v(e){e.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(e){if(!e.brush.filterSpecified)return"0,"+e.height;for(var t,n,a,r=g(e.brush.filter.getConsolidated(),e.height),i=[0],o=r.length?r[0][0]:null,l=0;l<r.length;l++)n=(t=r[l])[1]-t[0],i.push(o),i.push(n),(a=l+1)<r.length&&(o=r[a][0]-t[1]);return i.push(e.height),i}function g(e,t){return e.map((function(e){return e.map((function(e){return Math.max(0,e*t)})).sort(l)}))}function y(){r.select(document.body).style("cursor",null)}function x(e){e.attr("stroke-dasharray",m)}function b(e,t){var n=r.select(e).selectAll(".highlight, .highlight-shadow");x(t?n.transition().duration(a.bar.snapDuration).each("end",t):n)}function w(e,t){var n,r=e.brush,i=NaN,o={};if(r.filterSpecified){var l=e.height,s=r.filter.getConsolidated(),c=g(s,l),d=NaN,u=NaN,p=NaN;for(n=0;n<=c.length;n++){var f=c[n];if(f&&f[0]<=t&&t<=f[1]){d=n;break}if(u=n?n-1:NaN,f&&f[0]>t){p=n;break}}if(i=d,isNaN(i)&&(i=isNaN(u)||isNaN(p)?isNaN(u)?p:u:t-c[u][1]<c[p][0]-t?u:p),!isNaN(i)){var h=c[i],v=function(e,t){var n=a.bar.handleHeight;if(!(t>e[1]+n||t<e[0]-n))return t>=.9*e[1]+.1*e[0]?"n":t<=.9*e[0]+.1*e[1]?"s":"ns"}(h,t);v&&(o.interval=s[i],o.intervalPix=h,o.region=v)}}if(e.ordinal&&!o.region){var m=e.unitTickvals,y=e.unitToPaddedPx.invert(t);for(n=0;n<m.length;n++){var x=[.25*m[Math.max(n-1,0)]+.75*m[n],.25*m[Math.min(n+1,m.length-1)]+.75*m[n]];if(y>=x[0]&&y<=x[1]){o.clickableOrdinalRange=x;break}}}return o}function k(e,t){r.event.sourceEvent.stopPropagation();var n=t.height-r.mouse(e)[1]-2*a.verticalPadding,i=t.brush.svgBrush;i.wasDragged=!0,i._dragging=!0,i.grabbingBar?i.newExtent=[n-i.grabPoint,n+i.barLength-i.grabPoint].map(t.unitToPaddedPx.invert):i.newExtent=[i.startExtent,t.unitToPaddedPx.invert(n)].sort(l),t.brush.filterSpecified=!0,i.extent=i.stayingIntervals.concat([i.newExtent]),i.brushCallback(t),b(e.parentNode)}function T(e,t){var n=w(t,t.height-r.mouse(e)[1]-2*a.verticalPadding),i="crosshair";n.clickableOrdinalRange?i="pointer":n.region&&(i=n.region+"-resize"),r.select(document.body).style("cursor",i)}function I(e){e.on("mousemove",(function(e){r.event.preventDefault(),e.parent.inBrushDrag||T(this,e)})).on("mouseleave",(function(e){e.parent.inBrushDrag||y()})).call(r.behavior.drag().on("dragstart",(function(e){!function(e,t){r.event.sourceEvent.stopPropagation();var n=t.height-r.mouse(e)[1]-2*a.verticalPadding,i=t.unitToPaddedPx.invert(n),o=t.brush,l=w(t,n),s=l.interval,c=o.svgBrush;if(c.wasDragged=!1,c.grabbingBar="ns"===l.region,c.grabbingBar){var d=s.map(t.unitToPaddedPx);c.grabPoint=n-d[0]-a.verticalPadding,c.barLength=d[1]-d[0]}c.clickableOrdinalRange=l.clickableOrdinalRange,c.stayingIntervals=t.multiselect&&o.filterSpecified?o.filter.getConsolidated():[],s&&(c.stayingIntervals=c.stayingIntervals.filter((function(e){return e[0]!==s[0]&&e[1]!==s[1]}))),c.startExtent=l.region?s["s"===l.region?1:0]:i,t.parent.inBrushDrag=!0,c.brushStartCallback()}(this,e)})).on("drag",(function(e){k(this,e)})).on("dragend",(function(e){!function(e,t){var n=t.brush,a=n.filter,i=n.svgBrush;i._dragging||(T(e,t),k(e,t),t.brush.svgBrush.wasDragged=!1),i._dragging=!1,r.event.sourceEvent.stopPropagation();var o=i.grabbingBar;if(i.grabbingBar=!1,i.grabLocation=void 0,t.parent.inBrushDrag=!1,y(),!i.wasDragged)return i.wasDragged=void 0,i.clickableOrdinalRange?n.filterSpecified&&t.multiselect?i.extent.push(i.clickableOrdinalRange):(i.extent=[i.clickableOrdinalRange],n.filterSpecified=!0):o?(i.extent=i.stayingIntervals,0===i.extent.length&&M(n)):M(n),i.brushCallback(t),b(e.parentNode),void i.brushEndCallback(n.filterSpecified?a.getConsolidated():[]);var l=function(){a.set(a.getConsolidated())};if(t.ordinal){var s=t.unitTickvals;s[s.length-1]<s[0]&&s.reverse(),i.newExtent=[f(0,s,i.newExtent[0],i.stayingIntervals),f(1,s,i.newExtent[1],i.stayingIntervals)];var c=i.newExtent[1]>i.newExtent[0];i.extent=i.stayingIntervals.concat(c?[i.newExtent]:[]),i.extent.length||M(n),i.brushCallback(t),c?b(e.parentNode,l):(l(),b(e.parentNode))}else l();i.brushEndCallback(n.filterSpecified?a.getConsolidated():[])}(this,e)})))}function A(e,t){return e[0]-t[0]}function M(e){e.filterSpecified=!1,e.svgBrush.extent=[[-1/0,1/0]]}function _(e){for(var t,n=e.slice(),a=[],r=n.shift();r;){for(t=r.slice();(r=n.shift())&&r[0]<=t[1];)t[1]=Math.max(t[1],r[1]);a.push(t)}return 1===a.length&&a[0][0]>a[0][1]&&(a=[]),a}e.exports={makeBrush:function(e,t,n,a,r,i){var o,s=function(){var e,t,n=[];return{set:function(a){1===(n=a.map((function(e){return e.slice().sort(l)})).sort(A)).length&&n[0][0]===-1/0&&n[0][1]===1/0&&(n=[[0,-1]]),e=_(n),t=n.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0])},get:function(){return n.slice()},getConsolidated:function(){return e},getBounds:function(){return t}}}();return s.set(n),{filter:s,filterSpecified:t,svgBrush:{extent:[],brushStartCallback:a,brushCallback:(o=r,function(e){var t=e.brush,n=function(e){return e.svgBrush.extent.map((function(e){return e.slice()}))}(t),a=n.slice();t.filter.set(a),o()}),brushEndCallback:i}}},ensureAxisBrush:function(e,t){var n=e.selectAll("."+a.cn.axisBrush).data(o,i);n.enter().append("g").classed(a.cn.axisBrush,!0),function(e,t){var n=e.selectAll(".background").data(o);n.enter().append("rect").classed("background",!0).call(h).call(v).style("pointer-events","auto").attr("transform",s(0,a.verticalPadding)),n.call(I).attr("height",(function(e){return e.height-a.verticalPadding}));var r=e.selectAll(".highlight-shadow").data(o);r.enter().append("line").classed("highlight-shadow",!0).attr("x",-a.bar.width/2).attr("stroke-width",a.bar.width+a.bar.strokeWidth).attr("stroke",t).attr("opacity",a.bar.strokeOpacity).attr("stroke-linecap","butt"),r.attr("y1",(function(e){return e.height})).call(x);var i=e.selectAll(".highlight").data(o);i.enter().append("line").classed("highlight",!0).attr("x",-a.bar.width/2).attr("stroke-width",a.bar.width-a.bar.strokeWidth).attr("stroke",a.bar.fillColor).attr("opacity",a.bar.fillOpacity).attr("stroke-linecap","butt"),i.attr("y1",(function(e){return e.height})).call(x)}(n,t)},cleanRanges:function(e,t){if(Array.isArray(e[0])?(e=e.map((function(e){return e.sort(l)})),e=t.multiselect?_(e.sort(A)):[e[0]]):e=[e.sort(l)],t.tickvals){var n=t.tickvals.slice().sort(l);if(!(e=e.map((function(e){var t=[f(0,n,e[0],[]),f(1,n,e[1],[])];if(t[1]>t[0])return t})).filter((function(e){return e}))).length)return}return e.length>1?e:e[0]}}},85271:function(e,t,n){var a=n(62258),r=n(13373).eV,i=n(95703),o=n(6412);t.name="parcoords",t.plot=function(e){var t=r(e.calcdata,"parcoords")[0];t.length&&i(e,t)},t.clean=function(e,t,n,a){var r=a._has&&a._has("parcoords"),i=t._has&&t._has("parcoords");r&&!i&&(a._paperdiv.selectAll(".parcoords").remove(),a._glimages.selectAll("*").remove())},t.toSVG=function(e){var t=e._fullLayout._glimages,n=a.select(e).selectAll(".svg-container");n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:o.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.style.width,height:e.style.height})})),window.setTimeout((function(){a.selectAll("#filterBarPattern").attr("id","filterBarPattern")}),60)}},15521:function(e,t,n){var a=n(47401).isArrayOrTypedArray,r=n(47624),i=n(84941).wrap;e.exports=function(e,t){var n,o;return r.hasColorscale(t,"line")&&a(t.line.color)?(n=t.line.color,o=r.extractOpts(t.line).colorscale,r.calc(e,t,{vals:n,containerStr:"line",cLetter:"c"})):(n=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=.5;return t}(t._length),o=[[0,t.line.color],[1,t.line.color]]),i({lineColor:n,cscale:o})}},41479:function(e){e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,deselectedLineColor:"#777",bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},65210:function(e,t,n){var a=n(47401),r=n(8757).hasColorscale,i=n(94060),o=n(16688).N,l=n(26800),s=n(37762),c=n(60013),d=n(36381),u=n(41479).maxDimensionCount,p=n(94029);function f(e,t,n,r){function i(n,r){return a.coerce(e,t,c.dimensions,n,r)}var o=i("values"),l=i("visible");if(o&&o.length||(l=t.visible=!1),l){i("label"),i("tickvals"),i("ticktext"),i("tickformat");var u=i("range");t._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:u},s.setConvert(t._ax,r.layout),i("multiselect");var p=i("constraintrange");p&&(t.constraintrange=d.cleanRanges(p,t))}}e.exports=function(e,t,n,s){function d(n,r){return a.coerce(e,t,c,n,r)}var h=e.dimensions;Array.isArray(h)&&h.length>u&&(a.log("parcoords traces support up to "+u+" dimensions at the moment"),h.splice(u));var v=l(e,t,{name:"dimensions",layout:s,handleItemDefaults:f}),m=function(e,t,n,o,l){var s=l("line.color",n);if(r(e,"line")&&a.isArrayOrTypedArray(s)){if(s.length)return l("line.colorscale"),i(e,t,o,l,{prefix:"line.",cLetter:"c"}),s.length;t.line.color=n}return 1/0}(e,t,n,s,d);o(t,s,d),Array.isArray(v)&&v.length||(t.visible=!1),p(t,v,"values",m);var g={family:s.font.family,size:Math.round(s.font.size/1.2),color:s.font.color};a.coerceFont(d,"labelfont",g),a.coerceFont(d,"tickfont",g),a.coerceFont(d,"rangefont",g),d("labelangle"),d("labelside")}},17543:function(e,t,n){var a=n(47401).isTypedArray;t.convertTypedArray=function(e){return a(e)?Array.prototype.slice.call(e):e},t.isOrdinal=function(e){return!!e.tickvals},t.isVisible=function(e){return e.visible||!("visible"in e)}},23510:function(e,t,n){e.exports={attributes:n(60013),supplyDefaults:n(65210),calc:n(15521),plot:n(95703),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:n(85271),categories:["gl","regl","noOpacity","noHover"],meta:{description:["Parallel coordinates for multidimensional exploratory data analysis.","The samples are specified in `dimensions`.","The colors are set in `line.color`."].join(" ")}}},87773:function(e,t,n){var a=n(14955),r=a("./shaders/vertex.glsl"),i=a("./shaders/fragment.glsl"),o=n(41479).maxDimensionCount,l=n(47401),s=1e-6,c=2048,d=new Uint8Array(4),u=new Uint8Array(4),p={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function f(e,t,n,a,r){var i=e._gl;i.enable(i.SCISSOR_TEST),i.scissor(t,n,a,r),e.clear({color:[0,0,0,0],depth:1})}function h(e,t,n,a,r,i){var o=i.key;n.drawCompleted||(!function(e){e.read({x:0,y:0,width:1,height:1,data:d})}(e),n.drawCompleted=!0),function l(s){var c=Math.min(a,r-s*a);0===s&&(window.cancelAnimationFrame(n.currentRafs[o]),delete n.currentRafs[o],f(e,i.scissorX,i.scissorY,i.scissorWidth,i.viewBoxSize[1])),n.clearOnly||(i.count=2*c,i.offset=2*s*a,t(i),s*a+c<r&&(n.currentRafs[o]=window.requestAnimationFrame((function(){l(s+1)}))),n.drawCompleted=!1)}(0)}function v(e,t){for(var n=new Array(256),a=0;a<256;a++)n[a]=e(a/255).concat(t);return n}function m(e,t){return(e>>>8*t)%256/255}function g(e,t,n){for(var a=new Array(8*t),r=0,i=0;i<t;i++)for(var o=0;o<2;o++)for(var l=0;l<4;l++){var s=4*e+l,c=n[64*i+s];63===s&&0===o&&(c*=-1),a[r++]=c}return a}function y(e){var t="0"+e;return t.substr(t.length-2)}function x(e){return e<o?"p"+y(e+1)+"_"+y(e+4):"colors"}function b(e,t,n,a,r,i,o,s,c,d,u,p,f,h){for(var v=[[],[]],m=0;m<64;m++)v[0][m]=m===r?1:0,v[1][m]=m===i?1:0;o*=h,s*=h,c*=h,d*=h;var g=e.lines.canvasOverdrag*h,y=e.domain,x=e.canvasWidth*h,b=e.canvasHeight*h,w=e.pad.l*h,k=e.pad.b*h,T=e.layoutHeight*h,I=e.layoutWidth*h,A=e.deselectedLines.color;return l.extendFlat({key:u,resolution:[x,b],viewBoxPos:[o+g,s],viewBoxSize:[c,d],i0:r,i1:i,dim0A:v[0].slice(0,16),dim0B:v[0].slice(16,32),dim0C:v[0].slice(32,48),dim0D:v[0].slice(48,64),dim1A:v[1].slice(0,16),dim1B:v[1].slice(16,32),dim1C:v[1].slice(32,48),dim1D:v[1].slice(48,64),drwLayer:p,contextColor:[A[0]/255,A[1]/255,A[2]/255,A[3]<1?A[3]:Math.max(1/255,Math.pow(1/e.lines.color.length,1/3))],scissorX:(a===t?0:o+g)+(w-g)+I*y.x[0],scissorWidth:(a===n?x-o+g:c+.5)+(a===t?o+g:0),scissorY:s+k+T*y.y[0],scissorHeight:d,viewportX:w-g+I*y.x[0],viewportY:k+T*y.y[0],viewportWidth:x,viewportHeight:b},f)}function w(e){var t=2047,n=Math.max(0,Math.floor(e[0]*t),0),a=Math.min(t,Math.ceil(e[1]*t),t);return[Math.min(n,a),Math.max(n,a)]}e.exports=function(e,t){var n,a,d,y,k,T=t.context,I=t.pick,A=t.regl,M=A._gl,_=M.getParameter(M.ALIASED_LINE_WIDTH_RANGE),C=Math.max(_[0],Math.min(_[1],t.viewModel.plotGlPixelRatio)),D={currentRafs:{},drawCompleted:!0,clearOnly:!1},S=function(e){for(var t={},n=0;n<=o;n+=4)t[x(n)]=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return t}(A),V=A.texture(p),L=[];O(t);var P=A({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:A.prop("scissorX"),y:A.prop("scissorY"),width:A.prop("scissorWidth"),height:A.prop("scissorHeight")}},viewport:{x:A.prop("viewportX"),y:A.prop("viewportY"),width:A.prop("viewportWidth"),height:A.prop("viewportHeight")},dither:!1,vert:r,frag:i,primitive:"lines",lineWidth:C,attributes:S,uniforms:{resolution:A.prop("resolution"),viewBoxPos:A.prop("viewBoxPos"),viewBoxSize:A.prop("viewBoxSize"),dim0A:A.prop("dim0A"),dim1A:A.prop("dim1A"),dim0B:A.prop("dim0B"),dim1B:A.prop("dim1B"),dim0C:A.prop("dim0C"),dim1C:A.prop("dim1C"),dim0D:A.prop("dim0D"),dim1D:A.prop("dim1D"),loA:A.prop("loA"),hiA:A.prop("hiA"),loB:A.prop("loB"),hiB:A.prop("hiB"),loC:A.prop("loC"),hiC:A.prop("hiC"),loD:A.prop("loD"),hiD:A.prop("hiD"),palette:V,contextColor:A.prop("contextColor"),maskTexture:A.prop("maskTexture"),drwLayer:A.prop("drwLayer"),maskHeight:A.prop("maskHeight")},offset:A.prop("offset"),count:A.prop("count")});function O(e){n=e.model,a=e.viewModel,d=a.dimensions.slice(),y=d[0]?d[0].values.length:0;var t=n.lines,r=I?t.color.map((function(e,n){return n/t.color.length})):t.color,i=function(e,t,n){for(var a,r=new Array(e*(o+4)),i=0,l=0;l<e;l++){for(var c=0;c<o;c++)r[i++]=c<t.length?t[c].paddedUnitValues[l]:.5;r[i++]=m(l,2),r[i++]=m(l,1),r[i++]=m(l,0),r[i++]=(a=n[l],Math.max(s,Math.min(1-s,a)))}return r}(y,d,r);!function(e,t,n){for(var a=0;a<=o;a+=4)e[x(a)](g(a/4,t,n))}(S,y,i),T||I||(V=A.texture(l.extendFlat({data:v(n.unitToColor,255)},p)))}return{render:function(e,t,a){var r,i,o,l=e.length,s=1/0,u=-1/0;for(r=0;r<l;r++)e[r].dim0.canvasX<s&&(s=e[r].dim0.canvasX,i=r),e[r].dim1.canvasX>u&&(u=e[r].dim1.canvasX,o=r);0===l&&f(A,0,0,n.canvasWidth,n.canvasHeight);var p=function(e){var t,n,a,r=[[],[]];for(a=0;a<64;a++){var i=!e&&a<d.length?d[a].brush.filter.getBounds():[-1/0,1/0];r[0][a]=i[0],r[1][a]=i[1]}var o=new Array(16384);for(t=0;t<16384;t++)o[t]=255;if(!e)for(t=0;t<d.length;t++){var l=t%8,s=(t-l)/8,u=Math.pow(2,l),p=d[t].brush.filter.get();if(!(p.length<2)){var f=w(p[0])[1];for(n=1;n<p.length;n++){var h=w(p[n]);for(a=f+1;a<h[0];a++)o[8*a+s]&=~u;f=Math.max(f,h[1])}}}var v={shape:[8,c],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:o};return k?k(v):k=A.texture(v),{maskTexture:k,maskHeight:c,loA:r[0].slice(0,16),loB:r[0].slice(16,32),loC:r[0].slice(32,48),loD:r[0].slice(48,64),hiA:r[1].slice(0,16),hiB:r[1].slice(16,32),hiC:r[1].slice(32,48),hiD:r[1].slice(48,64)}}(T);for(r=0;r<l;r++){var v=e[r],m=v.dim0.crossfilterDimensionIndex,g=v.dim1.crossfilterDimensionIndex,x=v.canvasX,M=v.canvasY,_=x+v.panelSizeX,C=v.plotGlPixelRatio;if(t||!L[m]||L[m][0]!==x||L[m][1]!==_){L[m]=[x,_];var S=b(n,i,o,r,m,g,x,M,v.panelSizeX,v.panelSizeY,v.dim0.crossfilterDimensionIndex,T?0:I?2:1,p,C);D.clearOnly=a;var V=t?n.lines.blockLineCount:y;h(A,P,D,V,y,S)}}},readPixel:function(e,t){return A.read({x:e,y:t,width:1,height:1,data:u}),u},readPixels:function(e,t,n,a){var r=new Uint8Array(4*n*a);return A.read({x:e,y:t,width:n,height:a,data:r}),r},destroy:function(){for(var t in e.style["pointer-events"]="none",V.destroy(),k&&k.destroy(),S)S[t].destroy()},update:O}}},94029:function(e){e.exports=function(e,t,n,a){var r,i;for(a||(a=1/0),r=0;r<t.length;r++)(i=t[r]).visible&&(a=Math.min(a,i[n].length));for(a===1/0&&(a=0),e._length=a,r=0;r<t.length;r++)(i=t[r]).visible&&(i._length=a);return a}},72547:function(e,t,n){var a=n(62258),r=n(47401),i=r.numberFormat,o=n(46772),l=n(37762),s=r.strRotate,c=r.strTranslate,d=n(43995),u=n(41707),p=n(47624),f=n(84941),h=f.keyFun,v=f.repeat,m=f.unwrap,g=n(17543),y=n(41479),x=n(36381),b=n(87773);function w(e,t,n){return r.aggNums(e,null,t,n)}function k(e,t){return I(w(Math.min,e,t),w(Math.max,e,t))}function T(e){var t=e.range;return t?I(t[0],t[1]):k(e.values,e._length)}function I(e,t){return!isNaN(e)&&isFinite(e)||(e=0),!isNaN(t)&&isFinite(t)||(t=0),e===t&&(0===e?(e-=1,t+=1):(e*=.9,t*=1.1)),[e,t]}function A(e,t,n,r,o){var l,s,c=T(n);return r?a.scale.ordinal().domain(r.map((l=i(n.tickformat),s=o,s?function(e,t){var n=s[t];return null===n||void 0===n?l(e):n}:l))).range(r.map((function(n){var a=(n-c[0])/(c[1]-c[0]);return e-t+a*(2*t-e)}))):a.scale.linear().domain(c).range([e-t,t])}function M(e){if(e.tickvals){var t=T(e);return a.scale.ordinal().domain(e.tickvals).range(e.tickvals.map((function(e){return(e-t[0])/(t[1]-t[0])})))}}function _(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){var t=o(e[1]);return a.rgb("rgb("+t[0]+","+t[1]+","+t[2]+")")})),r="rgb".split("").map((function(e){return a.scale.linear().clamp(!0).domain(t).range(n.map((r=e,function(e){return e[r]})));var r}));return function(e){return r.map((function(t){return t(e)}))}}function C(e){return e.dimensions.some((function(e){return e.brush.filterSpecified}))}function D(e,t,n){var i=m(t),l=i.trace,s=g.convertTypedArray(i.lineColor),c=l.line,d={color:o(y.deselectedLineColor)},u=p.extractOpts(c),f=u.reversescale?p.flipScale(i.cscale):i.cscale,h=l.domain,v=l.dimensions,x=e.width,b=l.labelangle,w=l.labelside,k=l.labelfont,I=l.tickfont,A=l.rangefont,M=r.extendDeepNoArrays({},c,{color:s.map(a.scale.linear().domain(T({values:s,range:[u.min,u.max],_length:l._length}))),blockLineCount:y.blockLineCount,canvasOverdrag:y.overdrag*y.canvasPixelRatio}),C=Math.floor(x*(h.x[1]-h.x[0])),D=Math.floor(e.height*(h.y[1]-h.y[0])),S=e.margin||{l:80,r:80,t:100,b:80},V=C,L=D;return{key:n,colCount:v.filter(g.isVisible).length,dimensions:v,tickDistance:y.tickDistance,unitToColor:_(f),lines:M,deselectedLines:d,labelAngle:b,labelSide:w,labelFont:k,tickFont:I,rangeFont:A,layoutWidth:x,layoutHeight:e.height,domain:h,translateX:h.x[0]*x,translateY:e.height-h.y[1]*e.height,pad:S,canvasWidth:V*y.canvasPixelRatio+2*M.canvasOverdrag,canvasHeight:L*y.canvasPixelRatio,width:V,height:L,canvasPixelRatio:y.canvasPixelRatio}}function S(e,t,n){var o=n.width,l=n.height,s=n.dimensions,c=n.canvasPixelRatio,d=function(e){return o*e/Math.max(1,n.colCount-1)},u=y.verticalPadding/l,p=function(e,t){return a.scale.linear().range([t,e-t])}(l,y.verticalPadding),f={key:n.key,xScale:d,model:n,inBrushDrag:!1},h={};return f.dimensions=s.filter(g.isVisible).map((function(o,s){var v=function(e,t){return a.scale.linear().domain(T(e)).range([t,1-t])}(o,u),m=h[o.label];h[o.label]=(m||0)+1;var b=o.label+(m?"__"+m:""),w=o.constraintrange,k=w&&w.length;k&&!Array.isArray(w[0])&&(w=[w]);var I=k?w.map((function(e){return e.map(v)})):[[-1/0,1/0]],_=o.values;_.length>o._length&&(_=_.slice(0,o._length));var D,S=o.tickvals;function V(e,t){return{val:e,text:D[t]}}function L(e,t){return e.val-t.val}if(Array.isArray(S)&&S.length){D=o.ticktext,Array.isArray(D)&&D.length?D.length>S.length?D=D.slice(0,S.length):S.length>D.length&&(S=S.slice(0,D.length)):D=S.map(i(o.tickformat));for(var P=1;P<S.length;P++)if(S[P]<S[P-1]){for(var O=S.map(V).sort(L),B=0;B<S.length;B++)S[B]=O[B].val,D[B]=O[B].text;break}}else S=void 0;return _=g.convertTypedArray(_),{key:b,label:o.label,tickFormat:o.tickformat,tickvals:S,ticktext:D,ordinal:g.isOrdinal(o),multiselect:o.multiselect,xIndex:s,crossfilterDimensionIndex:s,visibleIndex:o._index,height:l,values:_,paddedUnitValues:_.map(v),unitTickvals:S&&S.map(v),xScale:d,x:d(s),canvasX:d(s)*c,unitToPaddedPx:p,domainScale:A(l,y.verticalPadding,o,S,D),ordinalScale:M(o),parent:f,model:n,brush:x.makeBrush(e,k,I,(function(){e.linePickActive(!1)}),(function(){var t=f;t.focusLayer&&t.focusLayer.render(t.panels,!0);var n=C(t);!e.contextShown()&&n?(t.contextLayer&&t.contextLayer.render(t.panels,!0),e.contextShown(!0)):e.contextShown()&&!n&&(t.contextLayer&&t.contextLayer.render(t.panels,!0,!0),e.contextShown(!1))}),(function(n){if(f.focusLayer.render(f.panels,!0),f.pickLayer&&f.pickLayer.render(f.panels,!0),e.linePickActive(!0),t&&t.filterChanged){var a=v.invert,i=n.map((function(e){return e.map(a).sort(r.sorterAsc)})).sort((function(e,t){return e[0]-t[0]}));t.filterChanged(f.key,o._index,i)}}))}})),f}function V(e){e.classed(y.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function L(e,t){var n="top"===t?1:-1,a=e*Math.PI/180;return{dir:n,dx:Math.sin(a),dy:Math.cos(a),degrees:e}}function P(e,t,n){for(var a=t.panels||(t.panels=[]),r=e.data(),i=0;i<r.length-1;i++){var o=a[i]||(a[i]={}),l=r[i],s=r[i+1];o.dim0=l,o.dim1=s,o.canvasX=l.canvasX,o.panelSizeX=s.canvasX-l.canvasX,o.panelSizeY=t.model.canvasHeight,o.y=0,o.canvasY=0,o.plotGlPixelRatio=n}}function O(e,t){return l.tickText(e._ax,t,!1).text}function B(e,t){if(e.ordinal)return"";var n=e.domainScale.domain(),a=n[t?n.length-1:0];return O(e.model.dimensions[e.visibleIndex],a)}e.exports=function(e,t,n,i){var o=e._fullLayout,p=o._toppaper,f=o._glcontainer,w=e._context.plotGlPixelRatio,T=e._fullLayout.paper_bgcolor;!function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)for(var a=e[t][n].trace,r=a.dimensions,i=0;i<r.length;i++){var o=r[i].values,s=r[i]._ax;s&&(s.range?s.range=I(s.range[0],s.range[1]):s.range=k(o,a._length),s.dtick||(s.dtick=.01*(Math.abs(s.range[1]-s.range[0])||1)),s.tickformat=r[i].tickformat,l.calcTicks(s),s.cleanRange())}}(t);var A=function(){var e=!0,t=!1;return{linePickActive:function(t){return arguments.length?e=!!t:e},contextShown:function(e){return arguments.length?t=!!e:t}}}(),M=t.filter((function(e){return m(e).trace.visible})).map(D.bind(0,n)).map(S.bind(0,A,i));f.each((function(e,t){return r.extendFlat(e,M[t])}));var _=f.selectAll(".gl-canvas").each((function(e){e.viewModel=M[0],e.viewModel.plotGlPixelRatio=w,e.viewModel.paperColor=T,e.model=e.viewModel?e.viewModel.model:null})),N=null;_.filter((function(e){return e.pick})).style("pointer-events","auto").on("mousemove",(function(e){if(A.linePickActive()&&e.lineLayer&&i&&i.hover){var t=a.event,n=this.width,r=this.height,o=a.mouse(this),l=o[0],s=o[1];if(l<0||s<0||l>=n||s>=r)return;var c=e.lineLayer.readPixel(l,r-1-s),d=0!==c[3],u=d?c[2]+256*(c[1]+256*c[0]):null,p={x:l,y:s,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:u};u!==N&&(d?i.hover(p):i.unhover&&i.unhover(p),N=u)}})),_.style("opacity",(function(e){return e.pick?0:1})),p.style("background","rgba(255, 255, 255, 0)");var j=p.selectAll("."+y.cn.parcoords).data(M,h);j.exit().remove(),j.enter().append("g").classed(y.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),j.attr("transform",(function(e){return c(e.model.translateX,e.model.translateY)}));var E=j.selectAll("."+y.cn.parcoordsControlView).data(v,h);E.enter().append("g").classed(y.cn.parcoordsControlView,!0),E.attr("transform",(function(e){return c(e.model.pad.l,e.model.pad.t)}));var R=E.selectAll("."+y.cn.yAxis).data((function(e){return e.dimensions}),h);R.enter().append("g").classed(y.cn.yAxis,!0),E.each((function(e){P(R,e,w)})),_.each((function(e){if(e.viewModel){!e.lineLayer||i?e.lineLayer=b(this,e):e.lineLayer.update(e),(e.key||0===e.key)&&(e.viewModel[e.key]=e.lineLayer);var t=!e.context||i;e.lineLayer.render(e.viewModel.panels,t)}})),R.attr("transform",(function(e){return c(e.xScale(e.xIndex),0)})),R.call(a.behavior.drag().origin((function(e){return e})).on("drag",(function(e){var t=e.parent;A.linePickActive(!1),e.x=Math.max(-y.overdrag,Math.min(e.model.width+y.overdrag,a.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,R.sort((function(e,t){return e.x-t.x})).each((function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio})),P(R,t,w),R.filter((function(t){return 0!==Math.abs(e.xIndex-t.xIndex)})).attr("transform",(function(e){return c(e.xScale(e.xIndex),0)})),a.select(this).attr("transform",c(e.x,0)),R.each((function(n,a,r){r===e.parent.key&&(t.dimensions[a]=n)})),t.contextLayer&&t.contextLayer.render(t.panels,!1,!C(t)),t.focusLayer.render&&t.focusLayer.render(t.panels)})).on("dragend",(function(e){var t=e.parent;e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,P(R,t,w),a.select(this).attr("transform",(function(e){return c(e.x,0)})),t.contextLayer&&t.contextLayer.render(t.panels,!1,!C(t)),t.focusLayer&&t.focusLayer.render(t.panels),t.pickLayer&&t.pickLayer.render(t.panels,!0),A.linePickActive(!0),i&&i.axesMoved&&i.axesMoved(t.key,t.dimensions.map((function(e){return e.crossfilterDimensionIndex})))}))),R.exit().remove();var F=R.selectAll("."+y.cn.axisOverlays).data(v,h);F.enter().append("g").classed(y.cn.axisOverlays,!0),F.selectAll("."+y.cn.axis).remove();var X=F.selectAll("."+y.cn.axis).data(v,h);X.enter().append("g").classed(y.cn.axis,!0),X.each((function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,r=n.domain();a.select(this).call(a.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?r:null).tickFormat((function(t){return g.isOrdinal(e)?t:O(e.model.dimensions[e.visibleIndex],t)})).scale(n)),u.font(X.selectAll("text"),e.model.tickFont)})),X.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),X.selectAll("text").style("text-shadow",d.makeTextShadow(T)).style("cursor","default");var H=F.selectAll("."+y.cn.axisHeading).data(v,h);H.enter().append("g").classed(y.cn.axisHeading,!0);var z=H.selectAll("."+y.cn.axisTitle).data(v,h);z.enter().append("text").classed(y.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events","auto"),z.text((function(e){return e.label})).each((function(t){var n=a.select(this);u.font(n,t.model.labelFont),d.convertToTspans(n,e)})).attr("transform",(function(e){var t=L(e.model.labelAngle,e.model.labelSide),n=y.axisTitleOffset;return(t.dir>0?"":c(0,2*n+e.model.height))+s(t.degrees)+c(-n*t.dx,-n*t.dy)})).attr("text-anchor",(function(e){var t=L(e.model.labelAngle,e.model.labelSide);return 2*Math.abs(t.dx)>Math.abs(t.dy)?t.dir*t.dx<0?"start":"end":"middle"}));var Y=F.selectAll("."+y.cn.axisExtent).data(v,h);Y.enter().append("g").classed(y.cn.axisExtent,!0);var W=Y.selectAll("."+y.cn.axisExtentTop).data(v,h);W.enter().append("g").classed(y.cn.axisExtentTop,!0),W.attr("transform",c(0,-y.axisExtentOffset));var U=W.selectAll("."+y.cn.axisExtentTopText).data(v,h);U.enter().append("text").classed(y.cn.axisExtentTopText,!0).call(V),U.text((function(e){return B(e,!0)})).each((function(e){u.font(a.select(this),e.model.rangeFont)}));var G=Y.selectAll("."+y.cn.axisExtentBottom).data(v,h);G.enter().append("g").classed(y.cn.axisExtentBottom,!0),G.attr("transform",(function(e){return c(0,e.model.height+y.axisExtentOffset)}));var q=G.selectAll("."+y.cn.axisExtentBottomText).data(v,h);q.enter().append("text").classed(y.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(V),q.text((function(e){return B(e,!1)})).each((function(e){u.font(a.select(this),e.model.rangeFont)})),x.ensureAxisBrush(F,T)}},95703:function(e,t,n){var a=n(72547),r=n(43147),i=n(17543).isVisible;function o(e,t,n){var a=t.indexOf(n),r=e.indexOf(a);return-1===r&&(r+=t.length),r}e.exports=function(e,t){var n=e._fullLayout;if(r(e)){var l={},s={},c={},d={},u=n._size;t.forEach((function(t,n){var a=t[0].trace;c[n]=a.index;var r=d[n]=a._fullInput.index;l[n]=e.data[r].dimensions,s[n]=e.data[r].dimensions.slice()}));a(e,t,{width:u.w,height:u.h,margin:{t:u.t,r:u.r,b:u.b,l:u.l}},{filterChanged:function(t,a,r){var i=s[t][a],o=r.map((function(e){return e.slice()})),l="dimensions["+a+"].constraintrange",u=n._tracePreGUI[e._fullData[c[t]]._fullInput.uid];if(void 0===u[l]){var p=i.constraintrange;u[l]=p||null}var f=e._fullData[c[t]].dimensions[a];o.length?(1===o.length&&(o=o[0]),i.constraintrange=o,f.constraintrange=o.slice(),o=[o]):(delete i.constraintrange,delete f.constraintrange,o=null);var h={};h[l]=o,e.emit("plotly_restyle",[h,[d[t]]])},hover:function(t){e.emit("plotly_hover",t)},unhover:function(t){e.emit("plotly_unhover",t)},axesMoved:function(t,n){var a=function(e,t){return function(n,a){return o(e,t,n)-o(e,t,a)}}(n,s[t].filter(i));l[t].sort(a),s[t].filter((function(e){return!i(e)})).sort((function(e){return s[t].indexOf(e)})).forEach((function(e){l[t].splice(l[t].indexOf(e),1),l[t].splice(s[t].indexOf(e),0,e)})),e.emit("plotly_restyle",[{dimensions:[l[t]]},[d[t]]])}})}}},86692:function(e,t,n){var a=n(42837),r=n(16688).u,i=n(5153),o=n(62405),l=n(4216).r,s=n(4216).a,c=n(87241).extendFlat,d=i({editType:"plot",arrayOk:!0,colorEditType:"plot",description:"Sets the font used for `textinfo`."});e.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will be seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",dflt:"",editType:"calc",description:["If there are multiple pie charts that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:c({},a.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:c({},d,{description:"Sets the font used for `textinfo`."}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot",description:["Controls the orientation of the text inside chart sectors.","When set to *auto*, text may be oriented in any direction in order","to be as big as possible in the middle of a sector.","The *horizontal* option orients text to be parallel with the bottom","of the chart, and may make text smaller in order to achieve that goal.","The *radial* option orients text along the radius of the sector.","The *tangential* option orients text perpendicular to the radius of the sector."].join(" ")},insidetextfont:c({},d,{description:"Sets the font used for `textinfo` lying inside the sector."}),outsidetextfont:c({},d,{description:"Sets the font used for `textinfo` lying outside the sector."}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether outside text labels can push the margins."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"plot",description:["Sets the title of the chart.","If it is empty, no title is displayed.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:c({},d,{description:["Sets the font used for `title`.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot",description:["Specifies the location of the `title`.","Note that the title's position used to be set","by the now deprecated `titleposition` attribute."].join(" ")},editType:"plot"},domain:r({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")},_deprecated:{title:{valType:"string",dflt:"",editType:"calc",description:["Deprecated in favor of `title.text`.","Note that value of `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:c({},d,{description:"Deprecated in favor of `title.font`."}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc",description:"Deprecated in favor of `title.position`."}}}},84420:function(e,t,n){var a=n(35722);t.name="pie",t.plot=function(e,n,r,i){a.plotBasePlot(t.name,e,n,r,i)},t.clean=function(e,n,r,i){a.cleanBasePlot(t.name,e,n,r,i)}},93444:function(e,t,n){var a=n(83491),r=n(91771),i=n(31454),o={};function l(e){return function(t,n){return!!t&&(!!(t=r(t)).isValid()&&(t=i.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t))}}function s(e,t){var n,a=JSON.stringify(e),i=t[a];if(!i){for(i=e.slice(),n=0;n<e.length;n++)i.push(r(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)i.push(r(e[n]).darken(20).toHexString());t[a]=i}return i}e.exports={calc:function(e,t){var n,r,i=[],o=e._fullLayout,s=o.hiddenlabels||[],c=t.labels,d=t.marker.colors||[],u=t.values,p=t._length,f=t._hasValues&&p;if(t.dlabel)for(c=new Array(p),n=0;n<p;n++)c[n]=String(t.label0+n*t.dlabel);var h={},v=l(o["_"+t.type+"colormap"]),m=0,g=!1;for(n=0;n<p;n++){var y,x,b;if(f){if(y=u[n],!a(y))continue;if((y=+y)<0)continue}else y=1;void 0!==(x=c[n])&&""!==x||(x=n);var w=h[x=String(x)];void 0===w?(h[x]=i.length,(b=-1!==s.indexOf(x))||(m+=y),i.push({v:y,label:x,color:v(d[n],x),i:n,pts:[n],hidden:b})):(g=!0,(r=i[w]).v+=y,r.pts.push(n),r.hidden||(m+=y),!1===r.color&&d[n]&&(r.color=v(d[n],x)))}return("funnelarea"===t.type?g:t.sort)&&i.sort((function(e,t){return t.v-e.v})),i[0]&&(i[0].vTotal=m),i},crossTraceCalc:function(e,t){var n=(t||{}).type;n||(n="pie");var a=e._fullLayout,r=e.calcdata,i=a[n+"colorway"],l=a["_"+n+"colormap"];a["extend"+n+"colors"]&&(i=s(i,o));for(var c=0,d=0;d<r.length;d++){var u=r[d];if(u[0].trace.type===n)for(var p=0;p<u.length;p++){var f=u[p];!1===f.color&&(l[f.label]?f.color=l[f.label]:(l[f.label]=f.color=i[c%i.length],c++))}}},makePullColorFn:l,generateExtendedColors:s}},53459:function(e,t,n){var a=n(83491),r=n(47401),i=n(86692),o=n(16688).N,l=n(18878).handleText;function s(e,t){var n=Array.isArray(e),i=r.isArrayOrTypedArray(t),o=Math.min(n?e.length:1/0,i?t.length:1/0);if(isFinite(o)||(o=0),o&&i){for(var l,s=0;s<o;s++){var c=t[s];if(a(c)&&c>0){l=!0;break}}l||(o=0)}return{hasLabels:n,hasValues:i,len:o}}e.exports={handleLabelsAndValues:s,supplyDefaults:function(e,t,n,a){function c(n,a){return r.coerce(e,t,i,n,a)}var d=s(c("labels"),c("values")),u=d.len;if(t._hasLabels=d.hasLabels,t._hasValues=d.hasValues,!t._hasLabels&&t._hasValues&&(c("label0"),c("dlabel")),u){t._length=u,c("marker.line.width")&&c("marker.line.color"),c("marker.colors"),c("scalegroup");var p,f=c("text"),h=c("texttemplate");if(h||(p=c("textinfo",Array.isArray(f)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),h||p&&"none"!==p){var v=c("textposition");l(e,t,a,c,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||"auto"===v||"outside"===v)&&c("automargin"),("inside"===v||"auto"===v||Array.isArray(v))&&c("insidetextorientation")}o(t,a,c);var m=c("hole");if(c("title.text")){var g=c("title.position",m?"middle center":"top center");m||"middle center"!==g||(t.title.position="top center"),r.coerceFont(c,"title.font",a.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else t.visible=!1}}},41240:function(e,t,n){var a=n(14904).appendArrayMultiPointValues;e.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,bbox:e.bbox,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),a(n,t,e.pts),"funnelarea"===t.type&&(delete n.v,delete n.i),n}},80084:function(e,t,n){var a=n(47401);function r(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}t.formatPiePercent=function(e,t){var n=r((100*e).toPrecision(3));return a.numSeparate(n,t)+"%"},t.formatPieValue=function(e,t){var n=r(e.toPrecision(10));return a.numSeparate(n,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var a=e[t[n]];if(a||0===a||""===a)return a}},t.castOption=function(e,n){return Array.isArray(e)?t.getFirstFilled(e,n):e||void 0},t.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},50089:function(e,t,n){e.exports={attributes:n(86692),supplyDefaults:n(53459).supplyDefaults,supplyLayoutDefaults:n(18504),layoutAttributes:n(59055),calc:n(93444).calc,crossTraceCalc:n(93444).crossTraceCalc,plot:n(59718).plot,style:n(9884),styleOne:n(59371),moduleType:"trace",name:"pie",basePlotModule:n(84420),categories:["pie-like","pie","showLegend"],meta:{description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")}}}}]);