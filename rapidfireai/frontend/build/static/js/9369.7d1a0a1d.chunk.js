"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[9369],{35722:function(t,e,a){var r=a(62258),i=a(47001).de,n=a(63539).OE,o=a(83491),l=a(62282),s=a(16545),u=a(92704),c=a(47401),d=a(31454),f=a(9405).BADNUM,p=a(77063),h=a(75152).clearSelect,g=a(46218),m=a(81255),y=a(13373).eV,v=c.relinkPrivateKeys,x=c._,_=t.exports={};c.extendFlat(_,l),_.attributes=a(42837),_.attributes.type.values=_.allTypes,_.fontAttrs=a(5153),_.layoutAttributes=a(19744),_.fontWeight="normal";var b=_.transformsRegistry,k=a(73435);_.executeAPICommand=k.executeAPICommand,_.computeAPICommandBindings=k.computeAPICommandBindings,_.manageCommandObserver=k.manageCommandObserver,_.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,_.redrawText=function(t){return t=c.getGraphDiv(t),new Promise((function(e){setTimeout((function(){t._fullLayout&&(l.getComponentMethod("annotations","draw")(t),l.getComponentMethod("legend","draw")(t),l.getComponentMethod("colorbar","draw")(t),e(_.previousPromises(t)))}),300)}))},_.resize=function(t){var e;t=c.getGraphDiv(t);var a=new Promise((function(a,r){t&&!c.isHidden(t)||r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=a,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||c.isHidden(t))a(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,l.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===a&&(delete t._resolveResize,a(t))}))}}),100)}));return e&&e(a),a},_.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},_.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,a=c.ensureSingle(e._paper,"text","js-plot-link-container",(function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:d.defaultLine,"pointer-events":"all"}).each((function(){var t=r.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),i=a.node(),n={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(n["text-anchor"]="start",n.x=5):(n["text-anchor"]="end",n.x=e._paper.attr("width")-7),a.attr(n);var o=a.select(".js-link-to-tool"),l=a.select(".js-link-spacer"),s=a.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var a=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)a.on("click",(function(){_.sendDataToCloud(t)}));else{var r=window.location.pathname.split("/"),i=window.location.search;a.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(t,o),l.text(o.text()&&s.text()?" - ":"")}},_.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var a=r.select(t).append("div").attr("id","hiddenform").style("display","none"),i=a.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=_.graphJson(t,!1,"keepdata"),i.node().submit(),a.remove(),t.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];function A(t,e){var a=t._context.locale;a||(a="en-US");var r=!1,i={};function n(t){for(var a=!0,n=0;n<e.length;n++){var o=e[n];i[o]||(t[o]?i[o]=t[o]:a=!1)}a&&(r=!0)}for(var o=0;o<2;o++){for(var s=t._context.locales,u=0;u<2;u++){var c=(s[a]||{}).format;if(c&&(n(c),r))break;s=l.localeRegistry}var d=a.split("-")[0];if(r||d===a)break;a=d}return r||n(l.localeRegistry.en.format),i}function D(t,e){var a={_fullLayout:e},r="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,n="",o="",l="";if(i&&(l=i._mainAxis._id,n=r?t._id+l:l+t._id),!n||!e._plots[n]){n="";for(var s=t._counterAxes,u=0;u<s.length;u++){var c=s[u],d=r?t._id+c:c+t._id;o||(o=d);var f=p.getFromId(a,c);if(l&&f.overlaying===l){n=d;break}}}return n||o}function T(t){var e=t.transforms;if(Array.isArray(e)&&e.length)for(var a=0;a<e.length;a++){var r=e[a],i=r._module||b[r.type];if(i&&i.makesData)return!0}return!1}function L(t,e,a,r){for(var i=t.transforms,n=[t],o=0;o<i.length;o++){var l=i[o],s=b[l.type];s&&s.transform&&(n=s.transform(n,{transform:l,fullTrace:t,fullData:e,layout:a,fullLayout:r,transformIndex:o}))}return n}function C(t){return"string"===typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function F(t){var e=t.margin;if(!t._size){var a=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};a.w=Math.round(t.width)-a.l-a.r,a.h=Math.round(t.height)-a.t-a.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={})}_.supplyDefaults=function(t,e){var a=e&&e.skipUpdateCalc,r=t._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var o,s=t._fullLayout={},u=t.layout||{},d=t._fullData||[],f=t._fullData=[],p=t.data||[],g=t.calcdata||[],m=t._context||{};t._transitionData||_.createTransitionData(t),s._dfltTitle={plot:x(t,"Click to enter Plot title"),x:x(t,"Click to enter X axis title"),y:x(t,"Click to enter Y axis title"),colorbar:x(t,"Click to enter Colorscale title"),annotation:x(t,"new text")},s._traceWord=x(t,"trace");var y=A(t,w);if(s._mapboxAccessToken=m.mapboxAccessToken,r._initialAutoSizeIsDone){var b=r.width,k=r.height;_.supplyLayoutGlobalDefaults(u,s,y),u.width||(s.width=b),u.height||(s.height=k),_.sanitizeMargins(s)}else{_.supplyLayoutGlobalDefaults(u,s,y);var D=!u.width||!u.height,T=s.autosize,L=m.autosizable;D&&(T||L)?_.plotAutoSize(t,u,s):D&&_.sanitizeMargins(s),!T&&D&&(u.width=s.width,u.height=s.height)}s._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=n(t).format(c.adjustFormat(e))}catch(a){return c.warnBadFormat(e),c.noFormat}return e},timeFormat:i(t).utcFormat}}(y,s.separators),s._extraFormat=A(t,M),s._initialAutoSizeIsDone=!0,s._dataLength=p.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var C=s._subplots=function(){var t,e,a=l.collectableSubplotTypes,r={};if(!a){a=[];var i=l.subplotsRegistry;for(var n in i){var o=i[n].attr;if(o&&(a.push(n),Array.isArray(o)))for(e=0;e<o.length;e++)c.pushUnique(a,o[e])}}for(t=0;t<a.length;t++)r[a[t]]=[];return r}(),I=s._splomAxes={x:{},y:{}},S=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._alignmentOpts={},s._colorAxes={},s._requestRangeslider={},s._traceUids=function(t,e){var a,r,i=e.length,n=[];for(a=0;a<t.length;a++){var o=t[a]._fullInput;o!==r&&n.push(o),r=o}var l=n.length,s=new Array(i),u={};function d(t,e){s[e]=t,u[t]=1}function f(t,e){if(t&&"string"===typeof t&&!u[t])return d(t,e),!0}for(a=0;a<i;a++){var p=e[a].uid;"number"===typeof p&&(p=String(p)),f(p,a)||(a<l&&f(n[a].uid,a)||d(c.randstr(u),a))}return s}(d,p),s._globalTransforms=(t._context||{}).globalTransforms,_.supplyDataDefaults(p,f,u,s);var P=Object.keys(I.x),O=Object.keys(I.y);if(P.length>1&&O.length>1){for(l.getComponentMethod("grid","sizeDefaults")(u,s),o=0;o<P.length;o++)c.pushUnique(C.xaxis,P[o]);for(o=0;o<O.length;o++)c.pushUnique(C.yaxis,O[o]);for(var z in S)c.pushUnique(C.cartesian,z)}if(s._has=_._hasPlotType.bind(s),d.length===f.length)for(o=0;o<f.length;o++)v(f[o],d[o]);_.supplyLayoutModuleDefaults(u,s,f,t._transitionData);var R=s._visibleModules,j=[];for(o=0;o<R.length;o++){var N=R[o].crossTraceDefaults;N&&c.pushUnique(j,N)}for(o=0;o<j.length;o++)j[o](f,s);s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&P.length>15&&O.length>15&&0===s.shapes.length&&0===s.images.length,_.linkSubplots(f,s,d,r),_.cleanPlot(f,s,d,r);var U=!(!r._has||!r._has("gl2d")),B=!(!s._has||!s._has("gl2d")),G=!(!r._has||!r._has("cartesian"))||U,H=!(!s._has||!s._has("cartesian"))||B;G&&!H?r._bgLayer.remove():H&&!G&&(s._shouldCreateBgLayer=!0),r._zoomlayer&&!t._dragging&&h({_fullLayout:r}),function(t,e){var a,r=[];e.meta&&(a=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var n=t[i];n.meta?r[n.index]=n._meta={meta:n.meta}:e.meta&&(n._meta={meta:e.meta}),e.meta&&(n._meta.layout={meta:e.meta})}r.length&&(a||(a=e._meta={}),a.data=r)}(f,s),v(s,r),l.getComponentMethod("colorscale","crossTraceDefaults")(f,s),s._preGUI||(s._preGUI={}),s._tracePreGUI||(s._tracePreGUI={});var Z,q=s._tracePreGUI,E={};for(Z in q)E[Z]="old";for(o=0;o<f.length;o++)E[Z=f[o]._fullInput.uid]||(q[Z]={}),E[Z]="new";for(Z in E)"old"===E[Z]&&delete q[Z];F(s),l.getComponentMethod("rangeslider","makeData")(s),a||g.length!==f.length||_.supplyDefaultsUpdateCalc(g,f)}},_.supplyDefaultsUpdateCalc=function(t,e){for(var a=0;a<e.length;a++){var r=e[a],i=(t[a]||[])[0];if(i&&i.trace){var n=i.trace;if(n._hasCalcTransform){var o,l,s,u=n._arrayAttrs;for(o=0;o<u.length;o++)l=u[o],s=c.nestedProperty(n,l).get().slice(),c.nestedProperty(r,l).set(s)}i.trace=r}}},_.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},_._hasPlotType=function(t){var e,a=this._basePlotModules||[];for(e=0;e<a.length;e++)if(a[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var i=r[e].name;if(i===t)return!0;var n=l.modules[i];if(n&&n.categories[t])return!0}return!1},_.cleanPlot=function(t,e,a,r){var i,n,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var l=o[i];l.clean&&l.clean(t,e,a,r)}var s=r._has&&r._has("gl"),u=e._has&&e._has("gl");s&&!u&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;t:for(i=0;i<a.length;i++){var d=a[i].uid;for(n=0;n<t.length;n++){if(d===t[n].uid)continue t}c&&r._infolayer.select(".cb"+d).remove()}},_.linkSubplots=function(t,e,a,r){var i,n,o=r._plots||{},s=e._plots={},u=e._subplots,d={_fullData:t,_fullLayout:e},f=u.cartesian.concat(u.gl2d||[]);for(i=0;i<f.length;i++){var h,g=f[i],m=o[g],y=p.getFromId(d,g,"x"),v=p.getFromId(d,g,"y");for(m?h=s[g]=m:(h=s[g]={}).id=g,y._counterAxes.push(v._id),v._counterAxes.push(y._id),y._subplotsWith.push(g),v._subplotsWith.push(g),h.xaxis=y,h.yaxis=v,h._hasClipOnAxisFalse=!1,n=0;n<t.length;n++){var x=t[n];if(x.xaxis===h.xaxis._id&&x.yaxis===h.yaxis._id&&!1===x.cliponaxis){h._hasClipOnAxisFalse=!0;break}}}var _,b=p.list(d,null,!0);for(i=0;i<b.length;i++){var k=null;(_=b[i]).overlaying&&(k=p.getFromId(d,_.overlaying))&&k.overlaying&&(_.overlaying=!1,k=null),_._mainAxis=k||_,k&&(_.domain=k.domain.slice()),_._anchorAxis="free"===_.anchor?null:p.getFromId(d,_.anchor)}for(i=0;i<b.length;i++)if((_=b[i])._counterAxes.sort(p.idSort),_._subplotsWith.sort(c.subplotSort),_._mainSubplot=D(_,e),_._counterAxes.length&&(_.spikemode&&-1!==_.spikemode.indexOf("across")||_.automargin&&_.mirror&&"free"!==_.anchor||l.getComponentMethod("rangeslider","isVisible")(_))){var w=1,M=0;for(n=0;n<_._counterAxes.length;n++){var A=p.getFromId(d,_._counterAxes[n]);w=Math.min(w,A.domain[0]),M=Math.max(M,A.domain[1])}w<M&&(_._counterDomainMin=w,_._counterDomainMax=M)}},_.clearExpandedTraceDefaultColors=function(t){var e,a,r;for(a=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],s.crawl(t._module.attributes,(function(t,r,i,n){a[n]=r,a.length=n+1,"color"===t.valType&&void 0===t.dflt&&e.push(a.join("."))}))),r=0;r<e.length;r++){c.nestedProperty(t,"_input."+e[r]).get()||c.nestedProperty(t,e[r]).set(null)}},_.supplyDataDefaults=function(t,e,a,r){var i,n,o,s=r._modules,d=r._visibleModules,f=r._basePlotModules,p=0,h=0;function g(t){e.push(t);var a=t._module;a&&(c.pushUnique(s,a),!0===t.visible&&c.pushUnique(d,a),c.pushUnique(f,t._module.basePlotModule),p++,!1!==t._input.visible&&h++)}r._transformModules=[];var m={},y=[],x=(a.template||{}).data||{},b=u.traceTemplater(x);for(i=0;i<t.length;i++){if(o=t[i],(n=b.newTrace(o)).uid=r._traceUids[i],_.supplyTraceDefaults(o,n,h,r,i),n.index=i,n._input=o,n._expandedIndex=p,n.transforms&&n.transforms.length)for(var k=!1!==o.visible&&!1===n.visible,w=L(n,e,a,r),M=0;M<w.length;M++){var A=w[M],D={_template:n._template,type:n.type,uid:n.uid+M};k&&!1===A.visible&&delete A.visible,_.supplyTraceDefaults(A,D,p,r,i),v(D,A),D.index=i,D._input=o,D._fullInput=n,D._expandedIndex=p,D._expandedInput=A,g(D)}else n._fullInput=n,n._expandedInput=n,g(n);l.traceIs(n,"carpetAxis")&&(m[n.carpet]=n),l.traceIs(n,"carpetDependent")&&y.push(i)}for(i=0;i<y.length;i++)if((n=e[y[i]]).visible){var T=m[n.carpet];n._carpet=T,T&&T.visible?(n.xaxis=T.xaxis,n.yaxis=T.yaxis):n.visible=!1}},_.supplyAnimationDefaults=function(t){var e;t=t||{};var a={};function r(e,r){return c.coerce(t||{},a,g,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(a.frame=[],e=0;e<t.frame.length;e++)a.frame[e]=_.supplyAnimationFrameDefaults(t.frame[e]||{});else a.frame=_.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(a.transition=[],e=0;e<t.transition.length;e++)a.transition[e]=_.supplyAnimationTransitionDefaults(t.transition[e]||{});else a.transition=_.supplyAnimationTransitionDefaults(t.transition||{});return a},_.supplyAnimationFrameDefaults=function(t){var e={};function a(a,r){return c.coerce(t||{},e,g.frame,a,r)}return a("duration"),a("redraw"),e},_.supplyAnimationTransitionDefaults=function(t){var e={};function a(a,r){return c.coerce(t||{},e,g.transition,a,r)}return a("duration"),a("easing"),e},_.supplyFrameDefaults=function(t){var e={};function a(a,r){return c.coerce(t,e,m,a,r)}return a("group"),a("name"),a("traces"),a("baseframe"),a("data"),a("layout"),e},_.supplyTraceDefaults=function(t,e,a,r,i){var n,o=r.colorway||d.defaults,s=o[a%o.length];function u(a,r){return c.coerce(t,e,_.attributes,a,r)}var f=u("visible");u("type"),u("name",r._traceWord+" "+i),u("uirevision",r.uirevision);var p=_.getModule(e);if(e._module=p,p){var h=p.basePlotModule,g=h.attr,m=h.attributes;if(g&&m){var y=r._subplots,v="";if(f||"gl2d"!==h.name){if(Array.isArray(g))for(n=0;n<g.length;n++){var x=g[n],b=c.coerce(t,e,m,x);y[x]&&c.pushUnique(y[x],b),v+=b}else v=c.coerce(t,e,m,g);y[h.name]&&c.pushUnique(y[h.name],v)}}}if(f){if(u("customdata"),u("ids"),u("meta"),l.traceIs(e,"showLegend"))c.coerce(t,e,p.attributes.showlegend?p.attributes:_.attributes,"showlegend"),u("legendgroup"),u("legendgrouptitle.text")&&c.coerceFont(u,"legendgrouptitle.font",c.extendFlat({},r.font,{size:Math.round(1.1*r.font.size)})),u("legendrank"),e._dfltShowLegend=!0;else e._dfltShowLegend=!1;p&&p.supplyDefaults(t,e,s,r),l.traceIs(e,"noOpacity")||u("opacity"),l.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),l.traceIs(e,"noHover")||(e.hovertemplate||c.coerceHoverinfo(t,e,r),"parcats"!==e.type&&l.getComponentMethod("fx","supplyDefaults")(t,e,s,r)),p&&p.selectPoints&&u("selectedpoints"),_.supplyTransformDefaults(t,e,r)}return e},_.hasMakesDataTransform=T,_.supplyTransformDefaults=function(t,e,a){if(e._length||T(t)){var r=a._globalTransforms||[],i=a._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var n=t.transforms||[],o=r.concat(n),l=e.transforms=[],s=0;s<o.length;s++){var u,d=o[s],f=d.type,p=b[f],h=!(d._module&&d._module===p),g=p&&"function"===typeof p.transform;p||c.warn("Unrecognized transform type "+f+"."),p&&p.supplyDefaults&&(h||g)?((u=p.supplyDefaults(d,e,a,t)).type=f,u._module=p,c.pushUnique(i,p)):u=c.extendFlat({},d),l.push(u)}}},_.supplyLayoutGlobalDefaults=function(t,e,a){function r(a,r){return c.coerce(t,e,_.layoutAttributes,a,r)}var i=t.template;c.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),r("autotypenumbers");var n=c.coerceFont(r,"font");r("title.text",e._dfltTitle.plot),c.coerceFont(r,"title.font",{family:n.family,size:Math.round(1.4*n.size),color:n.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&_.sanitizeMargins(e),l.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",a.decimal+a.thousands),r("hidesources"),r("colorway"),r("datarevision");var o=r("uirevision");r("editrevision",o),r("selectionrevision",o),l.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,r),r("meta"),c.isPlainObject(t.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r)},_.plotAutoSize=function(t,e,a){var r,i,n=t._context||{},l=n.frameMargins,s=c.isPlotDiv(t);if(s&&t.emit("plotly_autosize"),n.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var u=s?window.getComputedStyle(t):{};if(r=C(u.width)||C(u.maxWidth)||a.width,i=C(u.height)||C(u.maxHeight)||a.height,o(l)&&l>0){var d=1-2*l;r=Math.round(d*r),i=Math.round(d*i)}}var f=_.layoutAttributes.width.min,p=_.layoutAttributes.height.min;r<f&&(r=f),i<p&&(i=p);var h=!e.width&&Math.abs(a.width-r)>1,g=!e.height&&Math.abs(a.height-i)>1;(g||h)&&(h&&(a.width=r),g&&(a.height=i)),t._initialAutoSize||(t._initialAutoSize={width:r,height:i}),_.sanitizeMargins(a)},_.supplyLayoutModuleDefaults=function(t,e,a,r){var i,n,o,s=l.componentsRegistry,u=e._basePlotModules,d=l.subplotsRegistry.cartesian;for(i in s)(o=s[i]).includeBasePlot&&o.includeBasePlot(t,e);for(var f in u.length||u.push(d),e._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(t,e),d.finalizeSubplots(t,e)),e._subplots)e._subplots[f].sort(c.subplotSort);for(n=0;n<u.length;n++)(o=u[n]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,a);var p=e._modules;for(n=0;n<p.length;n++)(o=p[n]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,a);var h=e._transformModules;for(n=0;n<h.length;n++)(o=h[n]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,a,r);for(i in s)(o=s[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,a)},_.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),c.clearThrottle(),c.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},_.style=function(t){var e,a=t._fullLayout._visibleModules,r=[];for(e=0;e<a.length;e++){var i=a[e];i.style&&c.pushUnique(r,i.style)}for(e=0;e<r.length;e++)r[e](t)},_.sanitizeMargins=function(t){if(t&&t.margin){var e,a=t.width,r=t.height,i=t.margin,n=a-(i.l+i.r),o=r-(i.t+i.b);n<0&&(e=(a-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),o<0&&(e=(r-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},_.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},_.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};_.autoMargin=function(t,e,a){var r=t._fullLayout,i=r.width,n=r.height,o=r.margin,l=c.constrain(i-o.l-o.r,2,64),s=c.constrain(n-o.t-o.b,2,64),u=Math.max(0,i-l),d=Math.max(0,n-s),f=r._pushmargin,p=r._pushmarginIds;if(!1!==o.autoexpand){if(a){var h=a.pad;if(void 0===h&&(h=Math.min(12,o.l,o.r,o.t,o.b)),u){var g=(a.l+a.r)/u;g>1&&(a.l/=g,a.r/=g)}if(d){var m=(a.t+a.b)/d;m>1&&(a.t/=m,a.b/=m)}var y=void 0!==a.xl?a.xl:a.x,v=void 0!==a.xr?a.xr:a.x,x=void 0!==a.yt?a.yt:a.y,b=void 0!==a.yb?a.yb:a.y;f[e]={l:{val:y,size:a.l+h},r:{val:v,size:a.r+h},b:{val:b,size:a.b+h},t:{val:x,size:a.t+h}},p[e]=1}else delete f[e],delete p[e];if(!r._replotting)return _.doAutoMargin(t)}},_.doAutoMargin=function(t){var e=t._fullLayout,a=e.width,r=e.height;e._size||(e._size={}),F(e);var i=e._size,n=e.margin,s=c.extendFlat({},i),u=n.l,d=n.r,f=n.t,h=n.b,g=e._pushmargin,m=e._pushmarginIds;if(!1!==e.margin.autoexpand){for(var y in g)m[y]||delete g[y];for(var v in g.base={l:{val:0,size:u},r:{val:1,size:d},t:{val:1,size:f},b:{val:0,size:h}},g){var x=g[v].l||{},b=g[v].b||{},k=x.val,w=x.size,M=b.val,A=b.size;for(var D in g){if(o(w)&&g[D].r){var T=g[D].r.val,L=g[D].r.size;if(T>k){var C=(w*T+(L-a)*k)/(T-k),I=(L*(1-k)+(w-a)*(1-T))/(T-k);C+I>u+d&&(u=C,d=I)}}if(o(A)&&g[D].t){var S=g[D].t.val,P=g[D].t.size;if(S>M){var O=(A*S+(P-r)*M)/(S-M),z=(P*(1-M)+(A-r)*(1-S))/(S-M);O+z>h+f&&(h=O,f=z)}}}}}var R=c.constrain(a-n.l-n.r,2,64),j=c.constrain(r-n.t-n.b,2,64),N=Math.max(0,a-R),U=Math.max(0,r-j);if(N){var B=(u+d)/N;B>1&&(u/=B,d/=B)}if(U){var G=(h+f)/U;G>1&&(h/=G,f/=G)}if(i.l=Math.round(u),i.r=Math.round(d),i.t=Math.round(f),i.b=Math.round(h),i.p=Math.round(n.pad),i.w=Math.round(a)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!e._replotting&&_.didMarginChange(s,i)){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var H=3*(1+Object.keys(m).length);if(e._redrawFromAutoMarginCount<H)return l.call("_doPlot",t);e._size=s,c.warn("Too many auto-margin redraws.")}!function(t){var e=p.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(t){for(var a=0;a<e.length;a++){var r=e[a][t];r&&r()}}))}(t)};var I=["l","r","t","b","p","w","h"];function S(t,e,a){var r=!1;var i=[_.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},a.prepareFn,_.rehover,function(){return t.emit("plotly_transitioning",[]),new Promise((function(i){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){r=!0})),a.redraw&&t._transitionData._interruptCallbacks.push((function(){return l.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var n=0,o=0;function s(){return n++,function(){o++,r||o!==n||function(e){if(!t._transitionData)return;(function(t){if(t)for(;t.length;)t.shift()})(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(a.redraw)return l.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e)}(i)}}a.runFn(s),setTimeout(s())}))}],n=c.syncOrAsync(i,t);return n&&n.then||(n=Promise.resolve()),n.then((function(){return t}))}_.didMarginChange=function(t,e){for(var a=0;a<I.length;a++){var r=I[a],i=t[r],n=e[r];if(!o(i)||Math.abs(n-i)>1)return!0}return!1},_.graphJson=function(t,e,a,r,i,n){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&_.supplyDefaults(t);var o=i?t._fullData:t.data,l=i?t._fullLayout:t.layout,s=(t._transitionData||{})._frames;function u(t,e){if("function"===typeof t)return e?"_function_":null;if(c.isPlainObject(t)){var r,i={};return Object.keys(t).sort().forEach((function(n){if(-1===["_","["].indexOf(n.charAt(0)))if("function"!==typeof t[n]){if("keepdata"===a){if("src"===n.substr(n.length-3))return}else if("keepstream"===a){if("string"===typeof(r=t[n+"src"])&&r.indexOf(":")>0&&!c.isPlainObject(t.stream))return}else if("keepall"!==a&&"string"===typeof(r=t[n+"src"])&&r.indexOf(":")>0)return;i[n]=u(t[n],e)}else e&&(i[n]="_function")})),i}return Array.isArray(t)?t.map((function(t){return u(t,e)})):c.isTypedArray(t)?c.simpleMap(t,c.identity):c.isJSDate(t)?c.ms2DateTimeLocal(+t):t}var d={data:(o||[]).map((function(t){var a=u(t);return e&&delete a.fit,a}))};if(!e&&(d.layout=u(l),i)){var f=l._size;d.layout.computed={margin:{b:f.b,l:f.l,r:f.r,t:f.t}}}return s&&(d.frames=u(s)),n&&(d.config=u(t._context,!0)),"object"===r?d:JSON.stringify(d)},_.modifyFrames=function(t,e){var a,r,i,n=t._transitionData._frames,o=t._transitionData._frameHash;for(a=0;a<e.length;a++)switch((r=e[a]).type){case"replace":i=r.value;var l=(n[r.index]||{}).name,s=i.name;n[r.index]=o[s]=i,s!==l&&(delete o[l],o[s]=i);break;case"insert":o[(i=r.value).name]=i,n.splice(r.index,0,i);break;case"delete":delete o[(i=n[r.index]).name],n.splice(r.index,1)}return Promise.resolve()},_.computeFrame=function(t,e){var a,r,i,n,o=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var l=o[e.toString()];if(!l)return!1;for(var s=[l],u=[l.name];l.baseframe&&(l=o[l.baseframe.toString()])&&-1===u.indexOf(l.name);)s.push(l),u.push(l.name);for(var c={};l=s.pop();)if(l.layout&&(c.layout=_.extendLayout(c.layout,l.layout)),l.data){if(c.data||(c.data=[]),!(r=l.traces))for(r=[],a=0;a<l.data.length;a++)r[a]=a;for(c.traces||(c.traces=[]),a=0;a<l.data.length;a++)void 0!==(i=r[a])&&null!==i&&(-1===(n=c.traces.indexOf(i))&&(n=c.data.length,c.traces[n]=i),c.data[n]=_.extendTrace(c.data[n],l.data[a]))}return c},_.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},a=t._transitionData._frames,r=0;r<a.length;r++){var i=a[r];i&&i.name&&(e[i.name]=i)}},_.extendObjectWithContainers=function(t,e,a){var r,i,n,o,l,s,u,d=c.extendDeepNoArrays({},e||{}),f=c.expandObjectPaths(d),p={};if(a&&a.length)for(n=0;n<a.length;n++)void 0===(i=(r=c.nestedProperty(f,a[n])).get())?c.nestedProperty(p,a[n]).set(null):(r.set(null),c.nestedProperty(p,a[n]).set(i));if(t=c.extendDeepNoArrays(t||{},f),a&&a.length)for(n=0;n<a.length;n++)if(s=c.nestedProperty(p,a[n]).get()){for(u=(l=c.nestedProperty(t,a[n])).get(),Array.isArray(u)||(u=[],l.set(u)),o=0;o<s.length;o++){var h=s[o];u[o]=null===h?null:_.extendObjectWithContainers(u[o],h)}l.set(u)}return t},_.dataArrayContainers=["transforms","dimensions"],_.layoutArrayContainers=l.layoutArrayContainers,_.extendTrace=function(t,e){return _.extendObjectWithContainers(t,e,_.dataArrayContainers)},_.extendLayout=function(t,e){return _.extendObjectWithContainers(t,e,_.layoutArrayContainers)},_.transition=function(t,e,a,r,i,n){var o={redraw:i.redraw},l={},s=[];return o.prepareFn=function(){for(var i=Array.isArray(e)?e.length:0,n=r.slice(0,i),o=0;o<n.length;o++){var u=n[o],d=t._fullData[u]._module;if(d){if(d.animatable){var f=d.basePlotModule.name;l[f]||(l[f]=[]),l[f].push(u)}t.data[n[o]]=_.extendTrace(t.data[n[o]],e[o])}}var p=c.expandObjectPaths(c.extendDeepNoArrays({},a)),h=/^[xy]axis[0-9]*$/;for(var g in p)h.test(g)&&delete p[g].range;_.extendLayout(t.layout,p),delete t.calcdata,_.supplyDefaults(t),_.doCalcdata(t);var m=c.expandObjectPaths(a);if(m){var y=t._fullLayout._plots;for(var v in y){var x=y[v],b=x.xaxis,k=x.yaxis,w=b.range.slice(),M=k.range.slice(),A=null,D=null,T=null,L=null;Array.isArray(m[b._name+".range"])?A=m[b._name+".range"].slice():Array.isArray((m[b._name]||{}).range)&&(A=m[b._name].range.slice()),Array.isArray(m[k._name+".range"])?D=m[k._name+".range"].slice():Array.isArray((m[k._name]||{}).range)&&(D=m[k._name].range.slice()),w&&A&&(b.r2l(w[0])!==b.r2l(A[0])||b.r2l(w[1])!==b.r2l(A[1]))&&(T={xr0:w,xr1:A}),M&&D&&(k.r2l(M[0])!==k.r2l(D[0])||k.r2l(M[1])!==k.r2l(D[1]))&&(L={yr0:M,yr1:D}),(T||L)&&s.push(c.extendFlat({plotinfo:x},T,L))}}return Promise.resolve()},o.runFn=function(e){var r,i,o=t._fullLayout._basePlotModules,u=s.length;if(a)for(i=0;i<o.length;i++)o[i].transitionAxes&&o[i].transitionAxes(t,s,n,e);for(var d in u?((r=c.extendFlat({},n)).duration=0,delete l.cartesian):r=n,l){var f=l[d];t._fullData[f[0]]._module.basePlotModule.plot(t,f,r,e)}},S(t,n,o)},_.transitionFromReact=function(t,e,a,r){var i=t._fullLayout,n=i.transition,o={},l=[];return o.prepareFn=function(){var t=i._plots;for(var n in o.redraw=!1,"some"===e.anim&&(o.redraw=!0),"some"===a.anim&&(o.redraw=!0),t){var s=t[n],u=s.xaxis,d=s.yaxis,f=r[u._name].range.slice(),p=r[d._name].range.slice(),h=u.range.slice(),g=d.range.slice();u.setScale(),d.setScale();var m=null,y=null;u.r2l(f[0])===u.r2l(h[0])&&u.r2l(f[1])===u.r2l(h[1])||(m={xr0:f,xr1:h}),d.r2l(p[0])===d.r2l(g[0])&&d.r2l(p[1])===d.r2l(g[1])||(y={yr0:p,yr1:g}),(m||y)&&l.push(c.extendFlat({plotinfo:s},m,y))}return Promise.resolve()},o.runFn=function(a){for(var r,i,o,s=t._fullData,u=t._fullLayout._basePlotModules,d=[],f=0;f<s.length;f++)d.push(f);function p(){if(t._fullLayout)for(var e=0;e<u.length;e++)u[e].transitionAxes&&u[e].transitionAxes(t,l,r,a)}function h(){if(t._fullLayout)for(var e=0;e<u.length;e++)u[e].plot(t,o,i,a)}l.length&&e.anim?"traces first"===n.ordering?(r=c.extendFlat({},n,{duration:0}),o=d,i=n,setTimeout(p,n.duration),h()):(r=n,o=null,i=c.extendFlat({},n,{duration:0}),setTimeout(h,r.duration),p()):l.length?(r=n,p()):e.anim&&(o=d,i=n,h())},S(t,n,o)},_.doCalcdata=function(t,e){var a,r,i,n,o=p.list(t),u=t._fullData,d=t._fullLayout,h=new Array(u.length),g=(t.calcdata||[]).slice();for(t.calcdata=h,d._numBoxes=0,d._numViolins=0,d._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,d._piecolormap={},d._sunburstcolormap={},d._treemapcolormap={},d._iciclecolormap={},d._funnelareacolormap={},i=0;i<u.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(h[i]=g[i]);for(i=0;i<u.length;i++)(a=u[i])._arrayAttrs=s.findArrayAttributes(a),a._extremes={};var m=d._subplots.polar||[];for(i=0;i<m.length;i++)o.push(d[m[i]].radialaxis,d[m[i]].angularaxis);for(var y in d._colorAxes){var v=d[y];!1!==v.cauto&&(delete v.cmin,delete v.cmax)}var x=!1;function _(e){if(a=u[e],r=a._module,!0===a.visible&&a.transforms){if(r&&r.calc){var i=r.calc(t,a);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(n=0;n<a.transforms.length;n++){var o=a.transforms[n];(r=b[o.type])&&r.calcTransform&&(a._hasCalcTransform=!0,x=!0,r.calcTransform(t,a,o))}}}function k(e,i){if(a=u[e],!!(r=a._module).isContainer===i){var o=[];if(!0===a.visible&&0!==a._length){delete a._indexToPoints;var l=a.transforms||[];for(n=l.length-1;n>=0;n--)if(l[n].enabled){a._indexToPoints=l[n]._indexToPoints;break}r&&r.calc&&(o=r.calc(t,a))}Array.isArray(o)&&o[0]||(o=[{x:f,y:f}]),o[0].t||(o[0].t={}),o[0].trace=a,h[e]=o}}for(O(o,u,d),i=0;i<u.length;i++)k(i,!0);for(i=0;i<u.length;i++)_(i);for(x&&O(o,u,d),i=0;i<u.length;i++)k(i,!0);for(i=0;i<u.length;i++)k(i,!1);z(t);var w=function(t,e){var a,r,i,n,o,s=[];function u(t,a,r){var i=a._id.charAt(0);if("histogram2dcontour"===t){var n=a._counterAxes[0],o=p.getFromId(e,n),l="x"===i||"x"===n&&"category"===o.type,s="y"===i||"y"===n&&"category"===o.type;return function(t,e){return 0===t||0===e||l&&t===r[e].length-1||s&&e===r.length-1?-1:("y"===i?e:t)-1}}return function(t,e){return"y"===i?e:t}}var d={min:function(t){return c.aggNums(Math.min,null,t)},max:function(t){return c.aggNums(Math.max,null,t)},sum:function(t){return c.aggNums((function(t,e){return t+e}),null,t)},total:function(t){return c.aggNums((function(t,e){return t+e}),null,t)},mean:function(t){return c.mean(t)},median:function(t){return c.median(t)}};for(a=0;a<t.length;a++){var f=t[a];if("category"===f.type){var h=f.categoryorder.match(P);if(h){var g=h[1],m=h[2],y=f._id.charAt(0),v="x"===y,x=[];for(r=0;r<f._categories.length;r++)x.push([f._categories[r],[]]);for(r=0;r<f._traceIndices.length;r++){var _=f._traceIndices[r],b=e._fullData[_];if(!0===b.visible){var k=b.type;l.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var w="splom"===k,M="scattergl"===k,A=e.calcdata[_];for(i=0;i<A.length;i++){var D,T,L=A[i];if(w){var C=b._axesDim[f._id];if(!v){var F=b._diag[C][0];F&&(f=e._fullLayout[p.id2name(F)])}var I=L.trace.dimensions[C].values;for(n=0;n<I.length;n++)for(D=f._categoriesMap[I[n]],o=0;o<L.trace.dimensions.length;o++)if(o!==C){var S=L.trace.dimensions[o];x[D][1].push(S.values[n])}}else if(M){for(n=0;n<L.t.x.length;n++)v?(D=L.t.x[n],T=L.t.y[n]):(D=L.t.y[n],T=L.t.x[n]),x[D][1].push(T);L.t&&L.t._scene&&delete L.t._scene.dirty}else if(L.hasOwnProperty("z")){T=L.z;var O=u(b.type,f,T);for(n=0;n<T.length;n++)for(o=0;o<T[n].length;o++)(D=O(o,n))+1&&x[D][1].push(T[n][o])}else for(void 0===(D=L.p)&&(D=L[y]),void 0===(T=L.s)&&(T=L.v),void 0===T&&(T=v?L.y:L.x),Array.isArray(T)||(T=void 0===T?[]:[T]),n=0;n<T.length;n++)x[D][1].push(T[n])}}}f._categoriesValue=x;var z=[];for(r=0;r<x.length;r++)z.push([x[r][0],d[g](x[r][1])]);z.sort((function(t,e){return t[1]-e[1]})),f._categoriesAggregatedValue=z,f._initialCategories=z.map((function(t){return t[0]})),"descending"===m&&f._initialCategories.reverse(),s=s.concat(f.sortByInitialCategories())}}}return s}(o,t);if(w.length){for(d._numBoxes=0,d._numViolins=0,i=0;i<w.length;i++)k(w[i],!0);for(i=0;i<w.length;i++)k(w[i],!1);z(t)}l.getComponentMethod("fx","calc")(t),l.getComponentMethod("errorbars","calc")(t)};var P=/(total|sum|min|max|mean|median) (ascending|descending)/;function O(t,e,a){var r={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}c.simpleMap(t,i);for(var n=a._axisMatchGroups||[],o=0;o<n.length;o++)for(var l in n[o])r[l]||i(a[p.id2name(l)])}function z(t){var e,a,r,i=t._fullLayout,n=i._visibleModules,o={};for(a=0;a<n.length;a++){var l=n[a],s=l.crossTraceCalc;if(s){var u=l.basePlotModule.name;o[u]?c.pushUnique(o[u],s):o[u]=[s]}}for(r in o){var d=o[r],f=i._subplots[r];if(Array.isArray(f))for(e=0;e<f.length;e++){var p=f[e],h="cartesian"===r?i._plots[p]:i[p];for(a=0;a<d.length;a++)d[a](t,h,p)}else for(a=0;a<d.length;a++)d[a](t)}}_.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},_.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},_.generalUpdatePerTraceModule=function(t,e,a,r){var i,n=e.traceHash,o={};for(i=0;i<a.length;i++){var l=a[i],s=l[0].trace;s.visible&&(o[s.type]=o[s.type]||[],o[s.type].push(l))}for(var u in n)if(!o[u]){var d=n[u][0];d[0].trace.visible=!1,o[u]=[d]}for(var f in o){var p=o[f];p[0][0].trace._module.plot(t,e,c.filterVisible(p),r)}e.traceHash=o},_.plotBasePlot=function(t,e,a,r,i){var n=l.getModule(t),o=y(e.calcdata,n)[0];n.plot(e,o,r,i)},_.cleanBasePlot=function(t,e,a,r,i){var n=i._has&&i._has(t),o=a._has&&a._has(t);n&&!o&&i["_"+t+"layer"].selectAll("g.trace").remove()}},7908:function(t){t.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},73608:function(t,e,a){var r=a(47401),i=a(78899).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function u(t,e,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(e)-Math.sin(t)),u=d(Math.cos(e)-Math.cos(t)),c=Math.tan(a),f=d(1/c),p=s/u,h=l-p*o;return f?s&&u?n=c*(i=h/(c-p)):u?(i=l*f,n=l):(i=o,n=o*c):s&&u?(i=0,n=h):u?(i=0,n=l):i=n=NaN,[i,n]}function c(t,e,a,i){return r.isFullCircle([e,a])?function(t,e){var a,r=e.length,i=new Array(r+1);for(a=0;a<r;a++){var n=e[a];i[a]=[t*Math.cos(n),t*Math.sin(n)]}return i[a]=i[0].slice(),i}(t,i):function(t,e,a,i){var l,c,d=i.length,f=[];function p(e){return[t*Math.cos(e),t*Math.sin(e)]}function h(t,e,a){return u(t,e,a,p(t))}function g(t){return r.mod(t,d)}function m(t){return o(t,[e,a])}var y=n(i,(function(t){return m(t)?s(t,e):1/0})),v=h(i[y],i[g(y-1)],e);for(f.push(v),l=y,c=0;c<d;l++,c++){var x=i[g(l)];if(!m(x))break;f.push(p(x))}var _=n(i,(function(t){return m(t)?s(t,a):1/0})),b=h(i[_],i[g(_+1)],a);return f.push(b),f.push([0,0]),f.push(f[0].slice()),f}(t,e,a,i)}function d(t){return Math.abs(t)>1e-10?t:0}function f(t,e,a){e=e||0,a=a||0;for(var r=t.length,i=new Array(r),n=0;n<r;n++){var o=t[n];i[n]=[e+o[0],a-o[1]]}return i}t.exports={isPtInsidePolygon:function(t,e,a,r,n){if(!o(e,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var u=i(c(l,r[0],r[1],n)),d=i(c(s,r[0],r[1],n)),f=[t*Math.cos(e),t*Math.sin(e)];return d.contains(f)&&!u.contains(f)},findPolygonOffset:function(t,e,a,r){for(var i=1/0,n=1/0,o=c(t,e,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(t,e){var a=n(e,(function(e){var a=l(e,t);return a>0?a:1/0})),i=r.mod(a+1,e.length);return[e[a],e[i]]},findIntersectionXY:u,findXYatLength:function(t,e,a,r){var i=-e*a,n=e*e+1,o=2*(e*i-a),l=i*i+a*a-t*t,s=Math.sqrt(o*o-4*n*l),u=(-o+s)/(2*n),c=(-o-s)/(2*n);return[[u,e*u+i+r],[c,e*c+i+r]]},clampTiny:d,pathPolygon:function(t,e,a,r,i,n){return"M"+f(c(t,e,a,r),i,n).join("L")},pathPolygonAnnulus:function(t,e,a,r,i,n,o){var l,s;t<e?(l=t,s=e):(l=e,s=t);var u=f(c(l,a,r,i),n,o);return"M"+f(c(s,a,r,i),n,o).reverse().join("L")+"M"+u.join("L")}}},70029:function(t,e,a){var r=a(13373).fX,i=a(47401).counterRegex,n=a(35193),o=a(7908),l=o.attr,s=o.name,u=i(s),c={};c[l]={valType:"subplotid",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},t.exports={attr:l,name:s,idRoot:s,idRegex:u,attrRegex:u,attributes:c,layoutAttributes:a(98363),supplyLayoutDefaults:a(41564),plot:function(t){for(var e=t._fullLayout,a=t.calcdata,i=e._subplots[s],o=0;o<i.length;o++){var l=i[o],u=r(a,s,l),c=e[l]._subplot;c||(c=n(t,l),e[l]._subplot=c),c.plot(u,e,t._promises)}},clean:function(t,e,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=e._has&&e._has("gl"),l=n&&!o,u=0;u<i.length;u++){var c=i[u],d=r[c]._subplot;if(!e[c]&&d)for(var f in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[f].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(66807).toSVG}},98363:function(t,e,a){var r=a(62405),i=a(33333),n=a(16688).u,o=a(47401).extendFlat,l=a(17342).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth},"plot","from-root"),u=l({tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),c={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(c,s,u);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},autotypenumbers:i.autotypenumbers,categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,u),t.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:c,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},41564:function(t,e,a){var r=a(47401),i=a(31454),n=a(92704),o=a(20112),l=a(13373).KO,s=a(37801),u=a(49593),c=a(51860),d=a(91289),f=a(28205),p=a(60210),h=a(98363),g=a(48113),m=a(7908),y=m.axisNames;function v(t,e,a,o){var p=a("bgcolor");o.bgColor=i.combine(p,o.paper_bgcolor);var v=a("sector");a("hole");var _,b=l(o.fullData,m.name,o.id),k=o.layoutOut;function w(t,e){return a(_+"."+t,e)}for(var M=0;M<y.length;M++){_=y[M],r.isPlainObject(t[_])||(t[_]={});var A=t[_],D=n.newContainer(e,_);D._id=D._name=_,D._attr=o.id+"."+_,D._traceIndices=b.map((function(t){return t._expandedIndex}));var T=m.axisName2dataArray[_],L=x(A,D,w,b,T,o);d(A,D,w,{axData:b,dataAttr:T});var C,F,I=w("visible");switch(g(D,e,k),w("uirevision",e.uirevision),I&&(F=(C=w("color"))===A.color?C:o.font.color),D._m=1,_){case"radialaxis":var S=w("autorange",!D.isValidRange(A.range));A.autorange=S,!S||"linear"!==L&&"-"!==L||w("rangemode"),"reversed"===S&&(D._m=-1),w("range"),D.cleanRange("range",{dfltRange:[0,1]}),I&&(w("side"),w("angle",v[0]),w("title.text"),r.coerceFont(w,"title.font",{family:o.font.family,size:r.bigFont(o.font.size),color:F}));break;case"angularaxis":if("date"===L){r.log("Polar plots do not support date angular axes yet.");for(var P=0;P<b.length;P++)b[P].visible=!1;L=A.type=D.type="linear"}w("linear"===L?"thetaunit":"period");var O=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[O])}if(I)s(A,D,w,D.type),c(A,D,w,D.type,{tickSuffixDflt:"degrees"===D.thetaunit?"\xb0":void 0}),u(A,D,w,{outerTicks:!0}),w("showticklabels")&&(r.coerceFont(w,"tickfont",{family:o.font.family,size:o.font.size,color:F}),w("tickangle"),w("tickformat")),f(A,D,w,{dfltColor:C,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h[_]}),w("layer");"category"!==L&&w("hoverformat"),D._input=A}"category"===e.angularaxis.type&&a("gridshape")}function x(t,e,a,r,i,n){var o=a("autotypenumbers",n.autotypenumbersDflt);if("-"===a("type")){for(var l,s=0;s<r.length;s++)if(r[s].visible){l=r[s];break}l&&l[i]&&(e.type=p(l[i],"gregorian",{noMultiCategory:!0,autotypenumbers:o})),"-"===e.type?e.type="linear":t.type=e.type}return e.type}t.exports=function(t,e,a){o(t,e,a,{type:m.name,attributes:h,handleDefaults:v,font:e.font,autotypenumbersDflt:e.autotypenumbers,paper_bgcolor:e.paper_bgcolor,fullData:a,layoutOut:e})}},35193:function(t,e,a){var r=a(62258),i=a(91771),n=a(62282),o=a(47401),l=o.strRotate,s=o.strTranslate,u=a(31454),c=a(41707),d=a(35722),f=a(37762),p=a(58947),h=a(48113),g=a(9319).doAutoRange,m=a(15696),y=a(52783),v=a(21661),x=a(50075),_=a(88987).prepSelect,b=a(88987).selectOnClick,k=a(88987).clearSelect,w=a(82559),M=a(43351),A=a(665).redrawReglTraces,D=a(60482).MID_SHIFT,T=a(7908),L=a(73608),C=o._,F=o.mod,I=o.deg2rad,S=o.rad2deg;function P(t,e){this.id=e,this.gd=t,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=t._fullLayout,r="clip"+a._uid+e;this.clipIds.forTraces=r+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",e),this.radialTickLayout=null,this.angularTickLayout=null}var O=P.prototype;function z(t){var e=t.ticks+String(t.ticklen)+String(t.showticklabels);return"side"in t&&(e+=t.side),e}function R(t,e){return e[o.findIndexOfMin(e,(function(e){return o.angleDist(t,e)}))]}function j(t,e,a){return e?(t.attr("display",null),t.attr(a)):t&&t.attr("display","none"),t}t.exports=function(t,e){return new P(t,e)},O.plot=function(t,e){var a=this,r=e[a.id];a._hasClipOnAxisFalse=!1;for(var i=0;i<t.length;i++){if(!1===t[i][0].trace.cliponaxis){a._hasClipOnAxisFalse=!0;break}}a.updateLayers(e,r),a.updateLayout(e,r),d.generalUpdatePerTraceModule(a.gd,a,t,r),a.updateFx(e,r)},O.updateLayers=function(t,e){var a=this.layers,i=e.radialaxis,n=e.angularaxis,o=T.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),u="below traces"===n.layer,c="below traces"===i.layer;u&&s.push("angular-line"),c&&s.push("radial-line"),u&&s.push("angular-axis"),c&&s.push("radial-axis"),s.push("frontplot"),u||s.push("angular-line"),c||s.push("radial-line"),u||s.push("angular-axis"),c||s.push("radial-axis");var d=this.framework.selectAll(".polarsublayer").data(s,String);d.enter().append("g").attr("class",(function(t){return"polarsublayer "+t})).each((function(t){var e=a[t]=r.select(this);switch(t){case"frontplot":e.append("g").classed("barlayer",!0),e.append("g").classed("scatterlayer",!0);break;case"backplot":e.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=e.append("path");break;case"radial-grid":case"angular-grid":e.style("fill","none");break;case"radial-line":e.append("line").style("fill","none");break;case"angular-line":e.append("path").style("fill","none")}})),d.order()},O.updateLayout=function(t,e){var a=this,r=a.layers,i=t._size,n=e.radialaxis,o=e.angularaxis,l=e.domain.x,d=e.domain.y;a.xOffset=i.l+i.w*l[0],a.yOffset=i.t+i.h*(1-d[1]);var f=a.xLength=i.w*(l[1]-l[0]),p=a.yLength=i.h*(d[1]-d[0]),h=e.sector;a.sectorInRad=h.map(I);var g,m,y,v,x,_=a.sectorBBox=function(t){var e,a,r,i,n=t[0],o=t[1],l=o-n,s=F(n,360),u=s+l,c=Math.cos(I(s)),d=Math.sin(I(s)),f=Math.cos(I(u)),p=Math.sin(I(u));i=s<=90&&u>=90||s>90&&u>=450?1:d<=0&&p<=0?0:Math.max(d,p);e=s<=180&&u>=180||s>180&&u>=540?-1:c>=0&&f>=0?0:Math.min(c,f);a=s<=270&&u>=270||s>270&&u>=630?-1:d>=0&&p>=0?0:Math.min(d,p);r=u>=360?1:c<=0&&f<=0?0:Math.max(c,f);return[e,a,r,i]}(h),b=_[2]-_[0],k=_[3]-_[1],w=p/f,M=Math.abs(k/b);w>M?(g=f,x=(p-(m=f*M))/i.h/2,y=[l[0],l[1]],v=[d[0]+x,d[1]-x]):(m=p,x=(f-(g=p/M))/i.w/2,y=[l[0]+x,l[1]-x],v=[d[0],d[1]]),a.xLength2=g,a.yLength2=m,a.xDomain2=y,a.yDomain2=v;var A=a.xOffset2=i.l+i.w*y[0],D=a.yOffset2=i.t+i.h*(1-v[1]),T=a.radius=g/b,L=a.innerRadius=e.hole*T,C=a.cx=A-T*_[0],S=a.cy=D+T*_[3],P=a.cxx=C-A,O=a.cyy=S-D;a.radialAxis=a.mockAxis(t,e,n,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[n.side],_realSide:n.side,domain:[L/i.w,T/i.w]}),a.angularAxis=a.mockAxis(t,e,o,{side:"right",domain:[0,Math.PI],autorange:!1}),a.doAutoRange(t,e),a.updateAngularAxis(t,e),a.updateRadialAxis(t,e),a.updateRadialAxisTitle(t,e),a.xaxis=a.mockCartesianAxis(t,e,{_id:"x",domain:y}),a.yaxis=a.mockCartesianAxis(t,e,{_id:"y",domain:v});var z=a.pathSubplot();a.clipPaths.forTraces.select("path").attr("d",z).attr("transform",s(P,O)),r.frontplot.attr("transform",s(A,D)).call(c.setClipUrl,a._hasClipOnAxisFalse?null:a.clipIds.forTraces,a.gd),r.bg.attr("d",z).attr("transform",s(C,S)).call(u.fill,e.bgcolor)},O.mockAxis=function(t,e,a,r){var i=o.extendFlat({},a,r);return h(i,e,t),i},O.mockCartesianAxis=function(t,e,a){var r=this,i=a._id,n=o.extendFlat({type:"linear"},a);p(n,t);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var t=r.sectorBBox,a=l[i],o=r.radialAxis._rl,s=(o[1]-o[0])/(1-e.hole);n.range=[t[a[0]]*s,t[a[1]]*s]},n.isPtWithinRange="x"===i?function(t){return r.isPtInside(t)}:function(){return!0},n.setRange(),n.setScale(),n},O.doAutoRange=function(t,e){var a=this.gd,r=this.radialAxis,i=e.radialaxis;r.setScale(),g(a,r);var n=r.range;i.range=n.slice(),i._input.range=n.slice(),r._rl=[r.r2l(n[0],null,"gregorian"),r.r2l(n[1],null,"gregorian")]},O.updateRadialAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,c=a.innerRadius,d=a.cx,p=a.cy,h=e.radialaxis,g=F(e.sector[0],360),m=a.radialAxis,y=c<n;a.fillViewInitialKey("radialaxis.angle",h.angle),a.fillViewInitialKey("radialaxis.range",m.range.slice()),m.setGeometry(),"auto"===m.tickangle&&g>90&&g<=270&&(m.tickangle=180);var v=function(t){return s(m.l2p(t.x)+c,0)},x=z(h);if(a.radialTickLayout!==x&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=x),y){m.setScale();var _=f.calcTicks(m),b=f.clipEnds(m,_),k=f.getTickSigns(m)[2];f.drawTicks(r,m,{vals:_,layer:i["radial-axis"],path:f.makeTickPath(m,0,k),transFn:v,crisp:!1}),f.drawGrid(r,m,{vals:b,layer:i["radial-grid"],path:function(t){return a.pathArc(m.r2p(t.x)+c)},transFn:o.noop,crisp:!1}),f.drawLabels(r,m,{vals:_,layer:i["radial-axis"],transFn:v,labelFns:f.makeLabelFns(m,0)})}var w=a.radialAxisAngle=a.vangles?S(R(I(h.angle),a.vangles)):h.angle,M=s(d,p),A=M+l(-w);j(i["radial-axis"],y&&(h.showticklabels||h.ticks),{transform:A}),j(i["radial-grid"],y&&h.showgrid,{transform:M}),j(i["radial-line"].select("line"),y&&h.showline,{x1:c,y1:0,x2:n,y2:0,transform:A}).attr("stroke-width",h.linewidth).call(u.stroke,h.linecolor)},O.updateRadialAxisTitle=function(t,e,a){var r=this,i=r.gd,n=r.radius,o=r.cx,l=r.cy,s=e.radialaxis,u=r.id+"title",d=void 0!==a?a:r.radialAxisAngle,f=I(d),p=Math.cos(f),h=Math.sin(f),g=0;if(s.title){var m=c.bBox(r.layers["radial-axis"].node()).height,y=s.title.font.size;g="counterclockwise"===s.side?-m-.4*y:m+.8*y}r.layers["radial-axis-title"]=x.draw(i,u,{propContainer:s,propName:r.id+".radialaxis.title",placeholder:C(i,"Click to enter radial axis title"),attributes:{x:o+n/2*p+g*h,y:l-n/2*h+g*p,"text-anchor":"middle"},transform:{rotate:-d}})},O.updateAngularAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,c=a.innerRadius,d=a.cx,p=a.cy,h=e.angularaxis,g=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",h.rotation),g.setGeometry(),g.setScale();var m=function(t){return g.t2g(t.x)};"linear"===g.type&&"radians"===g.thetaunit&&(g.tick0=S(g.tick0),g.dtick=S(g.dtick));var y=function(t){return s(d+n*Math.cos(t),p-n*Math.sin(t))},v=f.makeLabelFns(g,0).labelStandoff,x={xFn:function(t){var e=m(t);return Math.cos(e)*v},yFn:function(t){var e=m(t),a=Math.sin(e)>0?.2:1;return-Math.sin(e)*(v+t.fontSize*a)+Math.abs(Math.cos(e))*(t.fontSize*D)},anchorFn:function(t){var e=m(t),a=Math.cos(e);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(t,e,a){var r=m(t);return-.5*(1+Math.sin(r))*a}},_=z(h);a.angularTickLayout!==_&&(i["angular-axis"].selectAll("."+g._id+"tick").remove(),a.angularTickLayout=_);var b,k=f.calcTicks(g);if("linear"===e.gridshape?(b=k.map(m),o.angleDelta(b[0],b[1])<0&&(b=b.slice().reverse())):b=null,a.vangles=b,"category"===g.type&&(k=k.filter((function(t){return o.isAngleInsideSector(m(t),a.sectorInRad)}))),g.visible){var w="inside"===g.ticks?-1:1,M=(g.linewidth||1)/2;f.drawTicks(r,g,{vals:k,layer:i["angular-axis"],path:"M"+w*M+",0h"+w*g.ticklen,transFn:function(t){var e=m(t);return y(e)+l(-S(e))},crisp:!1}),f.drawGrid(r,g,{vals:k,layer:i["angular-grid"],path:function(t){var e=m(t),a=Math.cos(e),r=Math.sin(e);return"M"+[d+c*a,p-c*r]+"L"+[d+n*a,p-n*r]},transFn:o.noop,crisp:!1}),f.drawLabels(r,g,{vals:k,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:function(t){return y(m(t))},labelFns:x})}j(i["angular-line"].select("path"),h.showline,{d:a.pathSubplot(),transform:s(d,p)}).attr("stroke-width",h.linewidth).call(u.stroke,h.linecolor)},O.updateFx=function(t,e){this.gd._context.staticPlot||(this.updateAngularDrag(t),this.updateRadialDrag(t,e,0),this.updateRadialDrag(t,e,1),this.updateMainDrag(t))},O.updateMainDrag=function(t){var e,a,l=this,u=l.gd,c=l.layers,d=t._zoomlayer,f=T.MINZOOM,p=T.OFFEDGE,h=l.radius,g=l.innerRadius,x=l.cx,w=l.cy,M=l.cxx,A=l.cyy,D=l.sectorInRad,C=l.vangles,F=l.radialAxis,I=L.clampTiny,S=L.findXYatLength,P=L.findEnclosingVertexAngles,O=T.cornerHalfWidth,z=T.cornerLen/2,R=m.makeDragger(c,"path","maindrag","crosshair");r.select(R).attr("d",l.pathSubplot()).attr("transform",s(x,w));var j,N,U,B,G,H,Z,q,E,W={element:R,gd:u,subplot:l.id,plotinfo:{id:l.id,xaxis:l.xaxis,yaxis:l.yaxis},xaxes:[l.xaxis],yaxes:[l.yaxis]};function V(t,e){return Math.sqrt(t*t+e*e)}function X(t,e){return V(t-M,e-A)}function Y(t,e){return Math.atan2(A-e,t-M)}function K(t,e){return[t*Math.cos(e),t*Math.sin(-e)]}function J(t,e){if(0===t)return l.pathSector(2*O);var a=z/t,r=e-a,i=e+a,n=Math.max(0,Math.min(t,h)),o=n-O,s=n+O;return"M"+K(o,r)+"A"+[o,o]+" 0,0,0 "+K(o,i)+"L"+K(s,i)+"A"+[s,s]+" 0,0,1 "+K(s,r)+"Z"}function $(t,e,a){if(0===t)return l.pathSector(2*O);var r,i,n=K(t,e),o=K(t,a),s=I((n[0]+o[0])/2),u=I((n[1]+o[1])/2);if(s&&u){var c=u/s,d=-1/c,f=S(O,c,s,u);r=S(z,d,f[0][0],f[0][1]),i=S(z,d,f[1][0],f[1][1])}else{var p,h;u?(p=z,h=O):(p=O,h=z),r=[[s-p,u-h],[s+p,u-h]],i=[[s-p,u+h],[s+p,u+h]]}return"M"+r.join("L")+"L"+i.reverse().join("L")+"Z"}function Q(t,e){return e=Math.max(Math.min(e,h),g),t<p?t=0:h-t<p?t=h:e<p?e=0:h-e<p&&(e=h),Math.abs(e-t)>f?(t<e?(U=t,B=e):(U=e,B=t),!0):(U=null,B=null,!1)}function tt(t,e){t=t||G,e=e||"M0,0Z",q.attr("d",t),E.attr("d",e),m.transitionZoombox(q,E,H,Z),H=!0;var a={};nt(a),u.emit("plotly_relayouting",a)}function et(t,r){var i,n,o=j+(t*=e),s=N+(r*=a),u=X(j,N),c=Math.min(X(o,s),h),d=Y(j,N);Q(u,c)&&(i=G+l.pathSector(B),U&&(i+=l.pathSector(U)),n=J(U,d)+J(B,d)),tt(i,n)}function at(t,e,a,r){var i=L.findIntersectionXY(a,r,a,[t-M,A-e]);return V(i[0],i[1])}function rt(t,e){var a,r,i=j+t,n=N+e,o=Y(j,N),s=Y(i,n),u=P(o,C),c=P(s,C);Q(at(j,N,u[0],u[1]),Math.min(at(i,n,c[0],c[1]),h))&&(a=G+l.pathSector(B),U&&(a+=l.pathSector(U)),r=[$(U,u[0],u[1]),$(B,u[0],u[1])].join(" ")),tt(a,r)}function it(){if(m.removeZoombox(u),null!==U&&null!==B){var t={};nt(t),m.showDoubleClickNotifier(u),n.call("_guiRelayout",u,t)}}function nt(t){var e=F._rl,a=(e[1]-e[0])/(1-g/h)/h,r=[e[0]+(U-g)*a,e[0]+(B-g)*a];t[l.id+".radialaxis.range"]=r}function ot(t,e){var a=u._fullLayout.clickmode;if(m.removeZoombox(u),2===t){var r={};for(var i in l.viewInitial)r[l.id+"."+i]=l.viewInitial[i];u.emit("plotly_doubleclick",null),n.call("_guiRelayout",u,r)}a.indexOf("select")>-1&&1===t&&b(e,u,[l.xaxis],[l.yaxis],l.id,W),a.indexOf("event")>-1&&v.click(u,e,l.id)}W.prepFn=function(t,r,n){var s=u._fullLayout.dragmode,c=R.getBoundingClientRect();u._fullLayout._calcInverseTransform(u);var f=u._fullLayout._invTransform;e=u._fullLayout._invScaleX,a=u._fullLayout._invScaleY;var p=o.apply3DTransform(f)(r-c.left,n-c.top);if(j=p[0],N=p[1],C){var g=L.findPolygonOffset(h,D[0],D[1],C);j+=M+g[0],N+=A+g[1]}switch(s){case"zoom":W.moveFn=C?rt:et,W.clickFn=ot,W.doneFn=it,function(){U=null,B=null,G=l.pathSubplot(),H=!1;var t=u._fullLayout[l.id];Z=i(t.bgcolor).getLuminance(),(q=m.makeZoombox(d,Z,x,w,G)).attr("fill-rule","evenodd"),E=m.makeCorners(d,x,w),k(u)}();break;case"select":case"lasso":_(t,r,n,W,s)}},R.onmousemove=function(t){v.hover(u,t,l.id),u._fullLayout._lasthover=R,u._fullLayout._hoversubplot=l.id},R.onmouseout=function(t){u._dragging||y.unhover(u,t)},y.init(W)},O.updateRadialDrag=function(t,e,a){var i=this,u=i.gd,c=i.layers,d=i.radius,f=i.innerRadius,p=i.cx,h=i.cy,g=i.radialAxis,v=T.radialDragBoxSize,x=v/2;if(g.visible){var _,b,w,D=I(i.radialAxisAngle),L=g._rl,C=L[0],F=L[1],P=L[a],O=.75*(L[1]-L[0])/(1-e.hole)/d;a?(_=p+(d+x)*Math.cos(D),b=h-(d+x)*Math.sin(D),w="radialdrag"):(_=p+(f-x)*Math.cos(D),b=h-(f-x)*Math.sin(D),w="radialdrag-inner");var z,N,U,B=m.makeRectDragger(c,w,"crosshair",-x,-x,v,v),G={element:B,gd:u};j(r.select(B),g.visible&&f<d,{transform:s(_,b)}),G.prepFn=function(){z=null,N=null,U=null,G.moveFn=H,G.doneFn=Z,k(u)},G.clampFn=function(t,e){return Math.sqrt(t*t+e*e)<T.MINDRAG&&(t=0,e=0),[t,e]},y.init(G)}function H(t,e){if(z)z(t,e);else{var r=[t,-e],n=[Math.cos(D),Math.sin(D)],l=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(l)||(z=l<.5?q:E)}var s={};!function(t){null!==N?t[i.id+".radialaxis.angle"]=N:null!==U&&(t[i.id+".radialaxis.range["+a+"]"]=U)}(s),u.emit("plotly_relayouting",s)}function Z(){null!==N?n.call("_guiRelayout",u,i.id+".radialaxis.angle",N):null!==U&&n.call("_guiRelayout",u,i.id+".radialaxis.range["+a+"]",U)}function q(t,e){if(0!==a){var r=_+t,n=b+e;N=Math.atan2(h-n,r-p),i.vangles&&(N=R(N,i.vangles)),N=S(N);var o=s(p,h)+l(-N);c["radial-axis"].attr("transform",o),c["radial-line"].select("line").attr("transform",o);var u=i.gd._fullLayout,d=u[i.id];i.updateRadialAxisTitle(u,d,N)}}function E(t,e){var r=o.dot([t,-e],[Math.cos(D),Math.sin(D)]);if(U=P-O*r,O>0===(a?U>C:U<F)){var l=u._fullLayout,s=l[i.id];g.range[a]=U,g._rl[a]=U,i.updateRadialAxis(l,s),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var c=!1;for(var d in i.traceHash){var f=i.traceHash[d],p=o.filterVisible(f);f[0][0].trace._module.plot(u,i,p,s),n.traceIs(d,"gl")&&p.length&&(c=!0)}c&&(M(u),A(u))}else U=null}},O.updateAngularDrag=function(t){var e=this,a=e.gd,i=e.layers,u=e.radius,d=e.angularAxis,f=e.cx,p=e.cy,h=e.cxx,g=e.cyy,v=T.angularDragBoxSize,x=m.makeDragger(i,"path","angulardrag","move"),_={element:x,gd:a};function b(t,e){return Math.atan2(g+v-e,t-h-v)}r.select(x).attr("d",e.pathAnnulus(u,u+v)).attr("transform",s(f,p)).call(w,"move");var D,L,C,F,I,P,O=i.frontplot.select(".scatterlayer").selectAll(".trace"),z=O.selectAll(".point"),R=O.selectAll(".textpoint");function j(u,m){var y=e.gd._fullLayout,v=y[e.id],x=b(D+u*t._invScaleX,L+m*t._invScaleY),_=S(x-P);if(F=C+_,i.frontplot.attr("transform",s(e.xOffset2,e.yOffset2)+l([-_,h,g])),e.vangles){I=e.radialAxisAngle+_;var k=s(f,p)+l(-_),w=s(f,p)+l(-I);i.bg.attr("transform",k),i["radial-grid"].attr("transform",k),i["radial-axis"].attr("transform",w),i["radial-line"].select("line").attr("transform",w),e.updateRadialAxisTitle(y,v,I)}else e.clipPaths.forTraces.select("path").attr("transform",s(h,g)+l(_));z.each((function(){var t=r.select(this),e=c.getTranslate(t);t.attr("transform",s(e.x,e.y)+l([_]))})),R.each((function(){var t=r.select(this),e=t.select("text"),a=c.getTranslate(t);t.attr("transform",l([_,e.attr("x"),e.attr("y")])+s(a.x,a.y))})),d.rotation=o.modHalf(F,360),e.updateAngularAxis(y,v),e._hasClipOnAxisFalse&&!o.isFullCircle(e.sectorInRad)&&O.call(c.hideOutsideRangePoints,e);var T=!1;for(var j in e.traceHash)if(n.traceIs(j,"gl")){var U=e.traceHash[j],B=o.filterVisible(U);U[0][0].trace._module.plot(a,e,B,v),B.length&&(T=!0)}T&&(M(a),A(a));var G={};N(G),a.emit("plotly_relayouting",G)}function N(t){t[e.id+".angularaxis.rotation"]=F,e.vangles&&(t[e.id+".radialaxis.angle"]=I)}function U(){R.select("text").attr("transform",null);var t={};N(t),n.call("_guiRelayout",a,t)}_.prepFn=function(r,i,n){var l=t[e.id];C=l.angularaxis.rotation;var s=x.getBoundingClientRect();D=i-s.left,L=n-s.top,a._fullLayout._calcInverseTransform(a);var u=o.apply3DTransform(t._invTransform)(D,L);D=u[0],L=u[1],P=b(D,L),_.moveFn=j,_.doneFn=U,k(a)},e.vangles&&!o.isFullCircle(e.sectorInRad)&&(_.prepFn=o.noop,w(r.select(x),null)),y.init(_)},O.isPtInside=function(t){var e=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(t.theta),i=this.radialAxis,n=i.c2l(t.r),l=i._rl;return(a?L.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,e,a)},O.pathArc=function(t){var e=this.sectorInRad,a=this.vangles;return(a?L.pathPolygon:o.pathArc)(t,e[0],e[1],a)},O.pathSector=function(t){var e=this.sectorInRad,a=this.vangles;return(a?L.pathPolygon:o.pathSector)(t,e[0],e[1],a)},O.pathAnnulus=function(t,e){var a=this.sectorInRad,r=this.vangles;return(r?L.pathPolygonAnnulus:o.pathAnnulus)(t,e,a[0],a[1],r)},O.pathSubplot=function(){var t=this.innerRadius,e=this.radius;return t?this.pathAnnulus(t,e):this.pathSector(e)},O.fillViewInitialKey=function(t,e){t in this.viewInitial||(this.viewInitial[t]=e)}},48113:function(t,e,a){var r=a(47401),i=a(58947),n=r.deg2rad,o=r.rad2deg;t.exports=function(t,e,a){switch(i(t,a),t._id){case"x":case"radialaxis":!function(t,e){var a=e._subplot;t.setGeometry=function(){var e=t._rl[0],r=t._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-e),o=i/n,l=e>r?function(t){return t<=0}:function(t){return t>=0};t.c2g=function(a){var r=t.c2l(a)-e;return(l(r)?r:0)+o},t.g2c=function(a){return t.l2c(a+e-o)},t.g2p=function(t){return t*n},t.c2p=function(e){return t.g2p(t.c2g(e))}}}(t,e);break;case"angularaxis":!function(t,e){var a=t.type;if("linear"===a){var i=t.d2c,l=t.c2d;t.d2c=function(t,e){return function(t,e){return"degrees"===e?n(t):t}(i(t),e)},t.c2d=function(t,e){return l(function(t,e){return"degrees"===e?o(t):t}(t,e))}}t.makeCalcdata=function(e,i){var n,o,l=e[i],s=e._length,u=function(a){return t.d2c(a,e.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=u(l[o])}else{var c=i+"0",d="d"+i,f=c in e?u(e[c]):0,p=e[d]?u(e[d]):(t.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=f+o*p}return n},t.setGeometry=function(){var i,l,s,u,c=e.sector,d=c.map(n),f={clockwise:-1,counterclockwise:1}[t.direction],p=n(t.rotation),h=function(t){return f*t+p},g=function(t){return(t-p)/f};switch(a){case"linear":l=i=r.identity,u=n,s=o,t.range=r.isFullCircle(d)?[c[0],c[0]+360]:d.map(g).map(o);break;case"category":var m=t._categories.length,y=t.period?Math.max(t.period,m):m;0===y&&(y=1),l=u=function(t){return 2*t*Math.PI/y},i=s=function(t){return t*y/Math.PI/2},t.range=[0,y]}t.c2g=function(t){return h(l(t))},t.g2c=function(t){return i(g(t))},t.t2g=function(t){return h(u(t))},t.g2t=function(t){return s(g(t))}}}(t,e)}}},20112:function(t,e,a){var r=a(47401),i=a(92704),n=a(16688).N;t.exports=function(t,e,a,o){var l,s,u=o.type,c=o.attributes,d=o.handleDefaults,f=o.partition||"x",p=e._subplots[u],h=p.length,g=h&&p[0].replace(/\d+$/,"");function m(t,e){return r.coerce(l,s,c,t,e)}for(var y=0;y<h;y++){var v=p[y];l=t[v]?t[v]:t[v]={},s=i.newContainer(e,v,g),m("uirevision",e.uirevision);var x={};x[f]=[y/h,(y+1)/h],n(s,e,m,x),o.id=v,d(l,s,m,o)}}},4216:function(t,e,a){var r=a(95888),i=r.FORMAT_LINK,n=r.DATE_FORMAT_LINK;function o(t){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t&&t.supportOther?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),'Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',i,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',n,"for details on the date formatting syntax."].join(" ")}function l(t){var e=t.description?" "+t.description:"",a=t.keys||[];if(a.length>0){for(var r=[],i=0;i<a.length;i++)r[i]="`"+a[i]+"`";e+="Finally, the template string has access to ",e=1===a.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}e.r=function(t,e){t=t||{};var a=l(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",o({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",a,'Anything contained in tag `<extra>` is displayed in the secondary box, for example "<extra>{fullData.name}</extra>".',"To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r},e.a=function(t,e){t=t||{};var a=l(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",o(),"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",a].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r}},31974:function(t,e,a){var r=a(77989),i=a(13373).fX,n=a(47401).counterRegex,o="ternary";e.name=o;var l=e.attr="subplot";e.idRoot=o,e.idRegex=e.attrRegex=n(o),(e.attributes={})[l]={valType:"subplotid",dflt:"ternary",editType:"calc",description:["Sets a reference between this trace's data coordinates and","a ternary subplot.","If *ternary* (the default value), the data refer to `layout.ternary`.","If *ternary2*, the data refer to `layout.ternary2`, and so on."].join(" ")},e.layoutAttributes=a(60536),e.supplyLayoutDefaults=a(13551),e.plot=function(t){for(var e=t._fullLayout,a=t.calcdata,n=e._subplots[o],l=0;l<n.length;l++){var s=n[l],u=i(a,o,s),c=e[s]._subplot;c||(c=new r({id:s,graphDiv:t,container:e._ternarylayer.node()},e),e[s]._subplot=c),c.plot(u,e,t._promises)}},e.clean=function(t,e,a,r){for(var i=r._subplots[o]||[],n=0;n<i.length;n++){var l=i[n],s=r[l]._subplot;!e[l]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},60536:function(t,e,a){var r=a(62405),i=a(16688).u,n=a(33333),o=a(17342).overrideAll,l=a(87241).extendFlat,s={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.tickmode,nticks:l({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:l({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:l({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,layer:n.layer,min:{valType:"number",dflt:0,min:0,description:["The minimum value visible on this axis.","The maximum is determined by the sum minus the minimum","values of the other two axes. The full view corresponds to","all the minima set to zero."].join(" ")},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},u=t.exports=o({domain:i({name:"ternary"}),bgcolor:{valType:"color",dflt:r.background,description:"Set the background color of the subplot"},sum:{valType:"number",dflt:1,min:0,description:["The number each triplet should sum to,","and the maximum range of each axis"].join(" ")},aaxis:s,baxis:s,caxis:s},"plot","from-root");u.uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `min` and `title`,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},u.aaxis.uirevision=u.baxis.uirevision=u.caxis.uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `min`,","and `title` if in `editable: true` configuration.","Defaults to `ternary<N>.uirevision`."].join(" ")}},13551:function(t,e,a){var r=a(31454),i=a(92704),n=a(47401),o=a(20112),l=a(51860),s=a(49593),u=a(37801),c=a(28205),d=a(60536),f=["aaxis","baxis","caxis"];function p(t,e,a,n){var o,l,s,u=a("bgcolor"),c=a("sum");n.bgColor=r.combine(u,n.paper_bgcolor);for(var d=0;d<f.length;d++)l=t[o=f[d]]||{},(s=i.newContainer(e,o))._name=o,h(l,s,n,e);var p=e.aaxis,g=e.baxis,m=e.caxis;p.min+g.min+m.min>=c&&(p.min=0,g.min=0,m.min=0,t.aaxis&&delete t.aaxis.min,t.baxis&&delete t.baxis.min,t.caxis&&delete t.caxis.min)}function h(t,e,a,r){var i=d[e._name];function o(a,r){return n.coerce(t,e,i,a,r)}o("uirevision",r.uirevision),e.type="linear";var f=o("color"),p=f!==i.color.dflt?f:a.font.color,h=e._name.charAt(0).toUpperCase(),g="Component "+h,m=o("title.text",g);e._hovertitle=m===g?m:h,n.coerceFont(o,"title.font",{family:a.font.family,size:n.bigFont(a.font.size),color:p}),o("min"),u(t,e,o,"linear"),l(t,e,o,"linear",{}),s(t,e,o,{outerTicks:!0}),o("showticklabels")&&(n.coerceFont(o,"tickfont",{family:a.font.family,size:a.font.size,color:p}),o("tickangle"),o("tickformat")),c(t,e,o,{dfltColor:f,bgColor:a.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i}),o("hoverformat"),o("layer")}t.exports=function(t,e,a){o(t,e,a,{type:"ternary",attributes:d,handleDefaults:p,font:e.font,paper_bgcolor:e.paper_bgcolor})}},77989:function(t,e,a){var r=a(62258),i=a(91771),n=a(62282),o=a(47401),l=o.strTranslate,s=o._,u=a(31454),c=a(41707),d=a(58947),f=a(87241).extendFlat,p=a(35722),h=a(37762),g=a(52783),m=a(21661),y=a(42910),v=y.freeMode,x=y.rectMode,_=a(50075),b=a(88987).prepSelect,k=a(88987).selectOnClick,w=a(88987).clearSelect,M=a(88987).clearSelectionsCache,A=a(56890);function D(t,e){this.id=t.id,this.graphDiv=t.graphDiv,this.init(e),this.makeFramework(e),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}t.exports=D;var T=D.prototype;T.init=function(t){this.container=t._ternarylayer,this.defs=t._defs,this.layoutId=t._uid,this.traceHash={},this.layers={}},T.plot=function(t,e){var a=this,r=e[a.id],i=e._size;a._hasClipOnAxisFalse=!1;for(var n=0;n<t.length;n++){if(!1===t[n][0].trace.cliponaxis){a._hasClipOnAxisFalse=!0;break}}a.updateLayers(r),a.adjustLayout(r,i),p.generalUpdatePerTraceModule(a.graphDiv,a,t,r),a.layers.plotbg.select("path").call(u.fill,r.bgcolor)},T.makeFramework=function(t){var e=this,a=e.graphDiv,r=t[e.id],i=e.clipId="clip"+e.layoutId+e.id,n=e.clipIdRelative="clip-relative"+e.layoutId+e.id;e.clipDef=o.ensureSingleById(t._clips,"clipPath",i,(function(t){t.append("path").attr("d","M0,0Z")})),e.clipDefRelative=o.ensureSingleById(t._clips,"clipPath",n,(function(t){t.append("path").attr("d","M0,0Z")})),e.plotContainer=o.ensureSingle(e.container,"g",e.id),e.updateLayers(r),c.setClipUrl(e.layers.backplot,i,a),c.setClipUrl(e.layers.grids,i,a)},T.updateLayers=function(t){var e=this.layers,a=["draglayer","plotbg","backplot","grids"];"below traces"===t.aaxis.layer&&a.push("aaxis","aline"),"below traces"===t.baxis.layer&&a.push("baxis","bline"),"below traces"===t.caxis.layer&&a.push("caxis","cline"),a.push("frontplot"),"above traces"===t.aaxis.layer&&a.push("aaxis","aline"),"above traces"===t.baxis.layer&&a.push("baxis","bline"),"above traces"===t.caxis.layer&&a.push("caxis","cline");var i=this.plotContainer.selectAll("g.toplevel").data(a,String),n=["agrid","bgrid","cgrid"];i.enter().append("g").attr("class",(function(t){return"toplevel "+t})).each((function(t){var a=r.select(this);e[t]=a,"frontplot"===t?a.append("g").classed("scatterlayer",!0):"backplot"===t?a.append("g").classed("maplayer",!0):"plotbg"===t?a.append("path").attr("d","M0,0Z"):"aline"===t||"bline"===t||"cline"===t?a.append("path"):"grids"===t&&n.forEach((function(t){e[t]=a.append("g").classed("grid "+t,!0)}))})),i.order()};var L=Math.sqrt(4/3);T.adjustLayout=function(t,e){var a,r,i,n,o,s,p=this,h=t.domain,g=(h.x[0]+h.x[1])/2,m=(h.y[0]+h.y[1])/2,y=h.x[1]-h.x[0],v=h.y[1]-h.y[0],x=y*e.w,_=v*e.h,b=t.sum,k=t.aaxis.min,w=t.baxis.min,M=t.caxis.min;x>L*_?i=(n=_)*L:n=(i=x)/L,o=y*i/x,s=v*n/_,a=e.l+e.w*g-i/2,r=e.t+e.h*(1-m)-n/2,p.x0=a,p.y0=r,p.w=i,p.h=n,p.sum=b,p.xaxis={type:"linear",range:[k+2*M-b,b-k-2*w],domain:[g-o/2,g+o/2],_id:"x"},d(p.xaxis,p.graphDiv._fullLayout),p.xaxis.setScale(),p.xaxis.isPtWithinRange=function(t){return t.a>=p.aaxis.range[0]&&t.a<=p.aaxis.range[1]&&t.b>=p.baxis.range[1]&&t.b<=p.baxis.range[0]&&t.c>=p.caxis.range[1]&&t.c<=p.caxis.range[0]},p.yaxis={type:"linear",range:[k,b-w-M],domain:[m-s/2,m+s/2],_id:"y"},d(p.yaxis,p.graphDiv._fullLayout),p.yaxis.setScale(),p.yaxis.isPtWithinRange=function(){return!0};var A=p.yaxis.domain[0],D=p.aaxis=f({},t.aaxis,{range:[k,b-w-M],side:"left",tickangle:(+t.aaxis.tickangle||0)-30,domain:[A,A+s*L],anchor:"free",position:0,_id:"y",_length:i});d(D,p.graphDiv._fullLayout),D.setScale();var T=p.baxis=f({},t.baxis,{range:[b-k-M,w],side:"bottom",domain:p.xaxis.domain,anchor:"free",position:0,_id:"x",_length:i});d(T,p.graphDiv._fullLayout),T.setScale();var C=p.caxis=f({},t.caxis,{range:[b-k-w,M],side:"right",tickangle:(+t.caxis.tickangle||0)+30,domain:[A,A+s*L],anchor:"free",position:0,_id:"y",_length:i});d(C,p.graphDiv._fullLayout),C.setScale();var F="M"+a+","+(r+n)+"h"+i+"l-"+i/2+",-"+n+"Z";p.clipDef.select("path").attr("d",F),p.layers.plotbg.select("path").attr("d",F);var I="M0,"+n+"h"+i+"l-"+i/2+",-"+n+"Z";p.clipDefRelative.select("path").attr("d",I);var S=l(a,r);p.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",S),p.clipDefRelative.select("path").attr("transform",null);var P=l(a-T._offset,r+n);p.layers.baxis.attr("transform",P),p.layers.bgrid.attr("transform",P);var O=l(a+i/2,r)+"rotate(30)"+l(0,-D._offset);p.layers.aaxis.attr("transform",O),p.layers.agrid.attr("transform",O);var z=l(a+i/2,r)+"rotate(-30)"+l(0,-C._offset);p.layers.caxis.attr("transform",z),p.layers.cgrid.attr("transform",z),p.drawAxes(!0),p.layers.aline.select("path").attr("d",D.showline?"M"+a+","+(r+n)+"l"+i/2+",-"+n:"M0,0").call(u.stroke,D.linecolor||"#000").style("stroke-width",(D.linewidth||0)+"px"),p.layers.bline.select("path").attr("d",T.showline?"M"+a+","+(r+n)+"h"+i:"M0,0").call(u.stroke,T.linecolor||"#000").style("stroke-width",(T.linewidth||0)+"px"),p.layers.cline.select("path").attr("d",C.showline?"M"+(a+i/2)+","+r+"l"+i/2+","+n:"M0,0").call(u.stroke,C.linecolor||"#000").style("stroke-width",(C.linewidth||0)+"px"),p.graphDiv._context.staticPlot||p.initInteractions(),c.setClipUrl(p.layers.frontplot,p._hasClipOnAxisFalse?null:p.clipId,p.graphDiv)},T.drawAxes=function(t){var e=this,a=e.graphDiv,r=e.id.substr(7)+"title",i=e.layers,n=e.aaxis,o=e.baxis,l=e.caxis;if(e.drawAx(n),e.drawAx(o),e.drawAx(l),t){var u=Math.max(n.showticklabels?n.tickfont.size/2:0,(l.showticklabels?.75*l.tickfont.size:0)+("outside"===l.ticks?.87*l.ticklen:0)),c=(o.showticklabels?o.tickfont.size:0)+("outside"===o.ticks?o.ticklen:0)+3;i["a-title"]=_.draw(a,"a"+r,{propContainer:n,propName:e.id+".aaxis.title",placeholder:s(a,"Click to enter Component A title"),attributes:{x:e.x0+e.w/2,y:e.y0-n.title.font.size/3-u,"text-anchor":"middle"}}),i["b-title"]=_.draw(a,"b"+r,{propContainer:o,propName:e.id+".baxis.title",placeholder:s(a,"Click to enter Component B title"),attributes:{x:e.x0-c,y:e.y0+e.h+.83*o.title.font.size+c,"text-anchor":"middle"}}),i["c-title"]=_.draw(a,"c"+r,{propContainer:l,propName:e.id+".caxis.title",placeholder:s(a,"Click to enter Component C title"),attributes:{x:e.x0+e.w+c,y:e.y0+e.h+.83*l.title.font.size+c,"text-anchor":"middle"}})}},T.drawAx=function(t){var e,a=this,r=a.graphDiv,i=t._name,n=i.charAt(0),l=t._id,s=a.layers[i],u=n+"tickLayout",c=(e=t).ticks+String(e.ticklen)+String(e.showticklabels);a[u]!==c&&(s.selectAll("."+l+"tick").remove(),a[u]=c),t.setScale();var d=h.calcTicks(t),f=h.clipEnds(t,d),p=h.makeTransTickFn(t),g=h.getTickSigns(t)[2],m=o.deg2rad(30),y=g*(t.linewidth||1)/2,v=g*t.ticklen,x=a.w,_=a.h,b="b"===n?"M0,"+y+"l"+Math.sin(m)*v+","+Math.cos(m)*v:"M"+y+",0l"+Math.cos(m)*v+","+-Math.sin(m)*v,k={a:"M0,0l"+_+",-"+x/2,b:"M0,0l-"+x/2+",-"+_,c:"M0,0l-"+_+","+x/2}[n];h.drawTicks(r,t,{vals:"inside"===t.ticks?f:d,layer:s,path:b,transFn:p,crisp:!1}),h.drawGrid(r,t,{vals:f,layer:a.layers[n+"grid"],path:k,transFn:p,crisp:!1}),h.drawLabels(r,t,{vals:d,layer:s,transFn:p,labelFns:h.makeLabelFns(t,0,30)})};var C=A.MINZOOM/2+.87,F="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(.87*C+4.5)+"l2.6,1.5l-"+C/2+","+.87*C+"Z",I="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-2.6,1.5l"+C/2+","+.87*C+"Z",S="m0,1l"+C/2+","+.87*C+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-"+(C/2+2.6)+","+(.87*C+4.5)+"l2.6,1.5l"+C/2+",-"+.87*C+"Z",P=!0;function O(t){r.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}T.clearSelect=function(){M(this.dragOptions),w(this.dragOptions.gd)},T.initInteractions=function(){var t,e,a,r,d,f,p,h,y,_,w,M,D=this,T=D.layers.plotbg.select("path").node(),C=D.graphDiv,z=C._fullLayout._zoomlayer;function R(t){var e={};return e[D.id+".aaxis.min"]=t.a,e[D.id+".baxis.min"]=t.b,e[D.id+".caxis.min"]=t.c,e}function j(t,e){var a=C._fullLayout.clickmode;O(C),2===t&&(C.emit("plotly_doubleclick",null),n.call("_guiRelayout",C,R({a:0,b:0,c:0}))),a.indexOf("select")>-1&&1===t&&k(e,C,[D.xaxis],[D.yaxis],D.id,D.dragOptions),a.indexOf("event")>-1&&m.click(C,e,D.id)}function N(t,e){return 1-e/D.h}function U(t,e){return 1-(t+(D.h-e)/Math.sqrt(3))/D.w}function B(t,e){return(t-(D.h-e)/Math.sqrt(3))/D.w}function G(i,n){var o=a+i*t,l=r+n*e,s=Math.max(0,Math.min(1,N(0,r),N(0,l))),u=Math.max(0,Math.min(1,U(a,r),U(o,l))),c=Math.max(0,Math.min(1,B(a,r),B(o,l))),g=(s/2+c)*D.w,m=(1-s/2-u)*D.w,v=(g+m)/2,x=m-g,b=(1-s)*D.h,k=b-x/L;x<A.MINZOOM?(p=d,w.attr("d",y),M.attr("d","M0,0Z")):(p={a:d.a+s*f,b:d.b+u*f,c:d.c+c*f},w.attr("d",y+"M"+g+","+b+"H"+m+"L"+v+","+k+"L"+g+","+b+"Z"),M.attr("d","M"+a+","+r+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+g+","+b+F+"M"+m+","+b+I+"M"+v+","+k+S)),_||(w.transition().style("fill",h>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),M.transition().style("opacity",1).duration(200),_=!0),C.emit("plotly_relayouting",R(p))}function H(){O(C),p!==d&&(n.call("_guiRelayout",C,R(p)),P&&C.data&&C._context.showTips&&(o.notifier(s(C,"Double-click to zoom back out"),"long"),P=!1))}function Z(t,e){var a=t/D.xaxis._m,r=e/D.yaxis._m,i=[(p={a:d.a-r,b:d.b+(a+r)/2,c:d.c-(a-r)/2}).a,p.b,p.c].sort(o.sorterAsc),n=i.indexOf(p.a),s=i.indexOf(p.b),u=i.indexOf(p.c);i[0]<0&&(i[1]+i[0]/2<0?(i[2]+=i[0]+i[1],i[0]=i[1]=0):(i[2]+=i[0]/2,i[1]+=i[0]/2,i[0]=0),p={a:i[n],b:i[s],c:i[u]},e=(d.a-p.a)*D.yaxis._m,t=(d.c-p.c-d.b+p.b)*D.xaxis._m);var f=l(D.x0+t,D.y0+e);D.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",f);var h=l(-t,-e);D.clipDefRelative.select("path").attr("transform",h),D.aaxis.range=[p.a,D.sum-p.b-p.c],D.baxis.range=[D.sum-p.a-p.c,p.b],D.caxis.range=[D.sum-p.a-p.b,p.c],D.drawAxes(!1),D._hasClipOnAxisFalse&&D.plotContainer.select(".scatterlayer").selectAll(".trace").call(c.hideOutsideRangePoints,D),C.emit("plotly_relayouting",R(p))}function q(){n.call("_guiRelayout",C,R(p))}this.dragOptions={element:T,gd:C,plotinfo:{id:D.id,domain:C._fullLayout[D.id].domain,xaxis:D.xaxis,yaxis:D.yaxis},subplot:D.id,prepFn:function(n,s,c){D.dragOptions.xaxes=[D.xaxis],D.dragOptions.yaxes=[D.yaxis],t=C._fullLayout._invScaleX,e=C._fullLayout._invScaleY;var g=D.dragOptions.dragmode=C._fullLayout.dragmode;v(g)?D.dragOptions.minDrag=1:D.dragOptions.minDrag=void 0,"zoom"===g?(D.dragOptions.moveFn=G,D.dragOptions.clickFn=j,D.dragOptions.doneFn=H,function(t,e,n){var s=T.getBoundingClientRect();a=e-s.left,r=n-s.top,C._fullLayout._calcInverseTransform(C);var c=C._fullLayout._invTransform,g=o.apply3DTransform(c)(a,r);a=g[0],r=g[1],d={a:D.aaxis.range[0],b:D.baxis.range[1],c:D.caxis.range[1]},p=d,f=D.aaxis.range[1]-d.a,h=i(D.graphDiv._fullLayout[D.id].bgcolor).getLuminance(),y="M0,"+D.h+"L"+D.w/2+", 0L"+D.w+","+D.h+"Z",_=!1,w=z.append("path").attr("class","zoombox").attr("transform",l(D.x0,D.y0)).style({fill:h>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",y),M=z.append("path").attr("class","zoombox-corners").attr("transform",l(D.x0,D.y0)).style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),D.clearSelect(C)}(0,s,c)):"pan"===g?(D.dragOptions.moveFn=Z,D.dragOptions.clickFn=j,D.dragOptions.doneFn=q,d={a:D.aaxis.range[0],b:D.baxis.range[1],c:D.caxis.range[1]},p=d,D.clearSelect(C)):(x(g)||v(g))&&b(n,s,c,D.dragOptions,g)}},T.onmousemove=function(t){m.hover(C,t,D.id),C._fullLayout._lasthover=T,C._fullLayout._hoversubplot=D.id},T.onmouseout=function(t){C._dragging||g.unhover(C,t)},g.init(this.dragOptions)}}}]);